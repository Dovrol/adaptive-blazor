{
  "version": 3,
  "sources": ["../node_modules/@microsoft/fast-element/dist/esm/interfaces.js", "../node_modules/@microsoft/fast-element/dist/esm/polyfills.js", "../node_modules/@microsoft/fast-element/dist/esm/platform.js", "../node_modules/@microsoft/fast-element/dist/esm/dom.js", "../node_modules/@microsoft/fast-element/dist/esm/observation/update-queue.js", "../node_modules/@microsoft/fast-element/dist/esm/observation/notifier.js", "../node_modules/@microsoft/fast-element/dist/esm/observation/observable.js", "../node_modules/@microsoft/fast-element/dist/esm/observation/arrays.js", "../node_modules/@microsoft/fast-element/dist/esm/binding/binding.js", "../node_modules/@microsoft/fast-element/dist/esm/binding/one-way.js", "../node_modules/@microsoft/fast-element/dist/esm/binding/one-time.js", "../node_modules/@microsoft/fast-element/dist/esm/binding/normalize.js", "../node_modules/@microsoft/fast-element/dist/esm/styles/element-styles.js", "../node_modules/@microsoft/fast-element/dist/esm/styles/css-directive.js", "../node_modules/@microsoft/fast-element/dist/esm/styles/css-binding-directive.js", "../node_modules/@microsoft/fast-element/dist/esm/styles/css.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/markup.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/html-directive.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/html-binding-directive.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/view.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/compiler.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/template.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/ref.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/when.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js", "../node_modules/@microsoft/fast-element/dist/esm/templating/children.js", "../node_modules/@microsoft/fast-element/dist/esm/components/attributes.js", "../node_modules/@microsoft/fast-element/dist/esm/components/fast-definitions.js", "../node_modules/@microsoft/fast-element/dist/esm/components/element-controller.js", "../node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js", "../node_modules/culori/src/rgb/parseNumber.js", "../node_modules/culori/src/colors/named.js", "../node_modules/culori/src/rgb/parseNamed.js", "../node_modules/culori/src/rgb/parseHex.js", "../node_modules/culori/src/util/regex.js", "../node_modules/culori/src/rgb/parseRgbLegacy.js", "../node_modules/culori/src/_prepare.js", "../node_modules/culori/src/converter.js", "../node_modules/culori/src/modes.js", "../node_modules/culori/src/parse.js", "../node_modules/culori/src/rgb/parseRgb.js", "../node_modules/culori/src/rgb/parseTransparent.js", "../node_modules/culori/src/interpolate/lerp.js", "../node_modules/culori/src/interpolate/piecewise.js", "../node_modules/culori/src/interpolate/linear.js", "../node_modules/culori/src/fixup/alpha.js", "../node_modules/culori/src/rgb/definition.js", "../node_modules/culori/src/lrgb/convertRgbToLrgb.js", "../node_modules/culori/src/lrgb/convertLrgbToRgb.js", "../node_modules/culori/src/util/normalizeHue.js", "../node_modules/culori/src/fixup/hue.js", "../node_modules/culori/src/difference.js", "../node_modules/culori/src/average.js", "../node_modules/culori/src/hsl/convertHslToRgb.js", "../node_modules/culori/src/hsl/convertRgbToHsl.js", "../node_modules/culori/src/util/hue.js", "../node_modules/culori/src/hsl/parseHslLegacy.js", "../node_modules/culori/src/hsl/parseHsl.js", "../node_modules/culori/src/hsl/definition.js", "../node_modules/culori/src/lrgb/definition.js", "../node_modules/culori/src/oklab/convertLrgbToOklab.js", "../node_modules/culori/src/oklab/convertRgbToOklab.js", "../node_modules/culori/src/oklab/convertOklabToLrgb.js", "../node_modules/culori/src/oklab/convertOklabToRgb.js", "../node_modules/culori/src/okhsl/helpers.js", "../node_modules/culori/src/okhsl/convertOklabToOkhsl.js", "../node_modules/culori/src/okhsl/convertOkhslToOklab.js", "../node_modules/culori/src/okhsl/modeOkhsl.js", "../node_modules/culori/src/round.js", "../node_modules/culori/src/formatter.js", "../node_modules/culori/src/map.js", "../node_modules/culori/src/util/normalizePositions.js", "../node_modules/culori/src/easing/midpoint.js", "../node_modules/culori/src/interpolate/interpolate.js", "../node_modules/culori/src/easing/gamma.js", "../node_modules/culori/src/samples.js", "../node_modules/culori/src/clamp.js", "../node_modules/culori/src/wcag.js", "../node_modules/tslib/tslib.es6.mjs", "../node_modules/@adaptive-web/adaptive-ui/src/color/utilities/relative-luminance.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/color.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/swatch.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/utilities/color-constants.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/recipes/black-or-white-by-contrast.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/recipes/black-or-white-by-contrast-set.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/utilities/binary-search.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/utilities/is-dark.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/utilities/direction-by-is-dark.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/palette.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/recipes/contrast-and-delta-swatch-set.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/recipes/contrast-swatch.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/recipes/delta-swatch-set.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/recipes/delta-swatch.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/utilities/luminance-swatch.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/utilities/opacity.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/palette-okhsl.ts", "../node_modules/@microsoft/fast-foundation/dist/esm/utilities/template-helpers.js", "../node_modules/@microsoft/fast-foundation/dist/esm/patterns/tag-for.js", "../node_modules/@microsoft/fast-foundation/dist/esm/patterns/aria-global.js", "../node_modules/@microsoft/fast-foundation/dist/esm/patterns/start-end.js", "../node_modules/@microsoft/fast-foundation/dist/esm/accordion-item/accordion-item.template.js", "../node_modules/@microsoft/fast-web-utilities/dist/aria.js", "../node_modules/@microsoft/fast-web-utilities/dist/array.js", "../node_modules/@microsoft/fast-web-utilities/dist/dom.js", "../node_modules/@microsoft/fast-web-utilities/dist/events.js", "../node_modules/@microsoft/fast-web-utilities/dist/key-codes.js", "../node_modules/@microsoft/fast-web-utilities/dist/localization.js", "../node_modules/@microsoft/fast-web-utilities/dist/numbers.js", "../node_modules/@microsoft/fast-web-utilities/dist/strings.js", "../node_modules/@microsoft/fast-foundation/dist/esm/utilities/apply-mixins.js", "../node_modules/@microsoft/fast-foundation/dist/esm/accordion-item/accordion-item.js", "../node_modules/@microsoft/fast-foundation/dist/esm/accordion/accordion.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/accordion/accordion.js", "../node_modules/@microsoft/fast-foundation/dist/esm/accordion/accordion.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/anchor/anchor.js", "../node_modules/@microsoft/fast-foundation/dist/esm/anchor/anchor.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/anchored-region/anchored-region-config.js", "../node_modules/@microsoft/fast-foundation/dist/esm/utilities/direction.js", "../node_modules/@microsoft/fast-foundation/dist/esm/utilities/intersection-service.js", "../node_modules/@microsoft/fast-foundation/dist/esm/anchored-region/anchored-region.js", "../node_modules/@microsoft/fast-foundation/dist/esm/anchored-region/anchored-region.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/avatar/avatar.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/avatar/avatar.js", "../node_modules/@microsoft/fast-foundation/dist/esm/badge/badge.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/badge/badge.js", "../node_modules/@microsoft/fast-foundation/dist/esm/breadcrumb-item/breadcrumb-item.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/breadcrumb-item/breadcrumb-item.js", "../node_modules/@microsoft/fast-foundation/dist/esm/breadcrumb/breadcrumb.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/breadcrumb/breadcrumb.js", "../node_modules/@microsoft/fast-foundation/dist/esm/form-associated/form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/button/button.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/button/button.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/button/button.js", "../node_modules/@microsoft/fast-foundation/dist/esm/button/button.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/calendar/calendar.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/calendar/date-formatter.js", "../node_modules/@microsoft/fast-foundation/dist/esm/calendar/calendar.js", "../node_modules/@microsoft/fast-foundation/dist/esm/calendar/calendar.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/card/card.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/card/card.js", "../node_modules/@microsoft/fast-foundation/dist/esm/checkbox/checkbox.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/checkbox/checkbox.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/checkbox/checkbox.js", "../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs", "../node_modules/@floating-ui/core/dist/floating-ui.core.mjs", "../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs", "../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs", "../node_modules/@microsoft/fast-foundation/dist/esm/listbox-option/listbox-option.js", "../node_modules/@microsoft/fast-foundation/dist/esm/listbox/listbox.js", "../node_modules/@microsoft/fast-foundation/dist/esm/combobox/combobox.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/combobox/combobox.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/combobox/combobox.js", "../node_modules/@microsoft/fast-foundation/dist/esm/combobox/combobox.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid.template.js", "../node_modules/@microsoft/fast-element/dist/esm/utilities.js", "../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid.js", "../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid-row.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid-row.js", "../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid-cell.template.js", "../node_modules/tabbable/src/index.js", "../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid-cell.js", "../node_modules/@microsoft/fast-foundation/dist/esm/design-token/core/design-token-node.js", "../node_modules/@microsoft/fast-foundation/dist/esm/design-token/custom-property-manager.js", "../node_modules/@microsoft/fast-foundation/dist/esm/design-token/fast-design-token.js", "../node_modules/@microsoft/fast-foundation/dist/esm/dialog/dialog.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/dialog/dialog.js", "../node_modules/@microsoft/fast-foundation/dist/esm/disclosure/disclosure.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/disclosure/disclosure.js", "../node_modules/@microsoft/fast-foundation/dist/esm/divider/divider.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/divider/divider.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/divider/divider.js", "../node_modules/@microsoft/fast-foundation/dist/esm/flipper/flipper.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/flipper/flipper.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/flipper/flipper.js", "../node_modules/@microsoft/fast-foundation/dist/esm/listbox-option/listbox-option.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/listbox/listbox.element.js", "../node_modules/@microsoft/fast-foundation/dist/esm/listbox/listbox.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-list-item.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-list-item.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-list.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-list.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-menu-option.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-menu-option.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-menu.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-menu.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker.js", "../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/menu-item/menu-item.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/menu-item/menu-item.js", "../node_modules/@microsoft/fast-foundation/dist/esm/menu/menu.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/menu/menu.js", "../node_modules/@microsoft/fast-foundation/dist/esm/number-field/number-field.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/text-field/text-field.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/text-field/text-field.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/text-field/text-field.js", "../node_modules/@microsoft/fast-foundation/dist/esm/number-field/number-field.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/number-field/number-field.js", "../node_modules/@microsoft/fast-foundation/dist/esm/progress/base-progress.js", "../node_modules/@microsoft/fast-foundation/dist/esm/progress-ring/progress-ring.js", "../node_modules/@microsoft/fast-foundation/dist/esm/progress/progress.js", "../node_modules/@microsoft/fast-foundation/dist/esm/radio-group/radio-group.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/radio-group/radio-group.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/utilities/whitespace-filter.js", "../node_modules/@microsoft/fast-foundation/dist/esm/radio/radio.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/radio/radio.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/radio/radio.js", "../node_modules/@microsoft/fast-foundation/dist/esm/radio-group/radio-group.js", "../node_modules/@microsoft/fast-foundation/dist/esm/horizontal-scroll/horizontal-scroll.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/horizontal-scroll/horizontal-scroll.js", "../node_modules/@microsoft/fast-foundation/dist/esm/search/search.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/search/search.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/search/search.js", "../node_modules/@microsoft/fast-foundation/dist/esm/select/select.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/select/select.js", "../node_modules/@microsoft/fast-foundation/dist/esm/select/select.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/skeleton/skeleton.js", "../node_modules/@microsoft/fast-foundation/dist/esm/slider/slider.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/slider/slider-utilities.js", "../node_modules/@microsoft/fast-foundation/dist/esm/slider-label/slider-label.js", "../node_modules/@microsoft/fast-foundation/dist/esm/slider/slider.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/slider/slider.js", "../node_modules/@microsoft/fast-foundation/dist/esm/switch/switch.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/switch/switch.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/switch/switch.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tab-panel/tab-panel.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tab-panel/tab-panel.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tab/tab.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tab/tab.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tabs/tabs.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tabs/tabs.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tabs/tabs.js", "../node_modules/@microsoft/fast-foundation/dist/esm/text-area/text-area.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/text-area/text-area.form-associated.js", "../node_modules/@microsoft/fast-foundation/dist/esm/text-area/text-area.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/text-area/text-area.js", "../node_modules/@microsoft/fast-foundation/dist/esm/text-field/text-field.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/toolbar/toolbar.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/toolbar/toolbar.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/toolbar/toolbar.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tooltip/tooltip.options.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tooltip/tooltip.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tooltip/tooltip.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tree-item/tree-item.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tree-view/tree-view.template.js", "../node_modules/@microsoft/fast-foundation/dist/esm/tree-view/tree-view.js", "../node_modules/@adaptive-web/adaptive-ui/src/apply-mixins.ts", "../node_modules/@adaptive-web/adaptive-ui/src/adaptive-design-tokens.ts", "../node_modules/@adaptive-web/adaptive-ui/src/modules/types.ts", "../node_modules/@adaptive-web/adaptive-ui/src/token-helpers.ts", "../node_modules/@adaptive-web/adaptive-ui/src/design-tokens/appearance.ts", "../node_modules/@adaptive-web/adaptive-ui/src/density/index.ts", "../node_modules/@adaptive-web/adaptive-ui/src/modules/selector.ts", "../node_modules/@adaptive-web/adaptive-ui/src/modules/css.ts", "../node_modules/@adaptive-web/adaptive-ui/src/modules/element-styles-renderer.ts", "../node_modules/@adaptive-web/adaptive-ui/src/token-helpers-color.ts", "../node_modules/@adaptive-web/adaptive-ui/src/modules/styles.ts", "../node_modules/@adaptive-web/adaptive-ui/src/color/utilities/conditional.ts", "../node_modules/@adaptive-web/adaptive-ui/src/design-tokens/palette.ts", "../node_modules/@adaptive-web/adaptive-ui/src/design-tokens/color.ts", "../node_modules/@adaptive-web/adaptive-ui/src/design-tokens/density.ts", "../node_modules/@adaptive-web/adaptive-ui/src/shadow/index.ts", "../node_modules/@adaptive-web/adaptive-ui/src/design-tokens/elevation.ts", "../node_modules/@adaptive-web/adaptive-ui/src/design-tokens/layer.ts", "../node_modules/@adaptive-web/adaptive-ui/src/design-tokens/type.ts", "../node_modules/@adaptive-web/adaptive-ui/src/design-tokens/modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/global.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/design-system.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/styles/styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/accordion/accordion.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/accordion/accordion.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/accordion/accordion.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/accordion/accordion.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/accordion-item/accordion-item.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/accordion-item/accordion-item.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/accordion-item/accordion-item.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/accordion-item/accordion-item.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/anchor/anchor.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/anchor/anchor.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/anchor/anchor.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/anchor/anchor.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/anchor/anchor.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/anchored-region/anchored-region.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/anchored-region/anchored-region.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/anchored-region/anchored-region.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/anchored-region/anchored-region.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/styles/index.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/avatar/avatar.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/avatar/avatar.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/avatar/avatar.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/avatar/avatar.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/badge/badge.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/badge/badge.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/badge/badge.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/badge/badge.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/breadcrumb/breadcrumb.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/breadcrumb/breadcrumb.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/breadcrumb/breadcrumb.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/breadcrumb/breadcrumb.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/breadcrumb-item/breadcrumb-item.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/breadcrumb-item/breadcrumb-item.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/breadcrumb-item/breadcrumb-item.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/breadcrumb-item/breadcrumb-item.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/breadcrumb-item/breadcrumb-item.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/button/button.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/button/button.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/button/button.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/button/button.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/button/button.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/calendar/calendar.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid-cell/data-grid-cell.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid-cell/data-grid-cell.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid-cell/data-grid-cell.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid-cell/data-grid-cell.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid-row/data-grid-row.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid-row/data-grid-row.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid-row/data-grid-row.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid-row/data-grid-row.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid/data-grid.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid/data-grid.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid/data-grid.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid/data-grid.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/calendar/calendar.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/calendar/calendar.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/calendar/calendar.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/card/card.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/card/card.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/card/card.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/card/card.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/checkbox/checkbox.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/checkbox/checkbox.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/checkbox/checkbox.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/checkbox/checkbox.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/combobox/combobox.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/combobox/combobox.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/combobox/combobox.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/combobox/combobox.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/combobox/combobox.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/dialog/dialog.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/dialog/dialog.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/dialog/dialog.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/dialog/dialog.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/disclosure/disclosure.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/disclosure/disclosure.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/disclosure/disclosure.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/disclosure/disclosure.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/divider/divider.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/divider/divider.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/divider/divider.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/divider/divider.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/flipper/flipper.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/flipper/flipper.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/flipper/flipper.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/flipper/flipper.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/horizontal-scroll/horizontal-scroll.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/horizontal-scroll/horizontal-scroll.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/horizontal-scroll/horizontal-scroll.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/horizontal-scroll/horizontal-scroll.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/horizontal-scroll/horizontal-scroll.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/listbox/listbox.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/listbox/listbox.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/listbox/listbox.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/listbox/listbox.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/listbox-option/listbox-option.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/listbox-option/listbox-option.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/listbox-option/listbox-option.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/listbox-option/listbox-option.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu-item/menu-item.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu/menu.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu/menu.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu/menu.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu/menu.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu/menu.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu-item/menu-item.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu-item/menu-item.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu-item/menu-item.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu-item/menu-item.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/number-field/number-field.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/number-field/number-field.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/number-field/number-field.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/number-field/number-field.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/number-field/number-field.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker/picker.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-list/picker-list.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-list/picker-list.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-list/picker-list.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-list/picker-list.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-menu/picker-menu.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-menu/picker-menu.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-menu/picker-menu.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-menu/picker-menu.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-list-item/picker-list-item.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-list-item/picker-list-item.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-list-item/picker-list-item.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-list-item/picker-list-item.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-menu-option/picker-menu-option.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-menu-option/picker-menu-option.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-menu-option/picker-menu-option.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-menu-option/picker-menu-option.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/progress-ring/progress-ring.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/progress-ring/progress-ring.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/progress-ring/progress-ring.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/progress-ring/progress-ring.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker/picker.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker/picker.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker/picker.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/progress/progress.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/progress/progress.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/progress/progress.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/progress/progress.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/radio/radio.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/radio/radio.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/radio/radio.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/radio/radio.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/radio-group/radio-group.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/radio-group/radio-group.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/radio-group/radio-group.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/radio-group/radio-group.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/search/search.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/search/search.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/search/search.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/search/search.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/search/search.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/select/select.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/select/select.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/select/select.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/select/select.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/select/select.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/skeleton/skeleton.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/skeleton/skeleton.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/skeleton/skeleton.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/skeleton/skeleton.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/slider/slider.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/slider/slider.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/slider/slider.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/slider/slider.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/slider-label/slider-label.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/slider-label/slider-label.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/slider-label/slider-label.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/slider-label/slider-label.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/switch/switch.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/switch/switch.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/switch/switch.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/switch/switch.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tab/tab.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tab/tab.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tab/tab.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tab/tab.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tab-panel/tab-panel.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tab-panel/tab-panel.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tab-panel/tab-panel.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tab-panel/tab-panel.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tabs/tabs.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tabs/tabs.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tabs/tabs.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tabs/tabs.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-area/text-area.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-area/text-area.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-area/text-area.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-area/text-area.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-area/text-area.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-field/text-field.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-field/text-field.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-field/text-field.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-field/text-field.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-field/text-field.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/toolbar/toolbar.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/toolbar/toolbar.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/toolbar/toolbar.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/toolbar/toolbar.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tooltip/tooltip.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tooltip/tooltip.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tooltip/tooltip.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tooltip/tooltip.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tree-item/tree-item.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tree-item/tree-item.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tree-item/tree-item.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tree-item/tree-item.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tree-view/tree-view.styles.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tree-view/tree-view.template.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tree-view/tree-view.compose.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tree-view/tree-view.styles.modules.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/accordion/accordion.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/assets.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/accordion-item/accordion-item.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/anchor/anchor.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/anchored-region/anchored-region.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/avatar/avatar.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/badge/badge.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/breadcrumb/breadcrumb.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/breadcrumb-item/breadcrumb-item.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/button/button.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/calendar/calendar.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/card/card.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/checkbox/checkbox.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/combobox/combobox.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid/data-grid.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid-cell/data-grid-cell.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/data-grid-row/data-grid-row.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/dialog/dialog.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/disclosure/disclosure.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/divider/divider.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/flipper/flipper.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/horizontal-scroll/horizontal-scroll.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/listbox/listbox.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/listbox-option/listbox-option.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu/menu.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/menu-item/menu-item.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/number-field/number-field.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker/picker.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-list/picker-list.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-list-item/picker-list-item.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-menu/picker-menu.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/picker-menu-option/picker-menu-option.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/progress/progress.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/progress-ring/progress-ring.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/radio/radio.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/radio-group/radio-group.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/search/search.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/select/select.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/skeleton/skeleton.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/slider/slider.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/slider-label/slider-label.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/switch/switch.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tab/tab.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tab-panel/tab-panel.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tabs/tabs.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-area/text-area.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/text-field/text-field.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/toolbar/toolbar.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tooltip/tooltip.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tree-item/tree-item.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/components/tree-view/tree-view.definition.ts", "../node_modules/@adaptive-web/adaptive-web-components/src/custom-elements.ts", "../src/index.js"],
  "sourcesContent": ["let kernelMode;\nconst kernelAttr = \"fast-kernel\";\ntry {\n    if (document.currentScript) {\n        kernelMode = document.currentScript.getAttribute(kernelAttr);\n    }\n    else {\n        const scripts = document.getElementsByTagName(\"script\");\n        const currentScript = scripts[scripts.length - 1];\n        kernelMode = currentScript.getAttribute(kernelAttr);\n    }\n}\ncatch (e) {\n    kernelMode = \"isolate\";\n}\nlet KernelServiceId;\nswitch (kernelMode) {\n    case \"share\": // share the kernel across major versions\n        KernelServiceId = Object.freeze({\n            updateQueue: 1,\n            observable: 2,\n            contextEvent: 3,\n            elementRegistry: 4,\n        });\n        break;\n    case \"share-v2\": // only share the kernel with other v2 instances\n        KernelServiceId = Object.freeze({\n            updateQueue: 1.2,\n            observable: 2.2,\n            contextEvent: 3.2,\n            elementRegistry: 4.2,\n        });\n        break;\n    default:\n        // fully isolate the kernel from all other FAST instances\n        const postfix = `-${Math.random().toString(36).substring(2, 8)}`;\n        KernelServiceId = Object.freeze({\n            updateQueue: `1.2${postfix}`,\n            observable: `2.2${postfix}`,\n            contextEvent: `3.2${postfix}`,\n            elementRegistry: `4.2${postfix}`,\n        });\n        break;\n}\nexport { KernelServiceId };\n/**\n * Determines whether or not an object is a function.\n * @public\n */\nexport const isFunction = (object) => typeof object === \"function\";\n/**\n * Determines whether or not an object is a string.\n * @public\n */\nexport const isString = (object) => typeof object === \"string\";\n/**\n * A function which does nothing.\n * @public\n */\nexport const noop = () => void 0;\n", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n(function ensureGlobalThis() {\n    if (typeof globalThis !== \"undefined\") {\n        // We're running in a modern environment.\n        return;\n    }\n    // @ts-ignore\n    if (typeof global !== \"undefined\") {\n        // We're running in NodeJS\n        // @ts-ignore\n        global.globalThis = global;\n    }\n    else if (typeof self !== \"undefined\") {\n        self.globalThis = self;\n    }\n    else if (typeof window !== \"undefined\") {\n        // We're running in the browser's main thread.\n        window.globalThis = window;\n    }\n    else {\n        // Hopefully we never get here...\n        // Not all environments allow eval and Function. Use only as a last resort:\n        // eslint-disable-next-line no-new-func\n        const result = new Function(\"return this\")();\n        result.globalThis = result;\n    }\n})();\n", "import { noop } from \"./interfaces.js\";\nimport \"./polyfills.js\";\n// ensure FAST global - duplicated debug.ts\nconst propConfig = {\n    configurable: false,\n    enumerable: false,\n    writable: false,\n};\nif (globalThis.FAST === void 0) {\n    Reflect.defineProperty(globalThis, \"FAST\", Object.assign({ value: Object.create(null) }, propConfig));\n}\n/**\n * The FAST global.\n * @public\n */\nexport const FAST = globalThis.FAST;\nif (FAST.getById === void 0) {\n    const storage = Object.create(null);\n    Reflect.defineProperty(FAST, \"getById\", Object.assign({ value(id, initialize) {\n            let found = storage[id];\n            if (found === void 0) {\n                found = initialize ? (storage[id] = initialize()) : null;\n            }\n            return found;\n        } }, propConfig));\n}\nif (FAST.error === void 0) {\n    Object.assign(FAST, {\n        warn() { },\n        error(code) {\n            return new Error(`Error ${code}`);\n        },\n        addMessages() { },\n    });\n}\n/**\n * A readonly, empty array.\n * @remarks\n * Typically returned by APIs that return arrays when there are\n * no actual items to return.\n * @public\n */\nexport const emptyArray = Object.freeze([]);\n/**\n * Do not change. Part of shared kernel contract.\n * @internal\n */\nexport function createTypeRegistry() {\n    const typeToDefinition = new Map();\n    return Object.freeze({\n        register(definition) {\n            if (typeToDefinition.has(definition.type)) {\n                return false;\n            }\n            typeToDefinition.set(definition.type, definition);\n            return true;\n        },\n        getByType(key) {\n            return typeToDefinition.get(key);\n        },\n        getForInstance(object) {\n            if (object === null || object === void 0) {\n                return void 0;\n            }\n            return typeToDefinition.get(object.constructor);\n        },\n    });\n}\n/**\n * Creates a function capable of locating metadata associated with a type.\n * @returns A metadata locator function.\n * @internal\n */\nexport function createMetadataLocator() {\n    const metadataLookup = new WeakMap();\n    return function (target) {\n        let metadata = metadataLookup.get(target);\n        if (metadata === void 0) {\n            let currentTarget = Reflect.getPrototypeOf(target);\n            while (metadata === void 0 && currentTarget !== null) {\n                metadata = metadataLookup.get(currentTarget);\n                currentTarget = Reflect.getPrototypeOf(currentTarget);\n            }\n            metadata = metadata === void 0 ? [] : metadata.slice(0);\n            metadataLookup.set(target, metadata);\n        }\n        return metadata;\n    };\n}\n/**\n * Makes a type noop for JSON serialization.\n * @param type - The type to make noop for JSON serialization.\n * @internal\n */\nexport function makeSerializationNoop(type) {\n    type.prototype.toJSON = noop;\n}\n", "import \"./interfaces.js\";\nimport { FAST } from \"./platform.js\";\n/**\n * The type of HTML aspect to target.\n * @public\n */\nexport const DOMAspect = Object.freeze({\n    /**\n     * Not aspected.\n     */\n    none: 0,\n    /**\n     * An attribute.\n     */\n    attribute: 1,\n    /**\n     * A boolean attribute.\n     */\n    booleanAttribute: 2,\n    /**\n     * A property.\n     */\n    property: 3,\n    /**\n     * Content\n     */\n    content: 4,\n    /**\n     * A token list.\n     */\n    tokenList: 5,\n    /**\n     * An event.\n     */\n    event: 6,\n});\nconst createHTML = html => html;\nconst fastTrustedType = globalThis.trustedTypes\n    ? globalThis.trustedTypes.createPolicy(\"fast-html\", { createHTML })\n    : { createHTML };\nlet defaultPolicy = Object.freeze({\n    createHTML(value) {\n        return fastTrustedType.createHTML(value);\n    },\n    protect(tagName, aspect, aspectName, sink) {\n        return sink;\n    },\n});\nconst fastPolicy = defaultPolicy;\n/**\n * Common DOM APIs.\n * @public\n */\nexport const DOM = Object.freeze({\n    /**\n     * Gets the dom policy used by the templating system.\n     */\n    get policy() {\n        return defaultPolicy;\n    },\n    /**\n     * Sets the dom policy used by the templating system.\n     * @param policy - The policy to set.\n     * @remarks\n     * This API can only be called once, for security reasons. It should be\n     * called by the application developer at the start of their program.\n     */\n    setPolicy(value) {\n        if (defaultPolicy !== fastPolicy) {\n            throw FAST.error(1201 /* Message.onlySetDOMPolicyOnce */);\n        }\n        defaultPolicy = value;\n    },\n    /**\n     * Sets an attribute value on an element.\n     * @param element - The element to set the attribute value on.\n     * @param attributeName - The attribute name to set.\n     * @param value - The value of the attribute to set.\n     * @remarks\n     * If the value is `null` or `undefined`, the attribute is removed, otherwise\n     * it is set to the provided value using the standard `setAttribute` API.\n     */\n    setAttribute(element, attributeName, value) {\n        value === null || value === undefined\n            ? element.removeAttribute(attributeName)\n            : element.setAttribute(attributeName, value);\n    },\n    /**\n     * Sets a boolean attribute value.\n     * @param element - The element to set the boolean attribute value on.\n     * @param attributeName - The attribute name to set.\n     * @param value - The value of the attribute to set.\n     * @remarks\n     * If the value is true, the attribute is added; otherwise it is removed.\n     */\n    setBooleanAttribute(element, attributeName, value) {\n        value\n            ? element.setAttribute(attributeName, \"\")\n            : element.removeAttribute(attributeName);\n    },\n});\n", "import { KernelServiceId } from \"../interfaces.js\";\nimport { FAST } from \"../platform.js\";\n/**\n * The default UpdateQueue.\n * @public\n */\nexport const Updates = FAST.getById(KernelServiceId.updateQueue, () => {\n    const tasks = [];\n    const pendingErrors = [];\n    const rAF = globalThis.requestAnimationFrame;\n    let updateAsync = true;\n    function throwFirstError() {\n        if (pendingErrors.length) {\n            throw pendingErrors.shift();\n        }\n    }\n    function tryRunTask(task) {\n        try {\n            task.call();\n        }\n        catch (error) {\n            if (updateAsync) {\n                pendingErrors.push(error);\n                setTimeout(throwFirstError, 0);\n            }\n            else {\n                tasks.length = 0;\n                throw error;\n            }\n        }\n    }\n    function process() {\n        const capacity = 1024;\n        let index = 0;\n        while (index < tasks.length) {\n            tryRunTask(tasks[index]);\n            index++;\n            // Prevent leaking memory for long chains of recursive calls to `enqueue`.\n            // If we call `enqueue` within a task scheduled by `enqueue`, the queue will\n            // grow, but to avoid an O(n) walk for every task we execute, we don't\n            // shift tasks off the queue after they have been executed.\n            // Instead, we periodically shift 1024 tasks off the queue.\n            if (index > capacity) {\n                // Manually shift all values starting at the index back to the\n                // beginning of the queue.\n                for (let scan = 0, newLength = tasks.length - index; scan < newLength; scan++) {\n                    tasks[scan] = tasks[scan + index];\n                }\n                tasks.length -= index;\n                index = 0;\n            }\n        }\n        tasks.length = 0;\n    }\n    function enqueue(callable) {\n        tasks.push(callable);\n        if (tasks.length < 2) {\n            updateAsync ? rAF(process) : process();\n        }\n    }\n    return Object.freeze({\n        enqueue,\n        next: () => new Promise(enqueue),\n        process,\n        setMode: (isAsync) => (updateAsync = isAsync),\n    });\n});\n", "/**\n * An implementation of {@link Notifier} that efficiently keeps track of\n * subscribers interested in a specific change notification on an\n * observable subject.\n *\n * @remarks\n * This set is optimized for the most common scenario of 1 or 2 subscribers.\n * With this in mind, it can store a subscriber in an internal field, allowing it to avoid Array#push operations.\n * If the set ever exceeds two subscribers, it upgrades to an array automatically.\n * @public\n */\nexport class SubscriberSet {\n    /**\n     * Creates an instance of SubscriberSet for the specified subject.\n     * @param subject - The subject that subscribers will receive notifications from.\n     * @param initialSubscriber - An initial subscriber to changes.\n     */\n    constructor(subject, initialSubscriber) {\n        this.sub1 = void 0;\n        this.sub2 = void 0;\n        this.spillover = void 0;\n        this.subject = subject;\n        this.sub1 = initialSubscriber;\n    }\n    /**\n     * Checks whether the provided subscriber has been added to this set.\n     * @param subscriber - The subscriber to test for inclusion in this set.\n     */\n    has(subscriber) {\n        return this.spillover === void 0\n            ? this.sub1 === subscriber || this.sub2 === subscriber\n            : this.spillover.indexOf(subscriber) !== -1;\n    }\n    /**\n     * Subscribes to notification of changes in an object's state.\n     * @param subscriber - The object that is subscribing for change notification.\n     */\n    subscribe(subscriber) {\n        const spillover = this.spillover;\n        if (spillover === void 0) {\n            if (this.has(subscriber)) {\n                return;\n            }\n            if (this.sub1 === void 0) {\n                this.sub1 = subscriber;\n                return;\n            }\n            if (this.sub2 === void 0) {\n                this.sub2 = subscriber;\n                return;\n            }\n            this.spillover = [this.sub1, this.sub2, subscriber];\n            this.sub1 = void 0;\n            this.sub2 = void 0;\n        }\n        else {\n            const index = spillover.indexOf(subscriber);\n            if (index === -1) {\n                spillover.push(subscriber);\n            }\n        }\n    }\n    /**\n     * Unsubscribes from notification of changes in an object's state.\n     * @param subscriber - The object that is unsubscribing from change notification.\n     */\n    unsubscribe(subscriber) {\n        const spillover = this.spillover;\n        if (spillover === void 0) {\n            if (this.sub1 === subscriber) {\n                this.sub1 = void 0;\n            }\n            else if (this.sub2 === subscriber) {\n                this.sub2 = void 0;\n            }\n        }\n        else {\n            const index = spillover.indexOf(subscriber);\n            if (index !== -1) {\n                spillover.splice(index, 1);\n            }\n        }\n    }\n    /**\n     * Notifies all subscribers.\n     * @param args - Data passed along to subscribers during notification.\n     */\n    notify(args) {\n        const spillover = this.spillover;\n        const subject = this.subject;\n        if (spillover === void 0) {\n            const sub1 = this.sub1;\n            const sub2 = this.sub2;\n            if (sub1 !== void 0) {\n                sub1.handleChange(subject, args);\n            }\n            if (sub2 !== void 0) {\n                sub2.handleChange(subject, args);\n            }\n        }\n        else {\n            for (let i = 0, ii = spillover.length; i < ii; ++i) {\n                spillover[i].handleChange(subject, args);\n            }\n        }\n    }\n}\n/**\n * An implementation of Notifier that allows subscribers to be notified\n * of individual property changes on an object.\n * @public\n */\nexport class PropertyChangeNotifier {\n    /**\n     * Creates an instance of PropertyChangeNotifier for the specified subject.\n     * @param subject - The object that subscribers will receive notifications for.\n     */\n    constructor(subject) {\n        this.subscribers = {};\n        this.subjectSubscribers = null;\n        this.subject = subject;\n    }\n    /**\n     * Notifies all subscribers, based on the specified property.\n     * @param propertyName - The property name, passed along to subscribers during notification.\n     */\n    notify(propertyName) {\n        var _a, _b;\n        (_a = this.subscribers[propertyName]) === null || _a === void 0 ? void 0 : _a.notify(propertyName);\n        (_b = this.subjectSubscribers) === null || _b === void 0 ? void 0 : _b.notify(propertyName);\n    }\n    /**\n     * Subscribes to notification of changes in an object's state.\n     * @param subscriber - The object that is subscribing for change notification.\n     * @param propertyToWatch - The name of the property that the subscriber is interested in watching for changes.\n     */\n    subscribe(subscriber, propertyToWatch) {\n        var _a, _b;\n        let subscribers;\n        if (propertyToWatch) {\n            subscribers =\n                (_a = this.subscribers[propertyToWatch]) !== null && _a !== void 0 ? _a : (this.subscribers[propertyToWatch] = new SubscriberSet(this.subject));\n        }\n        else {\n            subscribers =\n                (_b = this.subjectSubscribers) !== null && _b !== void 0 ? _b : (this.subjectSubscribers = new SubscriberSet(this.subject));\n        }\n        subscribers.subscribe(subscriber);\n    }\n    /**\n     * Unsubscribes from notification of changes in an object's state.\n     * @param subscriber - The object that is unsubscribing from change notification.\n     * @param propertyToUnwatch - The name of the property that the subscriber is no longer interested in watching.\n     */\n    unsubscribe(subscriber, propertyToUnwatch) {\n        var _a, _b;\n        if (propertyToUnwatch) {\n            (_a = this.subscribers[propertyToUnwatch]) === null || _a === void 0 ? void 0 : _a.unsubscribe(subscriber);\n        }\n        else {\n            (_b = this.subjectSubscribers) === null || _b === void 0 ? void 0 : _b.unsubscribe(subscriber);\n        }\n    }\n}\n", "import { isFunction, isString, KernelServiceId, } from \"../interfaces.js\";\nimport { createMetadataLocator, FAST, makeSerializationNoop } from \"../platform.js\";\nimport { Updates } from \"./update-queue.js\";\nimport { PropertyChangeNotifier, SubscriberSet } from \"./notifier.js\";\n/**\n * Describes how the source's lifetime relates to its controller's lifetime.\n * @public\n */\nexport const SourceLifetime = Object.freeze({\n    /**\n     * The source to controller lifetime relationship is unknown.\n     */\n    unknown: void 0,\n    /**\n     * The source and controller lifetimes are coupled to one another.\n     * They can/will be GC'd together.\n     */\n    coupled: 1,\n});\n/**\n * Common Observable APIs.\n * @public\n */\nexport const Observable = FAST.getById(KernelServiceId.observable, () => {\n    const queueUpdate = Updates.enqueue;\n    const volatileRegex = /(:|&&|\\|\\||if|\\?\\.)/;\n    const notifierLookup = new WeakMap();\n    let watcher = void 0;\n    let createArrayObserver = (array) => {\n        throw FAST.error(1101 /* Message.needsArrayObservation */);\n    };\n    function getNotifier(source) {\n        var _a;\n        let found = (_a = source.$fastController) !== null && _a !== void 0 ? _a : notifierLookup.get(source);\n        if (found === void 0) {\n            Array.isArray(source)\n                ? (found = createArrayObserver(source))\n                : notifierLookup.set(source, (found = new PropertyChangeNotifier(source)));\n        }\n        return found;\n    }\n    const getAccessors = createMetadataLocator();\n    class DefaultObservableAccessor {\n        constructor(name) {\n            this.name = name;\n            this.field = `_${name}`;\n            this.callback = `${name}Changed`;\n        }\n        getValue(source) {\n            if (watcher !== void 0) {\n                watcher.watch(source, this.name);\n            }\n            return source[this.field];\n        }\n        setValue(source, newValue) {\n            const field = this.field;\n            const oldValue = source[field];\n            if (oldValue !== newValue) {\n                source[field] = newValue;\n                const callback = source[this.callback];\n                if (isFunction(callback)) {\n                    callback.call(source, oldValue, newValue);\n                }\n                getNotifier(source).notify(this.name);\n            }\n        }\n    }\n    class ExpressionNotifierImplementation extends SubscriberSet {\n        constructor(expression, initialSubscriber, isVolatileBinding = false) {\n            super(expression, initialSubscriber);\n            this.expression = expression;\n            this.isVolatileBinding = isVolatileBinding;\n            this.needsRefresh = true;\n            this.needsQueue = true;\n            this.isAsync = true;\n            this.first = this;\n            this.last = null;\n            this.propertySource = void 0;\n            this.propertyName = void 0;\n            this.notifier = void 0;\n            this.next = void 0;\n        }\n        setMode(isAsync) {\n            this.isAsync = this.needsQueue = isAsync;\n        }\n        bind(controller) {\n            this.controller = controller;\n            const value = this.observe(controller.source, controller.context);\n            if (!controller.isBound && this.requiresUnbind(controller)) {\n                controller.onUnbind(this);\n            }\n            return value;\n        }\n        requiresUnbind(controller) {\n            return (controller.sourceLifetime !== SourceLifetime.coupled ||\n                this.first !== this.last ||\n                this.first.propertySource !== controller.source);\n        }\n        unbind(controller) {\n            this.dispose();\n        }\n        observe(source, context) {\n            if (this.needsRefresh && this.last !== null) {\n                this.dispose();\n            }\n            const previousWatcher = watcher;\n            watcher = this.needsRefresh ? this : void 0;\n            this.needsRefresh = this.isVolatileBinding;\n            let result;\n            try {\n                result = this.expression(source, context);\n            }\n            finally {\n                watcher = previousWatcher;\n            }\n            return result;\n        }\n        // backwards compat with v1 kernel\n        disconnect() {\n            this.dispose();\n        }\n        dispose() {\n            if (this.last !== null) {\n                let current = this.first;\n                while (current !== void 0) {\n                    current.notifier.unsubscribe(this, current.propertyName);\n                    current = current.next;\n                }\n                this.last = null;\n                this.needsRefresh = this.needsQueue = this.isAsync;\n            }\n        }\n        watch(propertySource, propertyName) {\n            const prev = this.last;\n            const notifier = getNotifier(propertySource);\n            const current = prev === null ? this.first : {};\n            current.propertySource = propertySource;\n            current.propertyName = propertyName;\n            current.notifier = notifier;\n            notifier.subscribe(this, propertyName);\n            if (prev !== null) {\n                if (!this.needsRefresh) {\n                    // Declaring the variable prior to assignment below circumvents\n                    // a bug in Angular's optimization process causing infinite recursion\n                    // of this watch() method. Details https://github.com/microsoft/fast/issues/4969\n                    let prevValue;\n                    watcher = void 0;\n                    /* eslint-disable-next-line */\n                    prevValue = prev.propertySource[prev.propertyName];\n                    /* eslint-disable-next-line */\n                    watcher = this;\n                    if (propertySource === prevValue) {\n                        this.needsRefresh = true;\n                    }\n                }\n                prev.next = current;\n            }\n            this.last = current;\n        }\n        handleChange() {\n            if (this.needsQueue) {\n                this.needsQueue = false;\n                queueUpdate(this);\n            }\n            else if (!this.isAsync) {\n                this.call();\n            }\n        }\n        call() {\n            if (this.last !== null) {\n                this.needsQueue = this.isAsync;\n                this.notify(this);\n            }\n        }\n        *records() {\n            let next = this.first;\n            while (next !== void 0) {\n                yield next;\n                next = next.next;\n            }\n        }\n    }\n    makeSerializationNoop(ExpressionNotifierImplementation);\n    return Object.freeze({\n        /**\n         * @internal\n         * @param factory - The factory used to create array observers.\n         */\n        setArrayObserverFactory(factory) {\n            createArrayObserver = factory;\n        },\n        /**\n         * Gets a notifier for an object or Array.\n         * @param source - The object or Array to get the notifier for.\n         */\n        getNotifier,\n        /**\n         * Records a property change for a source object.\n         * @param source - The object to record the change against.\n         * @param propertyName - The property to track as changed.\n         */\n        track(source, propertyName) {\n            watcher && watcher.watch(source, propertyName);\n        },\n        /**\n         * Notifies watchers that the currently executing property getter or function is volatile\n         * with respect to its observable dependencies.\n         */\n        trackVolatile() {\n            watcher && (watcher.needsRefresh = true);\n        },\n        /**\n         * Notifies subscribers of a source object of changes.\n         * @param source - the object to notify of changes.\n         * @param args - The change args to pass to subscribers.\n         */\n        notify(source, args) {\n            /* eslint-disable-next-line @typescript-eslint/no-use-before-define */\n            getNotifier(source).notify(args);\n        },\n        /**\n         * Defines an observable property on an object or prototype.\n         * @param target - The target object to define the observable on.\n         * @param nameOrAccessor - The name of the property to define as observable;\n         * or a custom accessor that specifies the property name and accessor implementation.\n         */\n        defineProperty(target, nameOrAccessor) {\n            if (isString(nameOrAccessor)) {\n                nameOrAccessor = new DefaultObservableAccessor(nameOrAccessor);\n            }\n            getAccessors(target).push(nameOrAccessor);\n            Reflect.defineProperty(target, nameOrAccessor.name, {\n                enumerable: true,\n                get() {\n                    return nameOrAccessor.getValue(this);\n                },\n                set(newValue) {\n                    nameOrAccessor.setValue(this, newValue);\n                },\n            });\n        },\n        /**\n         * Finds all the observable accessors defined on the target,\n         * including its prototype chain.\n         * @param target - The target object to search for accessor on.\n         */\n        getAccessors,\n        /**\n         * Creates a {@link ExpressionNotifier} that can watch the\n         * provided {@link Expression} for changes.\n         * @param expression - The binding to observe.\n         * @param initialSubscriber - An initial subscriber to changes in the binding value.\n         * @param isVolatileBinding - Indicates whether the binding's dependency list must be re-evaluated on every value evaluation.\n         */\n        binding(expression, initialSubscriber, isVolatileBinding = this.isVolatileBinding(expression)) {\n            return new ExpressionNotifierImplementation(expression, initialSubscriber, isVolatileBinding);\n        },\n        /**\n         * Determines whether a binding expression is volatile and needs to have its dependency list re-evaluated\n         * on every evaluation of the value.\n         * @param expression - The binding to inspect.\n         */\n        isVolatileBinding(expression) {\n            return volatileRegex.test(expression.toString());\n        },\n    });\n});\n/**\n * Decorator: Defines an observable property on the target.\n * @param target - The target to define the observable on.\n * @param nameOrAccessor - The property name or accessor to define the observable as.\n * @public\n */\nexport function observable(target, nameOrAccessor) {\n    Observable.defineProperty(target, nameOrAccessor);\n}\n/**\n * Decorator: Marks a property getter as having volatile observable dependencies.\n * @param target - The target that the property is defined on.\n * @param name - The property name.\n * @param name - The existing descriptor.\n * @public\n */\nexport function volatile(target, name, descriptor) {\n    return Object.assign({}, descriptor, {\n        get() {\n            Observable.trackVolatile();\n            return descriptor.get.apply(this);\n        },\n    });\n}\nconst contextEvent = FAST.getById(KernelServiceId.contextEvent, () => {\n    let current = null;\n    return {\n        get() {\n            return current;\n        },\n        set(event) {\n            current = event;\n        },\n    };\n});\n/**\n * Provides additional contextual information available to behaviors and expressions.\n * @public\n */\nexport const ExecutionContext = Object.freeze({\n    /**\n     * A default execution context.\n     */\n    default: {\n        index: 0,\n        length: 0,\n        get event() {\n            return ExecutionContext.getEvent();\n        },\n        eventDetail() {\n            return this.event.detail;\n        },\n        eventTarget() {\n            return this.event.target;\n        },\n    },\n    /**\n     * Gets the current event.\n     * @returns An event object.\n     */\n    getEvent() {\n        return contextEvent.get();\n    },\n    /**\n     * Sets the current event.\n     * @param event - An event object.\n     */\n    setEvent(event) {\n        contextEvent.set(event);\n    },\n});\n", "import { emptyArray } from \"../platform.js\";\nimport { SubscriberSet } from \"./notifier.js\";\nimport { Observable } from \"./observable.js\";\nimport { Updates } from \"./update-queue.js\";\n/**\n * A splice map is a representation of how a previous array of items\n * was transformed into a new array of items. Conceptually it is a list of\n * tuples of\n *\n *   (index, removed, addedCount)\n *\n * which are kept in ascending index order of. The tuple represents that at\n * the |index|, |removed| sequence of items were removed, and counting forward\n * from |index|, |addedCount| items were added.\n * @public\n */\nexport class Splice {\n    /**\n     * Creates a splice.\n     * @param index - The index that the splice occurs at.\n     * @param removed - The items that were removed.\n     * @param addedCount - The  number of items that were added.\n     */\n    constructor(index, removed, addedCount) {\n        this.index = index;\n        this.removed = removed;\n        this.addedCount = addedCount;\n    }\n    /**\n     * Adjusts the splice index based on the provided array.\n     * @param array - The array to adjust to.\n     * @returns The same splice, mutated based on the reference array.\n     */\n    adjustTo(array) {\n        let index = this.index;\n        const arrayLength = array.length;\n        if (index > arrayLength) {\n            index = arrayLength - this.addedCount;\n        }\n        else if (index < 0) {\n            index = arrayLength + this.removed.length + index - this.addedCount;\n        }\n        this.index = index < 0 ? 0 : index;\n        return this;\n    }\n}\n/**\n * Indicates what level of feature support the splice\n * strategy provides.\n * @public\n */\nexport const SpliceStrategySupport = Object.freeze({\n    /**\n     * Only supports resets.\n     */\n    reset: 1,\n    /**\n     * Supports tracking splices and resets.\n     */\n    splice: 2,\n    /**\n     * Supports tracking splices and resets, while applying some form\n     * of optimization, such as merging, to the splices.\n     */\n    optimized: 3,\n});\nconst reset = new Splice(0, emptyArray, 0);\nreset.reset = true;\nconst resetSplices = [reset];\n// Note: This function is *based* on the computation of the Levenshtein\n// \"edit\" distance. The one change is that \"updates\" are treated as two\n// edits - not one. With Array splices, an update is really a delete\n// followed by an add. By retaining this, we optimize for \"keeping\" the\n// maximum array items in the original array. For example:\n//\n//   'xxxx123' to '123yyyy'\n//\n// With 1-edit updates, the shortest path would be just to update all seven\n// characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n// leaves the substring '123' intact.\nfunction calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd) {\n    // \"Deletion\" columns\n    const rowCount = oldEnd - oldStart + 1;\n    const columnCount = currentEnd - currentStart + 1;\n    const distances = new Array(rowCount);\n    let north;\n    let west;\n    // \"Addition\" rows. Initialize null column.\n    for (let i = 0; i < rowCount; ++i) {\n        distances[i] = new Array(columnCount);\n        distances[i][0] = i;\n    }\n    // Initialize null row\n    for (let j = 0; j < columnCount; ++j) {\n        distances[0][j] = j;\n    }\n    for (let i = 1; i < rowCount; ++i) {\n        for (let j = 1; j < columnCount; ++j) {\n            if (current[currentStart + j - 1] === old[oldStart + i - 1]) {\n                distances[i][j] = distances[i - 1][j - 1];\n            }\n            else {\n                north = distances[i - 1][j] + 1;\n                west = distances[i][j - 1] + 1;\n                distances[i][j] = north < west ? north : west;\n            }\n        }\n    }\n    return distances;\n}\n// This starts at the final weight, and walks \"backward\" by finding\n// the minimum previous weight recursively until the origin of the weight\n// matrix.\nfunction spliceOperationsFromEditDistances(distances) {\n    let i = distances.length - 1;\n    let j = distances[0].length - 1;\n    let current = distances[i][j];\n    const edits = [];\n    while (i > 0 || j > 0) {\n        if (i === 0) {\n            edits.push(2 /* Edit.add */);\n            j--;\n            continue;\n        }\n        if (j === 0) {\n            edits.push(3 /* Edit.delete */);\n            i--;\n            continue;\n        }\n        const northWest = distances[i - 1][j - 1];\n        const west = distances[i - 1][j];\n        const north = distances[i][j - 1];\n        let min;\n        if (west < north) {\n            min = west < northWest ? west : northWest;\n        }\n        else {\n            min = north < northWest ? north : northWest;\n        }\n        if (min === northWest) {\n            if (northWest === current) {\n                edits.push(0 /* Edit.leave */);\n            }\n            else {\n                edits.push(1 /* Edit.update */);\n                current = northWest;\n            }\n            i--;\n            j--;\n        }\n        else if (min === west) {\n            edits.push(3 /* Edit.delete */);\n            i--;\n            current = west;\n        }\n        else {\n            edits.push(2 /* Edit.add */);\n            j--;\n            current = north;\n        }\n    }\n    return edits.reverse();\n}\nfunction sharedPrefix(current, old, searchLength) {\n    for (let i = 0; i < searchLength; ++i) {\n        if (current[i] !== old[i]) {\n            return i;\n        }\n    }\n    return searchLength;\n}\nfunction sharedSuffix(current, old, searchLength) {\n    let index1 = current.length;\n    let index2 = old.length;\n    let count = 0;\n    while (count < searchLength && current[--index1] === old[--index2]) {\n        count++;\n    }\n    return count;\n}\nfunction intersect(start1, end1, start2, end2) {\n    // Disjoint\n    if (end1 < start2 || end2 < start1) {\n        return -1;\n    }\n    // Adjacent\n    if (end1 === start2 || end2 === start1) {\n        return 0;\n    }\n    // Non-zero intersect, span1 first\n    if (start1 < start2) {\n        if (end1 < end2) {\n            return end1 - start2; // Overlap\n        }\n        return end2 - start2; // Contained\n    }\n    // Non-zero intersect, span2 first\n    if (end2 < end1) {\n        return end2 - start1; // Overlap\n    }\n    return end1 - start1; // Contained\n}\n/**\n * @remarks\n * Lacking individual splice mutation information, the minimal set of\n * splices can be synthesized given the previous state and final state of an\n * array. The basic approach is to calculate the edit distance matrix and\n * choose the shortest path through it.\n *\n * Complexity: O(l * p)\n *   l: The length of the current array\n *   p: The length of the old array\n */\nfunction calc(current, currentStart, currentEnd, old, oldStart, oldEnd) {\n    let prefixCount = 0;\n    let suffixCount = 0;\n    const minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n    if (currentStart === 0 && oldStart === 0) {\n        prefixCount = sharedPrefix(current, old, minLength);\n    }\n    if (currentEnd === current.length && oldEnd === old.length) {\n        suffixCount = sharedSuffix(current, old, minLength - prefixCount);\n    }\n    currentStart += prefixCount;\n    oldStart += prefixCount;\n    currentEnd -= suffixCount;\n    oldEnd -= suffixCount;\n    if (currentEnd - currentStart === 0 && oldEnd - oldStart === 0) {\n        return emptyArray;\n    }\n    if (currentStart === currentEnd) {\n        const splice = new Splice(currentStart, [], 0);\n        while (oldStart < oldEnd) {\n            splice.removed.push(old[oldStart++]);\n        }\n        return [splice];\n    }\n    else if (oldStart === oldEnd) {\n        return [new Splice(currentStart, [], currentEnd - currentStart)];\n    }\n    const ops = spliceOperationsFromEditDistances(calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd));\n    const splices = [];\n    let splice = void 0;\n    let index = currentStart;\n    let oldIndex = oldStart;\n    for (let i = 0; i < ops.length; ++i) {\n        switch (ops[i]) {\n            case 0 /* Edit.leave */:\n                if (splice !== void 0) {\n                    splices.push(splice);\n                    splice = void 0;\n                }\n                index++;\n                oldIndex++;\n                break;\n            case 1 /* Edit.update */:\n                if (splice === void 0) {\n                    splice = new Splice(index, [], 0);\n                }\n                splice.addedCount++;\n                index++;\n                splice.removed.push(old[oldIndex]);\n                oldIndex++;\n                break;\n            case 2 /* Edit.add */:\n                if (splice === void 0) {\n                    splice = new Splice(index, [], 0);\n                }\n                splice.addedCount++;\n                index++;\n                break;\n            case 3 /* Edit.delete */:\n                if (splice === void 0) {\n                    splice = new Splice(index, [], 0);\n                }\n                splice.removed.push(old[oldIndex]);\n                oldIndex++;\n                break;\n            // no default\n        }\n    }\n    if (splice !== void 0) {\n        splices.push(splice);\n    }\n    return splices;\n}\nfunction merge(splice, splices) {\n    let inserted = false;\n    let insertionOffset = 0;\n    for (let i = 0; i < splices.length; i++) {\n        const current = splices[i];\n        current.index += insertionOffset;\n        if (inserted) {\n            continue;\n        }\n        const intersectCount = intersect(splice.index, splice.index + splice.removed.length, current.index, current.index + current.addedCount);\n        if (intersectCount >= 0) {\n            // Merge the two splices\n            splices.splice(i, 1);\n            i--;\n            insertionOffset -= current.addedCount - current.removed.length;\n            splice.addedCount += current.addedCount - intersectCount;\n            const deleteCount = splice.removed.length + current.removed.length - intersectCount;\n            if (!splice.addedCount && !deleteCount) {\n                // merged splice is a noop. discard.\n                inserted = true;\n            }\n            else {\n                let currentRemoved = current.removed;\n                if (splice.index < current.index) {\n                    // some prefix of splice.removed is prepended to current.removed.\n                    const prepend = splice.removed.slice(0, current.index - splice.index);\n                    prepend.push(...currentRemoved);\n                    currentRemoved = prepend;\n                }\n                if (splice.index + splice.removed.length >\n                    current.index + current.addedCount) {\n                    // some suffix of splice.removed is appended to current.removed.\n                    const append = splice.removed.slice(current.index + current.addedCount - splice.index);\n                    currentRemoved.push(...append);\n                }\n                splice.removed = currentRemoved;\n                if (current.index < splice.index) {\n                    splice.index = current.index;\n                }\n            }\n        }\n        else if (splice.index < current.index) {\n            // Insert splice here.\n            inserted = true;\n            splices.splice(i, 0, splice);\n            i++;\n            const offset = splice.addedCount - splice.removed.length;\n            current.index += offset;\n            insertionOffset += offset;\n        }\n    }\n    if (!inserted) {\n        splices.push(splice);\n    }\n}\nfunction project(array, changes) {\n    let splices = [];\n    const initialSplices = [];\n    for (let i = 0, ii = changes.length; i < ii; i++) {\n        merge(changes[i], initialSplices);\n    }\n    for (let i = 0, ii = initialSplices.length; i < ii; ++i) {\n        const splice = initialSplices[i];\n        if (splice.addedCount === 1 && splice.removed.length === 1) {\n            if (splice.removed[0] !== array[splice.index]) {\n                splices.push(splice);\n            }\n            continue;\n        }\n        splices = splices.concat(calc(array, splice.index, splice.index + splice.addedCount, splice.removed, 0, splice.removed.length));\n    }\n    return splices;\n}\n/**\n * A SpliceStrategy that attempts to merge all splices into the minimal set of\n * splices needed to represent the change from the old array to the new array.\n * @public\n */\nlet defaultSpliceStrategy = Object.freeze({\n    support: SpliceStrategySupport.optimized,\n    normalize(previous, current, changes) {\n        if (previous === void 0) {\n            if (changes === void 0) {\n                return emptyArray;\n            }\n            return project(current, changes);\n        }\n        return resetSplices;\n    },\n    pop(array, observer, pop, args) {\n        const notEmpty = array.length > 0;\n        const result = pop.apply(array, args);\n        if (notEmpty) {\n            observer.addSplice(new Splice(array.length, [result], 0));\n        }\n        return result;\n    },\n    push(array, observer, push, args) {\n        const result = push.apply(array, args);\n        observer.addSplice(new Splice(array.length - args.length, [], args.length).adjustTo(array));\n        return result;\n    },\n    reverse(array, observer, reverse, args) {\n        const result = reverse.apply(array, args);\n        observer.reset(array);\n        return result;\n    },\n    shift(array, observer, shift, args) {\n        const notEmpty = array.length > 0;\n        const result = shift.apply(array, args);\n        if (notEmpty) {\n            observer.addSplice(new Splice(0, [result], 0));\n        }\n        return result;\n    },\n    sort(array, observer, sort, args) {\n        const result = sort.apply(array, args);\n        observer.reset(array);\n        return result;\n    },\n    splice(array, observer, splice, args) {\n        const result = splice.apply(array, args);\n        observer.addSplice(new Splice(+args[0], result, args.length > 2 ? args.length - 2 : 0).adjustTo(array));\n        return result;\n    },\n    unshift(array, observer, unshift, args) {\n        const result = unshift.apply(array, args);\n        observer.addSplice(new Splice(0, [], args.length).adjustTo(array));\n        return result;\n    },\n});\n/**\n * Functionality related to tracking changes in arrays.\n * @public\n */\nexport const SpliceStrategy = Object.freeze({\n    /**\n     * A set of changes that represent a full array reset.\n     */\n    reset: resetSplices,\n    /**\n     * Sets the default strategy to use for array observers.\n     * @param strategy - The splice strategy to use.\n     */\n    setDefaultStrategy(strategy) {\n        defaultSpliceStrategy = strategy;\n    },\n});\nfunction setNonEnumerable(target, property, value) {\n    Reflect.defineProperty(target, property, {\n        value,\n        enumerable: false,\n    });\n}\nclass DefaultArrayObserver extends SubscriberSet {\n    constructor(subject) {\n        super(subject);\n        this.oldCollection = void 0;\n        this.splices = void 0;\n        this.needsQueue = true;\n        this._strategy = null;\n        this._lengthObserver = void 0;\n        this.call = this.flush;\n        setNonEnumerable(subject, \"$fastController\", this);\n    }\n    get strategy() {\n        return this._strategy;\n    }\n    set strategy(value) {\n        this._strategy = value;\n    }\n    get lengthObserver() {\n        let observer = this._lengthObserver;\n        if (observer === void 0) {\n            const array = this.subject;\n            this._lengthObserver = observer = {\n                length: array.length,\n                handleChange() {\n                    if (this.length !== array.length) {\n                        this.length = array.length;\n                        Observable.notify(observer, \"length\");\n                    }\n                },\n            };\n            this.subscribe(observer);\n        }\n        return observer;\n    }\n    subscribe(subscriber) {\n        this.flush();\n        super.subscribe(subscriber);\n    }\n    addSplice(splice) {\n        if (this.splices === void 0) {\n            this.splices = [splice];\n        }\n        else {\n            this.splices.push(splice);\n        }\n        this.enqueue();\n    }\n    reset(oldCollection) {\n        this.oldCollection = oldCollection;\n        this.enqueue();\n    }\n    flush() {\n        var _a;\n        const splices = this.splices;\n        const oldCollection = this.oldCollection;\n        if (splices === void 0 && oldCollection === void 0) {\n            return;\n        }\n        this.needsQueue = true;\n        this.splices = void 0;\n        this.oldCollection = void 0;\n        this.notify(((_a = this._strategy) !== null && _a !== void 0 ? _a : defaultSpliceStrategy).normalize(oldCollection, this.subject, splices));\n    }\n    enqueue() {\n        if (this.needsQueue) {\n            this.needsQueue = false;\n            Updates.enqueue(this);\n        }\n    }\n}\nlet enabled = false;\n/**\n * An observer for arrays.\n * @public\n */\nexport const ArrayObserver = Object.freeze({\n    /**\n     * Enables the array observation mechanism.\n     * @remarks\n     * Array observation is enabled automatically when using the\n     * {@link RepeatDirective}, so calling this API manually is\n     * not typically necessary.\n     */\n    enable() {\n        if (enabled) {\n            return;\n        }\n        enabled = true;\n        Observable.setArrayObserverFactory((collection) => new DefaultArrayObserver(collection));\n        const proto = Array.prototype;\n        if (!proto.$fastPatch) {\n            setNonEnumerable(proto, \"$fastPatch\", 1);\n            [\n                proto.pop,\n                proto.push,\n                proto.reverse,\n                proto.shift,\n                proto.sort,\n                proto.splice,\n                proto.unshift,\n            ].forEach(method => {\n                proto[method.name] = function (...args) {\n                    var _a;\n                    const o = this.$fastController;\n                    return o === void 0\n                        ? method.apply(this, args)\n                        : ((_a = o.strategy) !== null && _a !== void 0 ? _a : defaultSpliceStrategy)[method.name](this, o, method, args);\n                };\n            });\n        }\n    },\n});\n/**\n * Enables observing the length of an array.\n * @param array - The array to observe the length of.\n * @returns The length of the array.\n * @public\n */\nexport function lengthOf(array) {\n    if (!array) {\n        return 0;\n    }\n    let arrayObserver = array.$fastController;\n    if (arrayObserver === void 0) {\n        ArrayObserver.enable();\n        arrayObserver = Observable.getNotifier(array);\n    }\n    Observable.track(arrayObserver.lengthObserver, \"length\");\n    return array.length;\n}\n", "/**\n * Captures a binding expression along with related information and capabilities.\n *\n * @public\n */\nexport class Binding {\n    /**\n     * Creates a binding.\n     * @param evaluate - Evaluates the binding.\n     * @param policy - The security policy to associate with this binding.\n     * @param isVolatile - Indicates whether the binding is volatile.\n     */\n    constructor(evaluate, policy, isVolatile = false) {\n        this.evaluate = evaluate;\n        this.policy = policy;\n        this.isVolatile = isVolatile;\n    }\n}\n", "import { Observable } from \"../observation/observable.js\";\nimport { Binding } from \"./binding.js\";\nclass OneWayBinding extends Binding {\n    createObserver(subscriber) {\n        return Observable.binding(this.evaluate, subscriber, this.isVolatile);\n    }\n}\n/**\n * Creates an standard binding.\n * @param expression - The binding to refresh when changed.\n * @param policy - The security policy to associate with th binding.\n * @param isVolatile - Indicates whether the binding is volatile or not.\n * @returns A binding configuration.\n * @public\n */\nexport function oneWay(expression, policy, isVolatile = Observable.isVolatileBinding(expression)) {\n    return new OneWayBinding(expression, policy, isVolatile);\n}\n/**\n * Creates an event listener binding.\n * @param expression - The binding to invoke when the event is raised.\n * @param options - Event listener options.\n * @returns A binding configuration.\n * @public\n */\nexport function listener(expression, options) {\n    const config = new OneWayBinding(expression);\n    config.options = options;\n    return config;\n}\n", "import { makeSerializationNoop } from \"../platform.js\";\nimport { Binding } from \"./binding.js\";\nclass OneTimeBinding extends Binding {\n    createObserver() {\n        return this;\n    }\n    bind(controller) {\n        return this.evaluate(controller.source, controller.context);\n    }\n}\nmakeSerializationNoop(OneTimeBinding);\n/**\n * Creates a one time binding\n * @param expression - The binding to refresh when signaled.\n * @param policy - The security policy to associate with th binding.\n * @returns A binding configuration.\n * @public\n */\nexport function oneTime(expression, policy) {\n    return new OneTimeBinding(expression, policy);\n}\n", "import { isFunction } from \"../interfaces.js\";\nimport { Binding } from \"./binding.js\";\nimport { oneWay } from \"./one-way.js\";\nimport { oneTime } from \"./one-time.js\";\n/**\n * Normalizes the input value into a binding.\n * @param value - The value to create the default binding for.\n * @returns A binding configuration for the provided value.\n * @public\n */\nexport function normalizeBinding(value) {\n    return isFunction(value)\n        ? oneWay(value)\n        : value instanceof Binding\n            ? value\n            : oneTime(() => value);\n}\n", "let DefaultStyleStrategy;\nfunction reduceStyles(styles) {\n    return styles\n        .map((x) => x instanceof ElementStyles ? reduceStyles(x.styles) : [x])\n        .reduce((prev, curr) => prev.concat(curr), []);\n}\n/**\n * Represents styles that can be applied to a custom element.\n * @public\n */\nexport class ElementStyles {\n    /**\n     * Creates an instance of ElementStyles.\n     * @param styles - The styles that will be associated with elements.\n     */\n    constructor(styles) {\n        this.styles = styles;\n        this.targets = new WeakSet();\n        this._strategy = null;\n        this.behaviors = styles\n            .map((x) => x instanceof ElementStyles ? x.behaviors : null)\n            .reduce((prev, curr) => (curr === null ? prev : prev === null ? curr : prev.concat(curr)), null);\n    }\n    /**\n     * Gets the StyleStrategy associated with these element styles.\n     */\n    get strategy() {\n        if (this._strategy === null) {\n            this.withStrategy(DefaultStyleStrategy);\n        }\n        return this._strategy;\n    }\n    /** @internal */\n    addStylesTo(target) {\n        this.strategy.addStylesTo(target);\n        this.targets.add(target);\n    }\n    /** @internal */\n    removeStylesFrom(target) {\n        this.strategy.removeStylesFrom(target);\n        this.targets.delete(target);\n    }\n    /** @internal */\n    isAttachedTo(target) {\n        return this.targets.has(target);\n    }\n    /**\n     * Associates behaviors with this set of styles.\n     * @param behaviors - The behaviors to associate.\n     */\n    withBehaviors(...behaviors) {\n        this.behaviors =\n            this.behaviors === null ? behaviors : this.behaviors.concat(behaviors);\n        return this;\n    }\n    /**\n     * Sets the strategy that handles adding/removing these styles for an element.\n     * @param strategy - The strategy to use.\n     */\n    withStrategy(Strategy) {\n        this._strategy = new Strategy(reduceStyles(this.styles));\n        return this;\n    }\n    /**\n     * Sets the default strategy type to use when creating style strategies.\n     * @param Strategy - The strategy type to construct.\n     */\n    static setDefaultStrategy(Strategy) {\n        DefaultStyleStrategy = Strategy;\n    }\n    /**\n     * Normalizes a set of composable style options.\n     * @param styles - The style options to normalize.\n     * @returns A singular ElementStyles instance or undefined.\n     */\n    static normalize(styles) {\n        return styles === void 0\n            ? void 0\n            : Array.isArray(styles)\n                ? new ElementStyles(styles)\n                : styles instanceof ElementStyles\n                    ? styles\n                    : new ElementStyles([styles]);\n    }\n}\n/**\n * Indicates whether the DOM supports the adoptedStyleSheets feature.\n */\nElementStyles.supportsAdoptedStyleSheets = Array.isArray(document.adoptedStyleSheets) &&\n    \"replace\" in CSSStyleSheet.prototype;\n", "import { createTypeRegistry } from \"../platform.js\";\nconst registry = createTypeRegistry();\n/**\n * Instructs the css engine to provide dynamic styles or\n * associate behaviors with styles.\n * @public\n */\nexport const CSSDirective = Object.freeze({\n    /**\n     * Gets the directive definition associated with the instance.\n     * @param instance - The directive instance to retrieve the definition for.\n     */\n    getForInstance: registry.getForInstance,\n    /**\n     * Gets the directive definition associated with the specified type.\n     * @param type - The directive type to retrieve the definition for.\n     */\n    getByType: registry.getByType,\n    /**\n     * Defines a CSSDirective.\n     * @param type - The type to define as a directive.\n     */\n    define(type) {\n        registry.register({ type });\n        return type;\n    },\n});\n/**\n * Decorator: Defines a CSSDirective.\n * @public\n */\nexport function cssDirective() {\n    /* eslint-disable-next-line @typescript-eslint/explicit-function-return-type */\n    return function (type) {\n        CSSDirective.define(type);\n    };\n}\n", "import { CSSDirective } from \"./css-directive.js\";\nfunction handleChange(directive, controller, observer) {\n    controller.source.style.setProperty(directive.targetAspect, observer.bind(controller));\n}\n/**\n * Enables bindings in CSS.\n *\n * @public\n */\nexport class CSSBindingDirective {\n    /**\n     * Creates an instance of CSSBindingDirective.\n     * @param dataBinding - The binding to use in CSS.\n     * @param targetAspect - The CSS property to target.\n     */\n    constructor(dataBinding, targetAspect) {\n        this.dataBinding = dataBinding;\n        this.targetAspect = targetAspect;\n    }\n    /**\n     * Creates a CSS fragment to interpolate into the CSS document.\n     * @returns - the string to interpolate into CSS\n     */\n    createCSS(add) {\n        add(this);\n        return `var(${this.targetAspect})`;\n    }\n    /**\n     * Executed when this behavior is attached to a controller.\n     * @param controller - Controls the behavior lifecycle.\n     */\n    addedCallback(controller) {\n        var _a;\n        const element = controller.source;\n        if (!element.$cssBindings) {\n            element.$cssBindings = new Map();\n            const setAttribute = element.setAttribute;\n            element.setAttribute = (attr, value) => {\n                setAttribute.call(element, attr, value);\n                if (attr === \"style\") {\n                    element.$cssBindings.forEach((v, k) => handleChange(k, v.controller, v.observer));\n                }\n            };\n        }\n        const observer = (_a = controller[this.targetAspect]) !== null && _a !== void 0 ? _a : (controller[this.targetAspect] = this.dataBinding.createObserver(this, this));\n        observer.controller = controller;\n        controller.source.$cssBindings.set(this, { controller, observer });\n    }\n    /**\n     * Executed when this behavior's host is connected.\n     * @param controller - Controls the behavior lifecycle.\n     */\n    connectedCallback(controller) {\n        handleChange(this, controller, controller[this.targetAspect]);\n    }\n    /**\n     * Executed when this behavior is detached from a controller.\n     * @param controller - Controls the behavior lifecycle.\n     */\n    removedCallback(controller) {\n        if (controller.source.$cssBindings) {\n            controller.source.$cssBindings.delete(this);\n        }\n    }\n    /**\n     * Called when a subject this instance has subscribed to changes.\n     * @param subject - The subject of the change.\n     * @param args - The event args detailing the change that occurred.\n     *\n     * @internal\n     */\n    handleChange(_, observer) {\n        handleChange(this, observer.controller, observer);\n    }\n}\nCSSDirective.define(CSSBindingDirective);\n", "import { isFunction, isString } from \"../interfaces.js\";\nimport { Binding } from \"../binding/binding.js\";\nimport { oneWay } from \"../binding/one-way.js\";\nimport { CSSDirective } from \"./css-directive.js\";\nimport { ElementStyles } from \"./element-styles.js\";\nimport { CSSBindingDirective } from \"./css-binding-directive.js\";\nconst marker = `${Math.random().toString(36).substring(2, 8)}`;\nlet varId = 0;\nconst nextCSSVariable = () => `--v${marker}${++varId}`;\nfunction collectStyles(strings, values) {\n    const styles = [];\n    let cssString = \"\";\n    const behaviors = [];\n    const add = (behavior) => {\n        behaviors.push(behavior);\n    };\n    for (let i = 0, ii = strings.length - 1; i < ii; ++i) {\n        cssString += strings[i];\n        let value = values[i];\n        if (isFunction(value)) {\n            value = new CSSBindingDirective(oneWay(value), nextCSSVariable()).createCSS(add);\n        }\n        else if (value instanceof Binding) {\n            value = new CSSBindingDirective(value, nextCSSVariable()).createCSS(add);\n        }\n        else if (CSSDirective.getForInstance(value) !== void 0) {\n            value = value.createCSS(add);\n        }\n        if (value instanceof ElementStyles || value instanceof CSSStyleSheet) {\n            if (cssString.trim() !== \"\") {\n                styles.push(cssString);\n                cssString = \"\";\n            }\n            styles.push(value);\n        }\n        else {\n            cssString += value;\n        }\n    }\n    cssString += strings[strings.length - 1];\n    if (cssString.trim() !== \"\") {\n        styles.push(cssString);\n    }\n    return {\n        styles,\n        behaviors,\n    };\n}\n/**\n * Transforms a template literal string into styles.\n * @param strings - The string fragments that are interpolated with the values.\n * @param values - The values that are interpolated with the string fragments.\n * @remarks\n * The css helper supports interpolation of strings and ElementStyle instances.\n * @public\n */\nexport const css = ((strings, ...values) => {\n    const { styles, behaviors } = collectStyles(strings, values);\n    const elementStyles = new ElementStyles(styles);\n    return behaviors.length ? elementStyles.withBehaviors(...behaviors) : elementStyles;\n});\nclass CSSPartial {\n    constructor(styles, behaviors) {\n        this.behaviors = behaviors;\n        this.css = \"\";\n        const stylesheets = styles.reduce((accumulated, current) => {\n            if (isString(current)) {\n                this.css += current;\n            }\n            else {\n                accumulated.push(current);\n            }\n            return accumulated;\n        }, []);\n        if (stylesheets.length) {\n            this.styles = new ElementStyles(stylesheets);\n        }\n    }\n    createCSS(add) {\n        this.behaviors.forEach(add);\n        if (this.styles) {\n            add(this);\n        }\n        return this.css;\n    }\n    addedCallback(controller) {\n        controller.addStyles(this.styles);\n    }\n    removedCallback(controller) {\n        controller.removeStyles(this.styles);\n    }\n}\nCSSDirective.define(CSSPartial);\ncss.partial = (strings, ...values) => {\n    const { styles, behaviors } = collectStyles(strings, values);\n    return new CSSPartial(styles, behaviors);\n};\n", "const marker = `fast-${Math.random().toString(36).substring(2, 8)}`;\nconst interpolationStart = `${marker}{`;\nconst interpolationEnd = `}${marker}`;\nconst interpolationEndLength = interpolationEnd.length;\nlet id = 0;\n/** @internal */\nexport const nextId = () => `${marker}-${++id}`;\n/**\n * Common APIs related to markup generation.\n * @public\n */\nexport const Markup = Object.freeze({\n    /**\n     * Creates a placeholder string suitable for marking out a location *within*\n     * an attribute value or HTML content.\n     * @param index - The directive index to create the placeholder for.\n     * @remarks\n     * Used internally by binding directives.\n     */\n    interpolation: (id) => `${interpolationStart}${id}${interpolationEnd}`,\n    /**\n     * Creates a placeholder that manifests itself as an attribute on an\n     * element.\n     * @param attributeName - The name of the custom attribute.\n     * @param index - The directive index to create the placeholder for.\n     * @remarks\n     * Used internally by attribute directives such as `ref`, `slotted`, and `children`.\n     */\n    attribute: (id) => `${nextId()}=\"${interpolationStart}${id}${interpolationEnd}\"`,\n    /**\n     * Creates a placeholder that manifests itself as a marker within the DOM structure.\n     * @param index - The directive index to create the placeholder for.\n     * @remarks\n     * Used internally by structural directives such as `repeat`.\n     */\n    comment: (id) => `<!--${interpolationStart}${id}${interpolationEnd}-->`,\n});\n/**\n * Common APIs related to content parsing.\n * @public\n */\nexport const Parser = Object.freeze({\n    /**\n     * Parses text content or HTML attribute content, separating out the static strings\n     * from the directives.\n     * @param value - The content or attribute string to parse.\n     * @param factories - A list of directives to search for in the string.\n     * @returns A heterogeneous array of static strings interspersed with\n     * directives or null if no directives are found in the string.\n     */\n    parse(value, factories) {\n        const parts = value.split(interpolationStart);\n        if (parts.length === 1) {\n            return null;\n        }\n        const result = [];\n        for (let i = 0, ii = parts.length; i < ii; ++i) {\n            const current = parts[i];\n            const index = current.indexOf(interpolationEnd);\n            let literal;\n            if (index === -1) {\n                literal = current;\n            }\n            else {\n                const factoryId = current.substring(0, index);\n                result.push(factories[factoryId]);\n                literal = current.substring(index + interpolationEndLength);\n            }\n            if (literal !== \"\") {\n                result.push(literal);\n            }\n        }\n        return result;\n    },\n});\n", "import { DOMAspect } from \"../dom.js\";\nimport { createTypeRegistry, makeSerializationNoop } from \"../platform.js\";\nimport { Markup } from \"./markup.js\";\nconst registry = createTypeRegistry();\n/**\n * Instructs the template engine to apply behavior to a node.\n * @public\n */\nexport const HTMLDirective = Object.freeze({\n    /**\n     * Gets the directive definition associated with the instance.\n     * @param instance - The directive instance to retrieve the definition for.\n     */\n    getForInstance: registry.getForInstance,\n    /**\n     * Gets the directive definition associated with the specified type.\n     * @param type - The directive type to retrieve the definition for.\n     */\n    getByType: registry.getByType,\n    /**\n     * Defines an HTMLDirective based on the options.\n     * @param type - The type to define as a directive.\n     * @param options - Options that specify the directive's application.\n     */\n    define(type, options) {\n        options = options || {};\n        options.type = type;\n        registry.register(options);\n        return type;\n    },\n    /**\n     *\n     * @param directive - The directive to assign the aspect to.\n     * @param value - The value to base the aspect determination on.\n     * @remarks\n     * If a falsy value is provided, then the content aspect will be assigned.\n     */\n    assignAspect(directive, value) {\n        if (!value) {\n            directive.aspectType = DOMAspect.content;\n            return;\n        }\n        directive.sourceAspect = value;\n        switch (value[0]) {\n            case \":\":\n                directive.targetAspect = value.substring(1);\n                directive.aspectType =\n                    directive.targetAspect === \"classList\"\n                        ? DOMAspect.tokenList\n                        : DOMAspect.property;\n                break;\n            case \"?\":\n                directive.targetAspect = value.substring(1);\n                directive.aspectType = DOMAspect.booleanAttribute;\n                break;\n            case \"@\":\n                directive.targetAspect = value.substring(1);\n                directive.aspectType = DOMAspect.event;\n                break;\n            default:\n                directive.targetAspect = value;\n                directive.aspectType = DOMAspect.attribute;\n                break;\n        }\n    },\n});\n/**\n * Decorator: Defines an HTMLDirective.\n * @param options - Provides options that specify the directive's application.\n * @public\n */\nexport function htmlDirective(options) {\n    /* eslint-disable-next-line @typescript-eslint/explicit-function-return-type */\n    return function (type) {\n        HTMLDirective.define(type, options);\n    };\n}\n/**\n * A base class used for attribute directives that don't need internal state.\n * @public\n */\nexport class StatelessAttachedAttributeDirective {\n    /**\n     * Creates an instance of RefDirective.\n     * @param options - The options to use in configuring the directive.\n     */\n    constructor(options) {\n        this.options = options;\n    }\n    /**\n     * Creates a placeholder string based on the directive's index within the template.\n     * @param index - The index of the directive within the template.\n     * @remarks\n     * Creates a custom attribute placeholder.\n     */\n    createHTML(add) {\n        return Markup.attribute(add(this));\n    }\n    /**\n     * Creates a behavior.\n     * @param targets - The targets available for behaviors to be attached to.\n     */\n    createBehavior() {\n        return this;\n    }\n}\nmakeSerializationNoop(StatelessAttachedAttributeDirective);\n", "import \"../interfaces.js\";\nimport { ExecutionContext, } from \"../observation/observable.js\";\nimport { FAST } from \"../platform.js\";\nimport { DOM, DOMAspect } from \"../dom.js\";\nimport { HTMLDirective, } from \"./html-directive.js\";\nimport { Markup } from \"./markup.js\";\nfunction updateContent(target, aspect, value, controller) {\n    // If there's no actual value, then this equates to the\n    // empty string for the purposes of content bindings.\n    if (value === null || value === undefined) {\n        value = \"\";\n    }\n    // If the value has a \"create\" method, then it's a ContentTemplate.\n    if (value.create) {\n        target.textContent = \"\";\n        let view = target.$fastView;\n        // If there's no previous view that we might be able to\n        // reuse then create a new view from the template.\n        if (view === void 0) {\n            view = value.create();\n        }\n        else {\n            // If there is a previous view, but it wasn't created\n            // from the same template as the new value, then we\n            // need to remove the old view if it's still in the DOM\n            // and create a new view from the template.\n            if (target.$fastTemplate !== value) {\n                if (view.isComposed) {\n                    view.remove();\n                    view.unbind();\n                }\n                view = value.create();\n            }\n        }\n        // It's possible that the value is the same as the previous template\n        // and that there's actually no need to compose it.\n        if (!view.isComposed) {\n            view.isComposed = true;\n            view.bind(controller.source, controller.context);\n            view.insertBefore(target);\n            target.$fastView = view;\n            target.$fastTemplate = value;\n        }\n        else if (view.needsBindOnly) {\n            view.needsBindOnly = false;\n            view.bind(controller.source, controller.context);\n        }\n    }\n    else {\n        const view = target.$fastView;\n        // If there is a view and it's currently composed into\n        // the DOM, then we need to remove it.\n        if (view !== void 0 && view.isComposed) {\n            view.isComposed = false;\n            view.remove();\n            if (view.needsBindOnly) {\n                view.needsBindOnly = false;\n            }\n            else {\n                view.unbind();\n            }\n        }\n        target.textContent = value;\n    }\n}\nfunction updateTokenList(target, aspect, value) {\n    var _a;\n    const lookup = `${this.id}-t`;\n    const state = (_a = target[lookup]) !== null && _a !== void 0 ? _a : (target[lookup] = { v: 0, cv: Object.create(null) });\n    const classVersions = state.cv;\n    let version = state.v;\n    const tokenList = target[aspect];\n    // Add the classes, tracking the version at which they were added.\n    if (value !== null && value !== undefined && value.length) {\n        const names = value.split(/\\s+/);\n        for (let i = 0, ii = names.length; i < ii; ++i) {\n            const currentName = names[i];\n            if (currentName === \"\") {\n                continue;\n            }\n            classVersions[currentName] = version;\n            tokenList.add(currentName);\n        }\n    }\n    state.v = version + 1;\n    // If this is the first call to add classes, there's no need to remove old ones.\n    if (version === 0) {\n        return;\n    }\n    // Remove classes from the previous version.\n    version -= 1;\n    for (const name in classVersions) {\n        if (classVersions[name] === version) {\n            tokenList.remove(name);\n        }\n    }\n}\nconst sinkLookup = {\n    [DOMAspect.attribute]: DOM.setAttribute,\n    [DOMAspect.booleanAttribute]: DOM.setBooleanAttribute,\n    [DOMAspect.property]: (t, a, v) => (t[a] = v),\n    [DOMAspect.content]: updateContent,\n    [DOMAspect.tokenList]: updateTokenList,\n    [DOMAspect.event]: () => void 0,\n};\n/**\n * A directive that applies bindings.\n * @public\n */\nexport class HTMLBindingDirective {\n    /**\n     * Creates an instance of HTMLBindingDirective.\n     * @param dataBinding - The binding configuration to apply.\n     */\n    constructor(dataBinding) {\n        this.dataBinding = dataBinding;\n        this.updateTarget = null;\n        /**\n         * The type of aspect to target.\n         */\n        this.aspectType = DOMAspect.content;\n    }\n    /**\n     * Creates HTML to be used within a template.\n     * @param add - Can be used to add  behavior factories to a template.\n     */\n    createHTML(add) {\n        return Markup.interpolation(add(this));\n    }\n    /**\n     * Creates a behavior.\n     */\n    createBehavior() {\n        var _a;\n        if (this.updateTarget === null) {\n            const sink = sinkLookup[this.aspectType];\n            const policy = (_a = this.dataBinding.policy) !== null && _a !== void 0 ? _a : this.policy;\n            if (!sink) {\n                throw FAST.error(1205 /* Message.unsupportedBindingBehavior */);\n            }\n            this.data = `${this.id}-d`;\n            this.updateTarget = policy.protect(this.targetTagName, this.aspectType, this.targetAspect, sink);\n        }\n        return this;\n    }\n    /** @internal */\n    bind(controller) {\n        var _a;\n        const target = controller.targets[this.targetNodeId];\n        switch (this.aspectType) {\n            case DOMAspect.event:\n                target[this.data] = controller;\n                target.addEventListener(this.targetAspect, this, this.dataBinding.options);\n                break;\n            case DOMAspect.content:\n                controller.onUnbind(this);\n            // intentional fall through\n            default:\n                const observer = (_a = target[this.data]) !== null && _a !== void 0 ? _a : (target[this.data] = this.dataBinding.createObserver(this, this));\n                observer.target = target;\n                observer.controller = controller;\n                this.updateTarget(target, this.targetAspect, observer.bind(controller), controller);\n                break;\n        }\n    }\n    /** @internal */\n    unbind(controller) {\n        const target = controller.targets[this.targetNodeId];\n        const view = target.$fastView;\n        if (view !== void 0 && view.isComposed) {\n            view.unbind();\n            view.needsBindOnly = true;\n        }\n    }\n    /** @internal */\n    handleEvent(event) {\n        const controller = event.currentTarget[this.data];\n        if (controller.isBound) {\n            ExecutionContext.setEvent(event);\n            const result = this.dataBinding.evaluate(controller.source, controller.context);\n            ExecutionContext.setEvent(null);\n            if (result !== true) {\n                event.preventDefault();\n            }\n        }\n    }\n    /** @internal */\n    handleChange(binding, observer) {\n        const target = observer.target;\n        const controller = observer.controller;\n        this.updateTarget(target, this.targetAspect, observer.bind(controller), controller);\n    }\n}\nHTMLDirective.define(HTMLBindingDirective, { aspected: true });\n", "import { ExecutionContext, Observable, SourceLifetime, } from \"../observation/observable.js\";\nimport { makeSerializationNoop } from \"../platform.js\";\nfunction removeNodeSequence(firstNode, lastNode) {\n    const parent = firstNode.parentNode;\n    let current = firstNode;\n    let next;\n    while (current !== lastNode) {\n        next = current.nextSibling;\n        parent.removeChild(current);\n        current = next;\n    }\n    parent.removeChild(lastNode);\n}\n/**\n * The standard View implementation, which also implements ElementView and SyntheticView.\n * @public\n */\nexport class HTMLView {\n    /**\n     * Constructs an instance of HTMLView.\n     * @param fragment - The html fragment that contains the nodes for this view.\n     * @param behaviors - The behaviors to be applied to this view.\n     */\n    constructor(fragment, factories, targets) {\n        this.fragment = fragment;\n        this.factories = factories;\n        this.targets = targets;\n        this.behaviors = null;\n        this.unbindables = [];\n        /**\n         * The data that the view is bound to.\n         */\n        this.source = null;\n        /**\n         * Indicates whether the controller is bound.\n         */\n        this.isBound = false;\n        /**\n         * Indicates how the source's lifetime relates to the controller's lifetime.\n         */\n        this.sourceLifetime = SourceLifetime.unknown;\n        /**\n         * The execution context the view is running within.\n         */\n        this.context = this;\n        /**\n         * The index of the current item within a repeat context.\n         */\n        this.index = 0;\n        /**\n         * The length of the current collection within a repeat context.\n         */\n        this.length = 0;\n        this.firstChild = fragment.firstChild;\n        this.lastChild = fragment.lastChild;\n    }\n    /**\n     * The current event within an event handler.\n     */\n    get event() {\n        return ExecutionContext.getEvent();\n    }\n    /**\n     * Indicates whether the current item within a repeat context\n     * has an even index.\n     */\n    get isEven() {\n        return this.index % 2 === 0;\n    }\n    /**\n     * Indicates whether the current item within a repeat context\n     * has an odd index.\n     */\n    get isOdd() {\n        return this.index % 2 !== 0;\n    }\n    /**\n     * Indicates whether the current item within a repeat context\n     * is the first item in the collection.\n     */\n    get isFirst() {\n        return this.index === 0;\n    }\n    /**\n     * Indicates whether the current item within a repeat context\n     * is somewhere in the middle of the collection.\n     */\n    get isInMiddle() {\n        return !this.isFirst && !this.isLast;\n    }\n    /**\n     * Indicates whether the current item within a repeat context\n     * is the last item in the collection.\n     */\n    get isLast() {\n        return this.index === this.length - 1;\n    }\n    /**\n     * Returns the typed event detail of a custom event.\n     */\n    eventDetail() {\n        return this.event.detail;\n    }\n    /**\n     * Returns the typed event target of the event.\n     */\n    eventTarget() {\n        return this.event.target;\n    }\n    /**\n     * Appends the view's DOM nodes to the referenced node.\n     * @param node - The parent node to append the view's DOM nodes to.\n     */\n    appendTo(node) {\n        node.appendChild(this.fragment);\n    }\n    /**\n     * Inserts the view's DOM nodes before the referenced node.\n     * @param node - The node to insert the view's DOM before.\n     */\n    insertBefore(node) {\n        if (this.fragment.hasChildNodes()) {\n            node.parentNode.insertBefore(this.fragment, node);\n        }\n        else {\n            const end = this.lastChild;\n            if (node.previousSibling === end)\n                return;\n            const parentNode = node.parentNode;\n            let current = this.firstChild;\n            let next;\n            while (current !== end) {\n                next = current.nextSibling;\n                parentNode.insertBefore(current, node);\n                current = next;\n            }\n            parentNode.insertBefore(end, node);\n        }\n    }\n    /**\n     * Removes the view's DOM nodes.\n     * The nodes are not disposed and the view can later be re-inserted.\n     */\n    remove() {\n        const fragment = this.fragment;\n        const end = this.lastChild;\n        let current = this.firstChild;\n        let next;\n        while (current !== end) {\n            next = current.nextSibling;\n            fragment.appendChild(current);\n            current = next;\n        }\n        fragment.appendChild(end);\n    }\n    /**\n     * Removes the view and unbinds its behaviors, disposing of DOM nodes afterward.\n     * Once a view has been disposed, it cannot be inserted or bound again.\n     */\n    dispose() {\n        removeNodeSequence(this.firstChild, this.lastChild);\n        this.unbind();\n    }\n    onUnbind(behavior) {\n        this.unbindables.push(behavior);\n    }\n    /**\n     * Binds a view's behaviors to its binding source.\n     * @param source - The binding source for the view's binding behaviors.\n     * @param context - The execution context to run the behaviors within.\n     */\n    bind(source, context = this) {\n        if (this.source === source) {\n            return;\n        }\n        let behaviors = this.behaviors;\n        if (behaviors === null) {\n            this.source = source;\n            this.context = context;\n            this.behaviors = behaviors = new Array(this.factories.length);\n            const factories = this.factories;\n            for (let i = 0, ii = factories.length; i < ii; ++i) {\n                const behavior = factories[i].createBehavior();\n                behavior.bind(this);\n                behaviors[i] = behavior;\n            }\n        }\n        else {\n            if (this.source !== null) {\n                this.evaluateUnbindables();\n            }\n            this.isBound = false;\n            this.source = source;\n            this.context = context;\n            for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n                behaviors[i].bind(this);\n            }\n        }\n        this.isBound = true;\n    }\n    /**\n     * Unbinds a view's behaviors from its binding source.\n     */\n    unbind() {\n        if (!this.isBound || this.source === null) {\n            return;\n        }\n        this.evaluateUnbindables();\n        this.source = null;\n        this.context = this;\n        this.isBound = false;\n    }\n    evaluateUnbindables() {\n        const unbindables = this.unbindables;\n        for (let i = 0, ii = unbindables.length; i < ii; ++i) {\n            unbindables[i].unbind(this);\n        }\n        unbindables.length = 0;\n    }\n    /**\n     * Efficiently disposes of a contiguous range of synthetic view instances.\n     * @param views - A contiguous range of views to be disposed.\n     */\n    static disposeContiguousBatch(views) {\n        if (views.length === 0) {\n            return;\n        }\n        removeNodeSequence(views[0].firstChild, views[views.length - 1].lastChild);\n        for (let i = 0, ii = views.length; i < ii; ++i) {\n            views[i].unbind();\n        }\n    }\n}\nmakeSerializationNoop(HTMLView);\nObservable.defineProperty(HTMLView.prototype, \"index\");\nObservable.defineProperty(HTMLView.prototype, \"length\");\n", "import { isFunction, isString } from \"../interfaces.js\";\nimport { FAST } from \"../platform.js\";\nimport { DOM } from \"../dom.js\";\nimport { oneTime } from \"../binding/one-time.js\";\nimport { nextId, Parser } from \"./markup.js\";\nimport { HTMLBindingDirective } from \"./html-binding-directive.js\";\nimport { HTMLDirective, } from \"./html-directive.js\";\nimport { HTMLView } from \"./view.js\";\nconst targetIdFrom = (parentId, nodeIndex) => `${parentId}.${nodeIndex}`;\nconst descriptorCache = {};\n// used to prevent creating lots of objects just to track node and index while compiling\nconst next = {\n    index: 0,\n    node: null,\n};\nfunction tryWarn(name) {\n    if (!name.startsWith(\"fast-\")) {\n        FAST.warn(1204 /* Message.hostBindingWithoutHost */, { name });\n    }\n}\nconst warningHost = new Proxy(document.createElement(\"div\"), {\n    get(target, property) {\n        tryWarn(property);\n        const value = Reflect.get(target, property);\n        return isFunction(value) ? value.bind(target) : value;\n    },\n    set(target, property, value) {\n        tryWarn(property);\n        return Reflect.set(target, property, value);\n    },\n});\nclass CompilationContext {\n    constructor(fragment, directives, policy) {\n        this.fragment = fragment;\n        this.directives = directives;\n        this.policy = policy;\n        this.proto = null;\n        this.nodeIds = new Set();\n        this.descriptors = {};\n        this.factories = [];\n    }\n    addFactory(factory, parentId, nodeId, targetIndex, tagName) {\n        var _a, _b;\n        if (!this.nodeIds.has(nodeId)) {\n            this.nodeIds.add(nodeId);\n            this.addTargetDescriptor(parentId, nodeId, targetIndex);\n        }\n        factory.id = (_a = factory.id) !== null && _a !== void 0 ? _a : nextId();\n        factory.targetNodeId = nodeId;\n        factory.targetTagName = tagName;\n        factory.policy = (_b = factory.policy) !== null && _b !== void 0 ? _b : this.policy;\n        this.factories.push(factory);\n    }\n    freeze() {\n        this.proto = Object.create(null, this.descriptors);\n        return this;\n    }\n    addTargetDescriptor(parentId, targetId, targetIndex) {\n        const descriptors = this.descriptors;\n        if (targetId === \"r\" || // root\n            targetId === \"h\" || // host\n            descriptors[targetId]) {\n            return;\n        }\n        if (!descriptors[parentId]) {\n            const index = parentId.lastIndexOf(\".\");\n            const grandparentId = parentId.substring(0, index);\n            const childIndex = parseInt(parentId.substring(index + 1));\n            this.addTargetDescriptor(grandparentId, parentId, childIndex);\n        }\n        let descriptor = descriptorCache[targetId];\n        if (!descriptor) {\n            const field = `_${targetId}`;\n            descriptorCache[targetId] = descriptor = {\n                get() {\n                    var _a;\n                    return ((_a = this[field]) !== null && _a !== void 0 ? _a : (this[field] = this[parentId].childNodes[targetIndex]));\n                },\n            };\n        }\n        descriptors[targetId] = descriptor;\n    }\n    createView(hostBindingTarget) {\n        const fragment = this.fragment.cloneNode(true);\n        const targets = Object.create(this.proto);\n        targets.r = fragment;\n        targets.h = hostBindingTarget !== null && hostBindingTarget !== void 0 ? hostBindingTarget : warningHost;\n        for (const id of this.nodeIds) {\n            targets[id]; // trigger locator\n        }\n        return new HTMLView(fragment, this.factories, targets);\n    }\n}\nfunction compileAttributes(context, parentId, node, nodeId, nodeIndex, includeBasicValues = false) {\n    const attributes = node.attributes;\n    const directives = context.directives;\n    for (let i = 0, ii = attributes.length; i < ii; ++i) {\n        const attr = attributes[i];\n        const attrValue = attr.value;\n        const parseResult = Parser.parse(attrValue, directives);\n        let result = null;\n        if (parseResult === null) {\n            if (includeBasicValues) {\n                result = new HTMLBindingDirective(oneTime(() => attrValue, context.policy));\n                HTMLDirective.assignAspect(result, attr.name);\n            }\n        }\n        else {\n            /* eslint-disable-next-line @typescript-eslint/no-use-before-define */\n            result = Compiler.aggregate(parseResult, context.policy);\n        }\n        if (result !== null) {\n            node.removeAttributeNode(attr);\n            i--;\n            ii--;\n            context.addFactory(result, parentId, nodeId, nodeIndex, node.tagName);\n        }\n    }\n}\nfunction compileContent(context, node, parentId, nodeId, nodeIndex) {\n    const parseResult = Parser.parse(node.textContent, context.directives);\n    if (parseResult === null) {\n        next.node = node.nextSibling;\n        next.index = nodeIndex + 1;\n        return next;\n    }\n    let currentNode;\n    let lastNode = (currentNode = node);\n    for (let i = 0, ii = parseResult.length; i < ii; ++i) {\n        const currentPart = parseResult[i];\n        if (i !== 0) {\n            nodeIndex++;\n            nodeId = targetIdFrom(parentId, nodeIndex);\n            currentNode = lastNode.parentNode.insertBefore(document.createTextNode(\"\"), lastNode.nextSibling);\n        }\n        if (isString(currentPart)) {\n            currentNode.textContent = currentPart;\n        }\n        else {\n            currentNode.textContent = \" \";\n            HTMLDirective.assignAspect(currentPart);\n            context.addFactory(currentPart, parentId, nodeId, nodeIndex, null);\n        }\n        lastNode = currentNode;\n    }\n    next.index = nodeIndex + 1;\n    next.node = lastNode.nextSibling;\n    return next;\n}\nfunction compileChildren(context, parent, parentId) {\n    let nodeIndex = 0;\n    let childNode = parent.firstChild;\n    while (childNode) {\n        /* eslint-disable-next-line @typescript-eslint/no-use-before-define */\n        const result = compileNode(context, parentId, childNode, nodeIndex);\n        childNode = result.node;\n        nodeIndex = result.index;\n    }\n}\nfunction compileNode(context, parentId, node, nodeIndex) {\n    const nodeId = targetIdFrom(parentId, nodeIndex);\n    switch (node.nodeType) {\n        case 1: // element node\n            compileAttributes(context, parentId, node, nodeId, nodeIndex);\n            compileChildren(context, node, nodeId);\n            break;\n        case 3: // text node\n            return compileContent(context, node, parentId, nodeId, nodeIndex);\n        case 8: // comment\n            const parts = Parser.parse(node.data, context.directives);\n            if (parts !== null) {\n                context.addFactory(\n                /* eslint-disable-next-line @typescript-eslint/no-use-before-define */\n                Compiler.aggregate(parts), parentId, nodeId, nodeIndex, null);\n            }\n            break;\n    }\n    next.index = nodeIndex + 1;\n    next.node = node.nextSibling;\n    return next;\n}\nfunction isMarker(node, directives) {\n    return (node &&\n        node.nodeType == 8 &&\n        Parser.parse(node.data, directives) !== null);\n}\nconst templateTag = \"TEMPLATE\";\n/**\n * Common APIs related to compilation.\n * @public\n */\nexport const Compiler = {\n    /**\n     * Compiles a template and associated directives into a compilation\n     * result which can be used to create views.\n     * @param html - The html string or template element to compile.\n     * @param factories - The behavior factories referenced by the template.\n     * @param policy - The security policy to compile the html with.\n     * @remarks\n     * The template that is provided for compilation is altered in-place\n     * and cannot be compiled again. If the original template must be preserved,\n     * it is recommended that you clone the original and pass the clone to this API.\n     * @public\n     */\n    compile(html, factories, policy = DOM.policy) {\n        let template;\n        if (isString(html)) {\n            template = document.createElement(templateTag);\n            template.innerHTML = policy.createHTML(html);\n            const fec = template.content.firstElementChild;\n            if (fec !== null && fec.tagName === templateTag) {\n                template = fec;\n            }\n        }\n        else {\n            template = html;\n        }\n        if (!template.content.firstChild && !template.content.lastChild) {\n            template.content.appendChild(document.createComment(\"\"));\n        }\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=1111864\n        const fragment = document.adoptNode(template.content);\n        const context = new CompilationContext(fragment, factories, policy);\n        compileAttributes(context, \"\", template, /* host */ \"h\", 0, true);\n        if (\n        // If the first node in a fragment is a marker, that means it's an unstable first node,\n        // because something like a when, repeat, etc. could add nodes before the marker.\n        // To mitigate this, we insert a stable first node. However, if we insert a node,\n        // that will alter the result of the TreeWalker. So, we also need to offset the target index.\n        isMarker(fragment.firstChild, factories) ||\n            // Or if there is only one node and a directive, it means the template's content\n            // is *only* the directive. In that case, HTMLView.dispose() misses any nodes inserted by\n            // the directive. Inserting a new node ensures proper disposal of nodes added by the directive.\n            (fragment.childNodes.length === 1 && Object.keys(factories).length > 0)) {\n            fragment.insertBefore(document.createComment(\"\"), fragment.firstChild);\n        }\n        compileChildren(context, fragment, /* root */ \"r\");\n        next.node = null; // prevent leaks\n        return context.freeze();\n    },\n    /**\n     * Sets the default compilation strategy that will be used by the ViewTemplate whenever\n     * it needs to compile a view preprocessed with the html template function.\n     * @param strategy - The compilation strategy to use when compiling templates.\n     */\n    setDefaultStrategy(strategy) {\n        this.compile = strategy;\n    },\n    /**\n     * Aggregates an array of strings and directives into a single directive.\n     * @param parts - A heterogeneous array of static strings interspersed with\n     * directives.\n     * @param policy - The security policy to use with the aggregated bindings.\n     * @returns A single inline directive that aggregates the behavior of all the parts.\n     */\n    aggregate(parts, policy = DOM.policy) {\n        if (parts.length === 1) {\n            return parts[0];\n        }\n        let sourceAspect;\n        let binding;\n        let isVolatile = false;\n        let bindingPolicy = void 0;\n        const partCount = parts.length;\n        const finalParts = parts.map((x) => {\n            if (isString(x)) {\n                return () => x;\n            }\n            sourceAspect = x.sourceAspect || sourceAspect;\n            binding = x.dataBinding || binding;\n            isVolatile = isVolatile || x.dataBinding.isVolatile;\n            bindingPolicy = bindingPolicy || x.dataBinding.policy;\n            return x.dataBinding.evaluate;\n        });\n        const expression = (scope, context) => {\n            let output = \"\";\n            for (let i = 0; i < partCount; ++i) {\n                output += finalParts[i](scope, context);\n            }\n            return output;\n        };\n        binding.evaluate = expression;\n        binding.isVolatile = isVolatile;\n        binding.policy = bindingPolicy !== null && bindingPolicy !== void 0 ? bindingPolicy : policy;\n        const directive = new HTMLBindingDirective(binding);\n        HTMLDirective.assignAspect(directive, sourceAspect);\n        return directive;\n    },\n};\n", "import { isFunction, isString } from \"../interfaces.js\";\nimport { Binding } from \"../binding/binding.js\";\nimport { FAST, makeSerializationNoop } from \"../platform.js\";\nimport { oneWay } from \"../binding/one-way.js\";\nimport { oneTime } from \"../binding/one-time.js\";\nimport { HTMLBindingDirective } from \"./html-binding-directive.js\";\nimport { Compiler } from \"./compiler.js\";\nimport { HTMLDirective, } from \"./html-directive.js\";\nimport { nextId } from \"./markup.js\";\n// Much thanks to LitHTML for working this out!\nconst lastAttributeNameRegex = \n/* eslint-disable-next-line no-control-regex */\n/([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\nconst noFactories = Object.create(null);\n/**\n * Inlines a template into another template.\n * @public\n */\nexport class InlineTemplateDirective {\n    /**\n     * Creates an instance of InlineTemplateDirective.\n     * @param template - The template to inline.\n     */\n    constructor(html, factories = noFactories) {\n        this.html = html;\n        this.factories = factories;\n    }\n    /**\n     * Creates HTML to be used within a template.\n     * @param add - Can be used to add  behavior factories to a template.\n     */\n    createHTML(add) {\n        const factories = this.factories;\n        for (const key in factories) {\n            add(factories[key]);\n        }\n        return this.html;\n    }\n}\n/**\n * An empty template partial.\n */\nInlineTemplateDirective.empty = new InlineTemplateDirective(\"\");\nHTMLDirective.define(InlineTemplateDirective);\nfunction createHTML(value, prevString, add, definition = HTMLDirective.getForInstance(value)) {\n    if (definition.aspected) {\n        const match = lastAttributeNameRegex.exec(prevString);\n        if (match !== null) {\n            HTMLDirective.assignAspect(value, match[2]);\n        }\n    }\n    return value.createHTML(add);\n}\n/**\n * A template capable of creating HTMLView instances or rendering directly to DOM.\n * @public\n */\nexport class ViewTemplate {\n    /**\n     * Creates an instance of ViewTemplate.\n     * @param html - The html representing what this template will instantiate, including placeholders for directives.\n     * @param factories - The directives that will be connected to placeholders in the html.\n     * @param policy - The security policy to use when compiling this template.\n     */\n    constructor(html, factories = {}, policy) {\n        this.policy = policy;\n        this.result = null;\n        this.html = html;\n        this.factories = factories;\n    }\n    /**\n     * Creates an HTMLView instance based on this template definition.\n     * @param hostBindingTarget - The element that host behaviors will be bound to.\n     */\n    create(hostBindingTarget) {\n        if (this.result === null) {\n            this.result = Compiler.compile(this.html, this.factories, this.policy);\n        }\n        return this.result.createView(hostBindingTarget);\n    }\n    /**\n     * Returns a directive that can inline the template.\n     */\n    inline() {\n        return new InlineTemplateDirective(isString(this.html) ? this.html : this.html.innerHTML, this.factories);\n    }\n    /**\n     * Sets the DOMPolicy for this template.\n     * @param policy - The policy to associated with this template.\n     * @returns The modified template instance.\n     * @remarks\n     * The DOMPolicy can only be set once for a template and cannot be\n     * set after the template is compiled.\n     */\n    withPolicy(policy) {\n        if (this.result) {\n            throw FAST.error(1208 /* Message.cannotSetTemplatePolicyAfterCompilation */);\n        }\n        if (this.policy) {\n            throw FAST.error(1207 /* Message.onlySetTemplatePolicyOnce */);\n        }\n        this.policy = policy;\n        return this;\n    }\n    /**\n     * Creates an HTMLView from this template, binds it to the source, and then appends it to the host.\n     * @param source - The data source to bind the template to.\n     * @param host - The Element where the template will be rendered.\n     * @param hostBindingTarget - An HTML element to target the host bindings at if different from the\n     * host that the template is being attached to.\n     */\n    render(source, host, hostBindingTarget) {\n        const view = this.create(hostBindingTarget);\n        view.bind(source);\n        view.appendTo(host);\n        return view;\n    }\n    /**\n     * Creates a template based on a set of static strings and dynamic values.\n     * @param strings - The static strings to create the template with.\n     * @param values - The dynamic values to create the template with.\n     * @param policy - The DOMPolicy to associated with the template.\n     * @returns A ViewTemplate.\n     * @remarks\n     * This API should not be used directly under normal circumstances because constructing\n     * a template in this way, if not done properly, can open up the application to XSS\n     * attacks. When using this API, provide a strong DOMPolicy that can properly sanitize\n     * and also be sure to manually sanitize all static strings particularly if they can\n     * come from user input.\n     */\n    static create(strings, values, policy) {\n        let html = \"\";\n        const factories = Object.create(null);\n        const add = (factory) => {\n            var _a;\n            const id = (_a = factory.id) !== null && _a !== void 0 ? _a : (factory.id = nextId());\n            factories[id] = factory;\n            return id;\n        };\n        for (let i = 0, ii = strings.length - 1; i < ii; ++i) {\n            const currentString = strings[i];\n            let currentValue = values[i];\n            let definition;\n            html += currentString;\n            if (isFunction(currentValue)) {\n                currentValue = new HTMLBindingDirective(oneWay(currentValue));\n            }\n            else if (currentValue instanceof Binding) {\n                currentValue = new HTMLBindingDirective(currentValue);\n            }\n            else if (!(definition = HTMLDirective.getForInstance(currentValue))) {\n                const staticValue = currentValue;\n                currentValue = new HTMLBindingDirective(oneTime(() => staticValue));\n            }\n            html += createHTML(currentValue, currentString, add, definition);\n        }\n        return new ViewTemplate(html + strings[strings.length - 1], factories, policy);\n    }\n}\nmakeSerializationNoop(ViewTemplate);\n/**\n * Transforms a template literal string into a ViewTemplate.\n * @param strings - The string fragments that are interpolated with the values.\n * @param values - The values that are interpolated with the string fragments.\n * @remarks\n * The html helper supports interpolation of strings, numbers, binding expressions,\n * other template instances, and Directive instances.\n * @public\n */\nexport const html = ((strings, ...values) => {\n    if (Array.isArray(strings) && Array.isArray(strings.raw)) {\n        return ViewTemplate.create(strings, values);\n    }\n    throw FAST.error(1206 /* Message.directCallToHTMLTagNotAllowed */);\n});\nhtml.partial = (html) => {\n    return new InlineTemplateDirective(html);\n};\n", "import { HTMLDirective, StatelessAttachedAttributeDirective, } from \"./html-directive.js\";\n/**\n * The runtime behavior for template references.\n * @public\n */\nexport class RefDirective extends StatelessAttachedAttributeDirective {\n    /**\n     * Bind this behavior.\n     * @param controller - The view controller that manages the lifecycle of this behavior.\n     */\n    bind(controller) {\n        controller.source[this.options] = controller.targets[this.targetNodeId];\n    }\n}\nHTMLDirective.define(RefDirective);\n/**\n * A directive that observes the updates a property with a reference to the element.\n * @param propertyName - The name of the property to assign the reference to.\n * @public\n */\nexport const ref = (propertyName) => new RefDirective(propertyName);\n", "import { isFunction } from \"../interfaces.js\";\nconst noTemplate = () => null;\nfunction normalizeBinding(value) {\n    return value === undefined ? noTemplate : isFunction(value) ? value : () => value;\n}\n/**\n * A directive that enables basic conditional rendering in a template.\n * @param condition - The condition to test for rendering.\n * @param templateOrTemplateBinding - The template or a binding that gets\n * the template to render when the condition is true.\n * @param elseTemplateOrTemplateBinding - Optional template or binding that that\n * gets the template to render when the conditional is false.\n * @public\n */\nexport function when(condition, templateOrTemplateBinding, elseTemplateOrTemplateBinding) {\n    const dataBinding = isFunction(condition) ? condition : () => condition;\n    const templateBinding = normalizeBinding(templateOrTemplateBinding);\n    const elseBinding = normalizeBinding(elseTemplateOrTemplateBinding);\n    return (source, context) => dataBinding(source, context)\n        ? templateBinding(source, context)\n        : elseBinding(source, context);\n}\n", "import { Observable } from \"../observation/observable.js\";\nimport { emptyArray } from \"../platform.js\";\nimport { ArrayObserver } from \"../observation/arrays.js\";\nimport { normalizeBinding } from \"../binding/normalize.js\";\nimport { Markup } from \"./markup.js\";\nimport { HTMLDirective, } from \"./html-directive.js\";\nimport { HTMLView } from \"./view.js\";\nconst defaultRepeatOptions = Object.freeze({\n    positioning: false,\n    recycle: true,\n});\nfunction bindWithoutPositioning(view, items, index, controller) {\n    view.context.parent = controller.source;\n    view.context.parentContext = controller.context;\n    view.bind(items[index]);\n}\nfunction bindWithPositioning(view, items, index, controller) {\n    view.context.parent = controller.source;\n    view.context.parentContext = controller.context;\n    view.context.length = items.length;\n    view.context.index = index;\n    view.bind(items[index]);\n}\n/**\n * A behavior that renders a template for each item in an array.\n * @public\n */\nexport class RepeatBehavior {\n    /**\n     * Creates an instance of RepeatBehavior.\n     * @param location - The location in the DOM to render the repeat.\n     * @param dataBinding - The array to render.\n     * @param isItemsBindingVolatile - Indicates whether the items binding has volatile dependencies.\n     * @param templateBinding - The template to render for each item.\n     * @param isTemplateBindingVolatile - Indicates whether the template binding has volatile dependencies.\n     * @param options - Options used to turn on special repeat features.\n     */\n    constructor(directive) {\n        this.directive = directive;\n        this.items = null;\n        this.itemsObserver = null;\n        this.bindView = bindWithoutPositioning;\n        /** @internal */\n        this.views = [];\n        this.itemsBindingObserver = directive.dataBinding.createObserver(this, directive);\n        this.templateBindingObserver = directive.templateBinding.createObserver(this, directive);\n        if (directive.options.positioning) {\n            this.bindView = bindWithPositioning;\n        }\n    }\n    /**\n     * Bind this behavior.\n     * @param controller - The view controller that manages the lifecycle of this behavior.\n     */\n    bind(controller) {\n        this.location = controller.targets[this.directive.targetNodeId];\n        this.controller = controller;\n        this.items = this.itemsBindingObserver.bind(controller);\n        this.template = this.templateBindingObserver.bind(controller);\n        this.observeItems(true);\n        this.refreshAllViews();\n        controller.onUnbind(this);\n    }\n    /**\n     * Unbinds this behavior.\n     */\n    unbind() {\n        if (this.itemsObserver !== null) {\n            this.itemsObserver.unsubscribe(this);\n        }\n        this.unbindAllViews();\n    }\n    /**\n     * Handles changes in the array, its items, and the repeat template.\n     * @param source - The source of the change.\n     * @param args - The details about what was changed.\n     */\n    handleChange(source, args) {\n        if (args === this.itemsBindingObserver) {\n            this.items = this.itemsBindingObserver.bind(this.controller);\n            this.observeItems();\n            this.refreshAllViews();\n        }\n        else if (args === this.templateBindingObserver) {\n            this.template = this.templateBindingObserver.bind(this.controller);\n            this.refreshAllViews(true);\n        }\n        else if (!args[0]) {\n            return;\n        }\n        else if (args[0].reset) {\n            this.refreshAllViews();\n        }\n        else {\n            this.updateViews(args);\n        }\n    }\n    observeItems(force = false) {\n        if (!this.items) {\n            this.items = emptyArray;\n            return;\n        }\n        const oldObserver = this.itemsObserver;\n        const newObserver = (this.itemsObserver = Observable.getNotifier(this.items));\n        const hasNewObserver = oldObserver !== newObserver;\n        if (hasNewObserver && oldObserver !== null) {\n            oldObserver.unsubscribe(this);\n        }\n        if (hasNewObserver || force) {\n            newObserver.subscribe(this);\n        }\n    }\n    updateViews(splices) {\n        const views = this.views;\n        const bindView = this.bindView;\n        const items = this.items;\n        const template = this.template;\n        const controller = this.controller;\n        const recycle = this.directive.options.recycle;\n        const leftoverViews = [];\n        let leftoverIndex = 0;\n        let availableViews = 0;\n        for (let i = 0, ii = splices.length; i < ii; ++i) {\n            const splice = splices[i];\n            const removed = splice.removed;\n            let removeIndex = 0;\n            let addIndex = splice.index;\n            const end = addIndex + splice.addedCount;\n            const removedViews = views.splice(splice.index, removed.length);\n            const totalAvailableViews = (availableViews =\n                leftoverViews.length + removedViews.length);\n            for (; addIndex < end; ++addIndex) {\n                const neighbor = views[addIndex];\n                const location = neighbor ? neighbor.firstChild : this.location;\n                let view;\n                if (recycle && availableViews > 0) {\n                    if (removeIndex <= totalAvailableViews && removedViews.length > 0) {\n                        view = removedViews[removeIndex];\n                        removeIndex++;\n                    }\n                    else {\n                        view = leftoverViews[leftoverIndex];\n                        leftoverIndex++;\n                    }\n                    availableViews--;\n                }\n                else {\n                    view = template.create();\n                }\n                views.splice(addIndex, 0, view);\n                bindView(view, items, addIndex, controller);\n                view.insertBefore(location);\n            }\n            if (removedViews[removeIndex]) {\n                leftoverViews.push(...removedViews.slice(removeIndex));\n            }\n        }\n        for (let i = leftoverIndex, ii = leftoverViews.length; i < ii; ++i) {\n            leftoverViews[i].dispose();\n        }\n        if (this.directive.options.positioning) {\n            for (let i = 0, viewsLength = views.length; i < viewsLength; ++i) {\n                const context = views[i].context;\n                context.length = viewsLength;\n                context.index = i;\n            }\n        }\n    }\n    refreshAllViews(templateChanged = false) {\n        const items = this.items;\n        const template = this.template;\n        const location = this.location;\n        const bindView = this.bindView;\n        const controller = this.controller;\n        let itemsLength = items.length;\n        let views = this.views;\n        let viewsLength = views.length;\n        if (itemsLength === 0 || templateChanged || !this.directive.options.recycle) {\n            // all views need to be removed\n            HTMLView.disposeContiguousBatch(views);\n            viewsLength = 0;\n        }\n        if (viewsLength === 0) {\n            // all views need to be created\n            this.views = views = new Array(itemsLength);\n            for (let i = 0; i < itemsLength; ++i) {\n                const view = template.create();\n                bindView(view, items, i, controller);\n                views[i] = view;\n                view.insertBefore(location);\n            }\n        }\n        else {\n            // attempt to reuse existing views with new data\n            let i = 0;\n            for (; i < itemsLength; ++i) {\n                if (i < viewsLength) {\n                    const view = views[i];\n                    bindView(view, items, i, controller);\n                }\n                else {\n                    const view = template.create();\n                    bindView(view, items, i, controller);\n                    views.push(view);\n                    view.insertBefore(location);\n                }\n            }\n            const removed = views.splice(i, viewsLength - i);\n            for (i = 0, itemsLength = removed.length; i < itemsLength; ++i) {\n                removed[i].dispose();\n            }\n        }\n    }\n    unbindAllViews() {\n        const views = this.views;\n        for (let i = 0, ii = views.length; i < ii; ++i) {\n            views[i].unbind();\n        }\n    }\n}\n/**\n * A directive that configures list rendering.\n * @public\n */\nexport class RepeatDirective {\n    /**\n     * Creates an instance of RepeatDirective.\n     * @param dataBinding - The binding that provides the array to render.\n     * @param templateBinding - The template binding used to obtain a template to render for each item in the array.\n     * @param options - Options used to turn on special repeat features.\n     */\n    constructor(dataBinding, templateBinding, options) {\n        this.dataBinding = dataBinding;\n        this.templateBinding = templateBinding;\n        this.options = options;\n        ArrayObserver.enable();\n    }\n    /**\n     * Creates a placeholder string based on the directive's index within the template.\n     * @param index - The index of the directive within the template.\n     */\n    createHTML(add) {\n        return Markup.comment(add(this));\n    }\n    /**\n     * Creates a behavior for the provided target node.\n     * @param target - The node instance to create the behavior for.\n     */\n    createBehavior() {\n        return new RepeatBehavior(this);\n    }\n}\nHTMLDirective.define(RepeatDirective);\n/**\n * A directive that enables list rendering.\n * @param items - The array to render.\n * @param template - The template or a template binding used obtain a template\n * to render for each item in the array.\n * @param options - Options used to turn on special repeat features.\n * @public\n */\nexport function repeat(items, template, options = defaultRepeatOptions) {\n    const dataBinding = normalizeBinding(items);\n    const templateBinding = normalizeBinding(template);\n    return new RepeatDirective(dataBinding, templateBinding, Object.assign(Object.assign({}, defaultRepeatOptions), options));\n}\n", "import { emptyArray } from \"../platform.js\";\nimport { StatelessAttachedAttributeDirective } from \"./html-directive.js\";\nconst selectElements = (value) => value.nodeType === 1;\n/**\n * Creates a function that can be used to filter a Node array, selecting only elements.\n * @param selector - An optional selector to restrict the filter to.\n * @public\n */\nexport const elements = (selector) => selector\n    ? value => value.nodeType === 1 && value.matches(selector)\n    : selectElements;\n/**\n * A base class for node observation.\n * @public\n * @remarks\n * Internally used by the SlottedDirective and the ChildrenDirective.\n */\nexport class NodeObservationDirective extends StatelessAttachedAttributeDirective {\n    /**\n     * The unique id of the factory.\n     */\n    get id() {\n        return this._id;\n    }\n    set id(value) {\n        this._id = value;\n        this._controllerProperty = `${value}-c`;\n    }\n    /**\n     * Bind this behavior to the source.\n     * @param source - The source to bind to.\n     * @param context - The execution context that the binding is operating within.\n     * @param targets - The targets that behaviors in a view can attach to.\n     */\n    bind(controller) {\n        const target = controller.targets[this.targetNodeId];\n        target[this._controllerProperty] = controller;\n        this.updateTarget(controller.source, this.computeNodes(target));\n        this.observe(target);\n        controller.onUnbind(this);\n    }\n    /**\n     * Unbinds this behavior from the source.\n     * @param source - The source to unbind from.\n     * @param context - The execution context that the binding is operating within.\n     * @param targets - The targets that behaviors in a view can attach to.\n     */\n    unbind(controller) {\n        const target = controller.targets[this.targetNodeId];\n        this.updateTarget(controller.source, emptyArray);\n        this.disconnect(target);\n        target[this._controllerProperty] = null;\n    }\n    /**\n     * Gets the data source for the target.\n     * @param target - The target to get the source for.\n     * @returns The source.\n     */\n    getSource(target) {\n        return target[this._controllerProperty].source;\n    }\n    /**\n     * Updates the source property with the computed nodes.\n     * @param source - The source object to assign the nodes property to.\n     * @param value - The nodes to assign to the source object property.\n     */\n    updateTarget(source, value) {\n        source[this.options.property] = value;\n    }\n    /**\n     * Computes the set of nodes that should be assigned to the source property.\n     * @param target - The target to compute the nodes for.\n     * @returns The computed nodes.\n     * @remarks\n     * Applies filters if provided.\n     */\n    computeNodes(target) {\n        let nodes = this.getNodes(target);\n        if (\"filter\" in this.options) {\n            nodes = nodes.filter(this.options.filter);\n        }\n        return nodes;\n    }\n}\n", "import { isString } from \"../interfaces.js\";\nimport { HTMLDirective } from \"./html-directive.js\";\nimport { NodeObservationDirective } from \"./node-observation.js\";\nconst slotEvent = \"slotchange\";\n/**\n * The runtime behavior for slotted node observation.\n * @public\n */\nexport class SlottedDirective extends NodeObservationDirective {\n    /**\n     * Begins observation of the nodes.\n     * @param target - The target to observe.\n     */\n    observe(target) {\n        target.addEventListener(slotEvent, this);\n    }\n    /**\n     * Disconnects observation of the nodes.\n     * @param target - The target to unobserve.\n     */\n    disconnect(target) {\n        target.removeEventListener(slotEvent, this);\n    }\n    /**\n     * Retrieves the raw nodes that should be assigned to the source property.\n     * @param target - The target to get the node to.\n     */\n    getNodes(target) {\n        return target.assignedNodes(this.options);\n    }\n    /** @internal */\n    handleEvent(event) {\n        const target = event.currentTarget;\n        this.updateTarget(this.getSource(target), this.computeNodes(target));\n    }\n}\nHTMLDirective.define(SlottedDirective);\n/**\n * A directive that observes the `assignedNodes()` of a slot and updates a property\n * whenever they change.\n * @param propertyOrOptions - The options used to configure slotted node observation.\n * @public\n */\nexport function slotted(propertyOrOptions) {\n    if (isString(propertyOrOptions)) {\n        propertyOrOptions = { property: propertyOrOptions };\n    }\n    return new SlottedDirective(propertyOrOptions);\n}\n", "import { isString, noop } from \"../interfaces.js\";\nimport { HTMLDirective } from \"./html-directive.js\";\nimport { NodeObservationDirective } from \"./node-observation.js\";\n/**\n * The runtime behavior for child node observation.\n * @public\n */\nexport class ChildrenDirective extends NodeObservationDirective {\n    /**\n     * Creates an instance of ChildrenDirective.\n     * @param options - The options to use in configuring the child observation behavior.\n     */\n    constructor(options) {\n        super(options);\n        this.observerProperty = Symbol();\n        this.handleEvent = (mutations, observer) => {\n            const target = observer.target;\n            this.updateTarget(this.getSource(target), this.computeNodes(target));\n        };\n        options.childList = true;\n    }\n    /**\n     * Begins observation of the nodes.\n     * @param target - The target to observe.\n     */\n    observe(target) {\n        let observer = target[this.observerProperty];\n        if (!observer) {\n            observer = new MutationObserver(this.handleEvent);\n            observer.toJSON = noop;\n            target[this.observerProperty] = observer;\n        }\n        observer.target = target;\n        observer.observe(target, this.options);\n    }\n    /**\n     * Disconnects observation of the nodes.\n     * @param target - The target to unobserve.\n     */\n    disconnect(target) {\n        const observer = target[this.observerProperty];\n        observer.target = null;\n        observer.disconnect();\n    }\n    /**\n     * Retrieves the raw nodes that should be assigned to the source property.\n     * @param target - The target to get the node to.\n     */\n    getNodes(target) {\n        if (\"selector\" in this.options) {\n            return Array.from(target.querySelectorAll(this.options.selector));\n        }\n        return Array.from(target.childNodes);\n    }\n}\nHTMLDirective.define(ChildrenDirective);\n/**\n * A directive that observes the `childNodes` of an element and updates a property\n * whenever they change.\n * @param propertyOrOptions - The options used to configure child node observation.\n * @public\n */\nexport function children(propertyOrOptions) {\n    if (isString(propertyOrOptions)) {\n        propertyOrOptions = {\n            property: propertyOrOptions,\n        };\n    }\n    return new ChildrenDirective(propertyOrOptions);\n}\n", "import { Observable } from \"../observation/observable.js\";\nimport { isString } from \"../interfaces.js\";\nimport { Updates } from \"../observation/update-queue.js\";\nimport { DOM } from \"../dom.js\";\nimport { createMetadataLocator } from \"../platform.js\";\nconst booleanMode = \"boolean\";\nconst reflectMode = \"reflect\";\n/**\n * Metadata used to configure a custom attribute's behavior.\n * @public\n */\nexport const AttributeConfiguration = Object.freeze({\n    /**\n     * Locates all attribute configurations associated with a type.\n     */\n    locate: createMetadataLocator(),\n});\n/**\n * A {@link ValueConverter} that converts to and from `boolean` values.\n * @remarks\n * Used automatically when the `boolean` {@link AttributeMode} is selected.\n * @public\n */\nexport const booleanConverter = {\n    toView(value) {\n        return value ? \"true\" : \"false\";\n    },\n    fromView(value) {\n        return value === null ||\n            value === void 0 ||\n            value === \"false\" ||\n            value === false ||\n            value === 0\n            ? false\n            : true;\n    },\n};\n/**\n * A {@link ValueConverter} that converts to and from `boolean` values. `null`, `undefined`, `\"\"`, and `void` values are converted to `null`.\n * @public\n */\nexport const nullableBooleanConverter = {\n    toView(value) {\n        return typeof value === \"boolean\" ? value.toString() : \"\";\n    },\n    fromView(value) {\n        return [null, undefined, void 0].includes(value)\n            ? null\n            : booleanConverter.fromView(value);\n    },\n};\nfunction toNumber(value) {\n    if (value === null || value === undefined) {\n        return null;\n    }\n    const number = value * 1;\n    return isNaN(number) ? null : number;\n}\n/**\n * A {@link ValueConverter} that converts to and from `number` values.\n * @remarks\n * This converter allows for nullable numbers, returning `null` if the\n * input was `null`, `undefined`, or `NaN`.\n * @public\n */\nexport const nullableNumberConverter = {\n    toView(value) {\n        const output = toNumber(value);\n        return output ? output.toString() : output;\n    },\n    fromView: toNumber,\n};\n/**\n * An implementation of {@link Accessor} that supports reactivity,\n * change callbacks, attribute reflection, and type conversion for\n * custom elements.\n * @public\n */\nexport class AttributeDefinition {\n    /**\n     * Creates an instance of AttributeDefinition.\n     * @param Owner - The class constructor that owns this attribute.\n     * @param name - The name of the property associated with the attribute.\n     * @param attribute - The name of the attribute in HTML.\n     * @param mode - The {@link AttributeMode} that describes the behavior of this attribute.\n     * @param converter - A {@link ValueConverter} that integrates with the property getter/setter\n     * to convert values to and from a DOM string.\n     */\n    constructor(Owner, name, attribute = name.toLowerCase(), mode = reflectMode, converter) {\n        this.guards = new Set();\n        this.Owner = Owner;\n        this.name = name;\n        this.attribute = attribute;\n        this.mode = mode;\n        this.converter = converter;\n        this.fieldName = `_${name}`;\n        this.callbackName = `${name}Changed`;\n        this.hasCallback = this.callbackName in Owner.prototype;\n        if (mode === booleanMode && converter === void 0) {\n            this.converter = booleanConverter;\n        }\n    }\n    /**\n     * Sets the value of the attribute/property on the source element.\n     * @param source - The source element to access.\n     * @param value - The value to set the attribute/property to.\n     */\n    setValue(source, newValue) {\n        const oldValue = source[this.fieldName];\n        const converter = this.converter;\n        if (converter !== void 0) {\n            newValue = converter.fromView(newValue);\n        }\n        if (oldValue !== newValue) {\n            source[this.fieldName] = newValue;\n            this.tryReflectToAttribute(source);\n            if (this.hasCallback) {\n                source[this.callbackName](oldValue, newValue);\n            }\n            source.$fastController.notify(this.name);\n        }\n    }\n    /**\n     * Gets the value of the attribute/property on the source element.\n     * @param source - The source element to access.\n     */\n    getValue(source) {\n        Observable.track(source, this.name);\n        return source[this.fieldName];\n    }\n    /** @internal */\n    onAttributeChangedCallback(element, value) {\n        if (this.guards.has(element)) {\n            return;\n        }\n        this.guards.add(element);\n        this.setValue(element, value);\n        this.guards.delete(element);\n    }\n    tryReflectToAttribute(element) {\n        const mode = this.mode;\n        const guards = this.guards;\n        if (guards.has(element) || mode === \"fromView\") {\n            return;\n        }\n        Updates.enqueue(() => {\n            guards.add(element);\n            const latestValue = element[this.fieldName];\n            switch (mode) {\n                case reflectMode:\n                    const converter = this.converter;\n                    DOM.setAttribute(element, this.attribute, converter !== void 0 ? converter.toView(latestValue) : latestValue);\n                    break;\n                case booleanMode:\n                    DOM.setBooleanAttribute(element, this.attribute, latestValue);\n                    break;\n            }\n            guards.delete(element);\n        });\n    }\n    /**\n     * Collects all attribute definitions associated with the owner.\n     * @param Owner - The class constructor to collect attribute for.\n     * @param attributeLists - Any existing attributes to collect and merge with those associated with the owner.\n     * @internal\n     */\n    static collect(Owner, ...attributeLists) {\n        const attributes = [];\n        attributeLists.push(AttributeConfiguration.locate(Owner));\n        for (let i = 0, ii = attributeLists.length; i < ii; ++i) {\n            const list = attributeLists[i];\n            if (list === void 0) {\n                continue;\n            }\n            for (let j = 0, jj = list.length; j < jj; ++j) {\n                const config = list[j];\n                if (isString(config)) {\n                    attributes.push(new AttributeDefinition(Owner, config));\n                }\n                else {\n                    attributes.push(new AttributeDefinition(Owner, config.property, config.attribute, config.mode, config.converter));\n                }\n            }\n        }\n        return attributes;\n    }\n}\nexport function attr(configOrTarget, prop) {\n    let config;\n    function decorator($target, $prop) {\n        if (arguments.length > 1) {\n            // Non invocation:\n            // - @attr\n            // Invocation with or w/o opts:\n            // - @attr()\n            // - @attr({...opts})\n            config.property = $prop;\n        }\n        AttributeConfiguration.locate($target.constructor).push(config);\n    }\n    if (arguments.length > 1) {\n        // Non invocation:\n        // - @attr\n        config = {};\n        decorator(configOrTarget, prop);\n        return;\n    }\n    // Invocation with or w/o opts:\n    // - @attr()\n    // - @attr({...opts})\n    config = configOrTarget === void 0 ? {} : configOrTarget;\n    return decorator;\n}\n", "import { isString, KernelServiceId } from \"../interfaces.js\";\nimport { Observable } from \"../observation/observable.js\";\nimport { createTypeRegistry, FAST } from \"../platform.js\";\nimport { ElementStyles } from \"../styles/element-styles.js\";\nimport { AttributeDefinition } from \"./attributes.js\";\nconst defaultShadowOptions = { mode: \"open\" };\nconst defaultElementOptions = {};\nconst fastElementBaseTypes = new Set();\nconst fastElementRegistry = FAST.getById(KernelServiceId.elementRegistry, () => createTypeRegistry());\n/**\n * Defines metadata for a FASTElement.\n * @public\n */\nexport class FASTElementDefinition {\n    constructor(type, nameOrConfig = type.definition) {\n        var _a;\n        this.platformDefined = false;\n        if (isString(nameOrConfig)) {\n            nameOrConfig = { name: nameOrConfig };\n        }\n        this.type = type;\n        this.name = nameOrConfig.name;\n        this.template = nameOrConfig.template;\n        this.registry = (_a = nameOrConfig.registry) !== null && _a !== void 0 ? _a : customElements;\n        const proto = type.prototype;\n        const attributes = AttributeDefinition.collect(type, nameOrConfig.attributes);\n        const observedAttributes = new Array(attributes.length);\n        const propertyLookup = {};\n        const attributeLookup = {};\n        for (let i = 0, ii = attributes.length; i < ii; ++i) {\n            const current = attributes[i];\n            observedAttributes[i] = current.attribute;\n            propertyLookup[current.name] = current;\n            attributeLookup[current.attribute] = current;\n            Observable.defineProperty(proto, current);\n        }\n        Reflect.defineProperty(type, \"observedAttributes\", {\n            value: observedAttributes,\n            enumerable: true,\n        });\n        this.attributes = attributes;\n        this.propertyLookup = propertyLookup;\n        this.attributeLookup = attributeLookup;\n        this.shadowOptions =\n            nameOrConfig.shadowOptions === void 0\n                ? defaultShadowOptions\n                : nameOrConfig.shadowOptions === null\n                    ? void 0\n                    : Object.assign(Object.assign({}, defaultShadowOptions), nameOrConfig.shadowOptions);\n        this.elementOptions =\n            nameOrConfig.elementOptions === void 0\n                ? defaultElementOptions\n                : Object.assign(Object.assign({}, defaultElementOptions), nameOrConfig.elementOptions);\n        this.styles = ElementStyles.normalize(nameOrConfig.styles);\n        fastElementRegistry.register(this);\n    }\n    /**\n     * Indicates if this element has been defined in at least one registry.\n     */\n    get isDefined() {\n        return this.platformDefined;\n    }\n    /**\n     * Defines a custom element based on this definition.\n     * @param registry - The element registry to define the element in.\n     * @remarks\n     * This operation is idempotent per registry.\n     */\n    define(registry = this.registry) {\n        const type = this.type;\n        if (!registry.get(this.name)) {\n            this.platformDefined = true;\n            registry.define(this.name, type, this.elementOptions);\n        }\n        return this;\n    }\n    /**\n     * Creates an instance of FASTElementDefinition.\n     * @param type - The type this definition is being created for.\n     * @param nameOrDef - The name of the element to define or a config object\n     * that describes the element to define.\n     */\n    static compose(type, nameOrDef) {\n        if (fastElementBaseTypes.has(type) || fastElementRegistry.getByType(type)) {\n            return new FASTElementDefinition(class extends type {\n            }, nameOrDef);\n        }\n        return new FASTElementDefinition(type, nameOrDef);\n    }\n    /**\n     * Registers a FASTElement base type.\n     * @param type - The type to register as a base type.\n     * @internal\n     */\n    static registerBaseType(type) {\n        fastElementBaseTypes.add(type);\n    }\n}\n/**\n * Gets the element definition associated with the specified type.\n * @param type - The custom element type to retrieve the definition for.\n */\nFASTElementDefinition.getByType = fastElementRegistry.getByType;\n/**\n * Gets the element definition associated with the instance.\n * @param instance - The custom element instance to retrieve the definition for.\n */\nFASTElementDefinition.getForInstance = fastElementRegistry.getForInstance;\n", "import \"../interfaces.js\";\nimport { PropertyChangeNotifier } from \"../observation/notifier.js\";\nimport { ExecutionContext, Observable, SourceLifetime, } from \"../observation/observable.js\";\nimport { FAST, makeSerializationNoop } from \"../platform.js\";\nimport { ElementStyles } from \"../styles/element-styles.js\";\nimport { FASTElementDefinition } from \"./fast-definitions.js\";\nconst defaultEventOptions = {\n    bubbles: true,\n    composed: true,\n    cancelable: true,\n};\nconst isConnectedPropertyName = \"isConnected\";\nconst shadowRoots = new WeakMap();\nfunction getShadowRoot(element) {\n    var _a, _b;\n    return (_b = (_a = element.shadowRoot) !== null && _a !== void 0 ? _a : shadowRoots.get(element)) !== null && _b !== void 0 ? _b : null;\n}\nlet elementControllerStrategy;\n/**\n * Controls the lifecycle and rendering of a `FASTElement`.\n * @public\n */\nexport class ElementController extends PropertyChangeNotifier {\n    /**\n     * Creates a Controller to control the specified element.\n     * @param element - The element to be controlled by this controller.\n     * @param definition - The element definition metadata that instructs this\n     * controller in how to handle rendering and other platform integrations.\n     * @internal\n     */\n    constructor(element, definition) {\n        super(element);\n        this.boundObservables = null;\n        this.needsInitialization = true;\n        this.hasExistingShadowRoot = false;\n        this._template = null;\n        this.stage = 3 /* Stages.disconnected */;\n        /**\n         * A guard against connecting behaviors multiple times\n         * during connect in scenarios where a behavior adds\n         * another behavior during it's connectedCallback\n         */\n        this.guardBehaviorConnection = false;\n        this.behaviors = null;\n        this._mainStyles = null;\n        /**\n         * This allows Observable.getNotifier(...) to return the Controller\n         * when the notifier for the Controller itself is being requested. The\n         * result is that the Observable system does not need to create a separate\n         * instance of Notifier for observables on the Controller. The component and\n         * the controller will now share the same notifier, removing one-object construct\n         * per web component instance.\n         */\n        this.$fastController = this;\n        /**\n         * The view associated with the custom element.\n         * @remarks\n         * If `null` then the element is managing its own rendering.\n         */\n        this.view = null;\n        this.source = element;\n        this.definition = definition;\n        const shadowOptions = definition.shadowOptions;\n        if (shadowOptions !== void 0) {\n            let shadowRoot = element.shadowRoot;\n            if (shadowRoot) {\n                this.hasExistingShadowRoot = true;\n            }\n            else {\n                shadowRoot = element.attachShadow(shadowOptions);\n                if (shadowOptions.mode === \"closed\") {\n                    shadowRoots.set(element, shadowRoot);\n                }\n            }\n        }\n        // Capture any observable values that were set by the binding engine before\n        // the browser upgraded the element. Then delete the property since it will\n        // shadow the getter/setter that is required to make the observable operate.\n        // Later, in the connect callback, we'll re-apply the values.\n        const accessors = Observable.getAccessors(element);\n        if (accessors.length > 0) {\n            const boundObservables = (this.boundObservables = Object.create(null));\n            for (let i = 0, ii = accessors.length; i < ii; ++i) {\n                const propertyName = accessors[i].name;\n                const value = element[propertyName];\n                if (value !== void 0) {\n                    delete element[propertyName];\n                    boundObservables[propertyName] = value;\n                }\n            }\n        }\n    }\n    /**\n     * Indicates whether or not the custom element has been\n     * connected to the document.\n     */\n    get isConnected() {\n        Observable.track(this, isConnectedPropertyName);\n        return this.stage === 1 /* Stages.connected */;\n    }\n    /**\n     * The context the expression is evaluated against.\n     */\n    get context() {\n        var _a, _b;\n        return (_b = (_a = this.view) === null || _a === void 0 ? void 0 : _a.context) !== null && _b !== void 0 ? _b : ExecutionContext.default;\n    }\n    /**\n     * Indicates whether the controller is bound.\n     */\n    get isBound() {\n        var _a, _b;\n        return (_b = (_a = this.view) === null || _a === void 0 ? void 0 : _a.isBound) !== null && _b !== void 0 ? _b : false;\n    }\n    /**\n     * Indicates how the source's lifetime relates to the controller's lifetime.\n     */\n    get sourceLifetime() {\n        var _a;\n        return (_a = this.view) === null || _a === void 0 ? void 0 : _a.sourceLifetime;\n    }\n    /**\n     * Gets/sets the template used to render the component.\n     * @remarks\n     * This value can only be accurately read after connect but can be set at any time.\n     */\n    get template() {\n        var _a;\n        // 1. Template overrides take top precedence.\n        if (this._template === null) {\n            const definition = this.definition;\n            if (this.source.resolveTemplate) {\n                // 2. Allow for element instance overrides next.\n                this._template = this.source.resolveTemplate();\n            }\n            else if (definition.template) {\n                // 3. Default to the static definition.\n                this._template = (_a = definition.template) !== null && _a !== void 0 ? _a : null;\n            }\n        }\n        return this._template;\n    }\n    set template(value) {\n        if (this._template === value) {\n            return;\n        }\n        this._template = value;\n        if (!this.needsInitialization) {\n            this.renderTemplate(value);\n        }\n    }\n    /**\n     * The main set of styles used for the component, independent\n     * of any dynamically added styles.\n     */\n    get mainStyles() {\n        var _a;\n        // 1. Styles overrides take top precedence.\n        if (this._mainStyles === null) {\n            const definition = this.definition;\n            if (this.source.resolveStyles) {\n                // 2. Allow for element instance overrides next.\n                this._mainStyles = this.source.resolveStyles();\n            }\n            else if (definition.styles) {\n                // 3. Default to the static definition.\n                this._mainStyles = (_a = definition.styles) !== null && _a !== void 0 ? _a : null;\n            }\n        }\n        return this._mainStyles;\n    }\n    set mainStyles(value) {\n        if (this._mainStyles === value) {\n            return;\n        }\n        if (this._mainStyles !== null) {\n            this.removeStyles(this._mainStyles);\n        }\n        this._mainStyles = value;\n        if (!this.needsInitialization) {\n            this.addStyles(value);\n        }\n    }\n    /**\n     * Registers an unbind handler with the controller.\n     * @param behavior - An object to call when the controller unbinds.\n     */\n    onUnbind(behavior) {\n        var _a;\n        (_a = this.view) === null || _a === void 0 ? void 0 : _a.onUnbind(behavior);\n    }\n    /**\n     * Adds the behavior to the component.\n     * @param behavior - The behavior to add.\n     */\n    addBehavior(behavior) {\n        var _a, _b;\n        const targetBehaviors = (_a = this.behaviors) !== null && _a !== void 0 ? _a : (this.behaviors = new Map());\n        const count = (_b = targetBehaviors.get(behavior)) !== null && _b !== void 0 ? _b : 0;\n        if (count === 0) {\n            targetBehaviors.set(behavior, 1);\n            behavior.addedCallback && behavior.addedCallback(this);\n            if (behavior.connectedCallback &&\n                !this.guardBehaviorConnection &&\n                (this.stage === 1 /* Stages.connected */ || this.stage === 0 /* Stages.connecting */)) {\n                behavior.connectedCallback(this);\n            }\n        }\n        else {\n            targetBehaviors.set(behavior, count + 1);\n        }\n    }\n    /**\n     * Removes the behavior from the component.\n     * @param behavior - The behavior to remove.\n     * @param force - Forces removal even if this behavior was added more than once.\n     */\n    removeBehavior(behavior, force = false) {\n        const targetBehaviors = this.behaviors;\n        if (targetBehaviors === null) {\n            return;\n        }\n        const count = targetBehaviors.get(behavior);\n        if (count === void 0) {\n            return;\n        }\n        if (count === 1 || force) {\n            targetBehaviors.delete(behavior);\n            if (behavior.disconnectedCallback && this.stage !== 3 /* Stages.disconnected */) {\n                behavior.disconnectedCallback(this);\n            }\n            behavior.removedCallback && behavior.removedCallback(this);\n        }\n        else {\n            targetBehaviors.set(behavior, count - 1);\n        }\n    }\n    /**\n     * Adds styles to this element. Providing an HTMLStyleElement will attach the element instance to the shadowRoot.\n     * @param styles - The styles to add.\n     */\n    addStyles(styles) {\n        var _a;\n        if (!styles) {\n            return;\n        }\n        const source = this.source;\n        if (styles instanceof HTMLElement) {\n            const target = (_a = getShadowRoot(source)) !== null && _a !== void 0 ? _a : this.source;\n            target.append(styles);\n        }\n        else if (!styles.isAttachedTo(source)) {\n            const sourceBehaviors = styles.behaviors;\n            styles.addStylesTo(source);\n            if (sourceBehaviors !== null) {\n                for (let i = 0, ii = sourceBehaviors.length; i < ii; ++i) {\n                    this.addBehavior(sourceBehaviors[i]);\n                }\n            }\n        }\n    }\n    /**\n     * Removes styles from this element. Providing an HTMLStyleElement will detach the element instance from the shadowRoot.\n     * @param styles - the styles to remove.\n     */\n    removeStyles(styles) {\n        var _a;\n        if (!styles) {\n            return;\n        }\n        const source = this.source;\n        if (styles instanceof HTMLElement) {\n            const target = (_a = getShadowRoot(source)) !== null && _a !== void 0 ? _a : source;\n            target.removeChild(styles);\n        }\n        else if (styles.isAttachedTo(source)) {\n            const sourceBehaviors = styles.behaviors;\n            styles.removeStylesFrom(source);\n            if (sourceBehaviors !== null) {\n                for (let i = 0, ii = sourceBehaviors.length; i < ii; ++i) {\n                    this.removeBehavior(sourceBehaviors[i]);\n                }\n            }\n        }\n    }\n    /**\n     * Runs connected lifecycle behavior on the associated element.\n     */\n    connect() {\n        if (this.stage !== 3 /* Stages.disconnected */) {\n            return;\n        }\n        this.stage = 0 /* Stages.connecting */;\n        // If we have any observables that were bound, re-apply their values.\n        if (this.boundObservables !== null) {\n            const element = this.source;\n            const boundObservables = this.boundObservables;\n            const propertyNames = Object.keys(boundObservables);\n            for (let i = 0, ii = propertyNames.length; i < ii; ++i) {\n                const propertyName = propertyNames[i];\n                element[propertyName] = boundObservables[propertyName];\n            }\n            this.boundObservables = null;\n        }\n        const behaviors = this.behaviors;\n        if (behaviors !== null) {\n            this.guardBehaviorConnection = true;\n            for (const key of behaviors.keys()) {\n                key.connectedCallback && key.connectedCallback(this);\n            }\n            this.guardBehaviorConnection = false;\n        }\n        if (this.needsInitialization) {\n            this.renderTemplate(this.template);\n            this.addStyles(this.mainStyles);\n            this.needsInitialization = false;\n        }\n        else if (this.view !== null) {\n            this.view.bind(this.source);\n        }\n        this.stage = 1 /* Stages.connected */;\n        Observable.notify(this, isConnectedPropertyName);\n    }\n    /**\n     * Runs disconnected lifecycle behavior on the associated element.\n     */\n    disconnect() {\n        if (this.stage !== 1 /* Stages.connected */) {\n            return;\n        }\n        this.stage = 2 /* Stages.disconnecting */;\n        Observable.notify(this, isConnectedPropertyName);\n        if (this.view !== null) {\n            this.view.unbind();\n        }\n        const behaviors = this.behaviors;\n        if (behaviors !== null) {\n            for (const key of behaviors.keys()) {\n                key.disconnectedCallback && key.disconnectedCallback(this);\n            }\n        }\n        this.stage = 3 /* Stages.disconnected */;\n    }\n    /**\n     * Runs the attribute changed callback for the associated element.\n     * @param name - The name of the attribute that changed.\n     * @param oldValue - The previous value of the attribute.\n     * @param newValue - The new value of the attribute.\n     */\n    onAttributeChangedCallback(name, oldValue, newValue) {\n        const attrDef = this.definition.attributeLookup[name];\n        if (attrDef !== void 0) {\n            attrDef.onAttributeChangedCallback(this.source, newValue);\n        }\n    }\n    /**\n     * Emits a custom HTML event.\n     * @param type - The type name of the event.\n     * @param detail - The event detail object to send with the event.\n     * @param options - The event options. By default bubbles and composed.\n     * @remarks\n     * Only emits events if connected.\n     */\n    emit(type, detail, options) {\n        if (this.stage === 1 /* Stages.connected */) {\n            return this.source.dispatchEvent(new CustomEvent(type, Object.assign(Object.assign({ detail }, defaultEventOptions), options)));\n        }\n        return false;\n    }\n    renderTemplate(template) {\n        var _a;\n        // When getting the host to render to, we start by looking\n        // up the shadow root. If there isn't one, then that means\n        // we're doing a Light DOM render to the element's direct children.\n        const element = this.source;\n        const host = (_a = getShadowRoot(element)) !== null && _a !== void 0 ? _a : element;\n        if (this.view !== null) {\n            // If there's already a view, we need to unbind and remove through dispose.\n            this.view.dispose();\n            this.view = null;\n        }\n        else if (!this.needsInitialization || this.hasExistingShadowRoot) {\n            this.hasExistingShadowRoot = false;\n            // If there was previous custom rendering, we need to clear out the host.\n            for (let child = host.firstChild; child !== null; child = host.firstChild) {\n                host.removeChild(child);\n            }\n        }\n        if (template) {\n            // If a new template was provided, render it.\n            this.view = template.render(element, host, element);\n            this.view.sourceLifetime =\n                SourceLifetime.coupled;\n        }\n    }\n    /**\n     * Locates or creates a controller for the specified element.\n     * @param element - The element to return the controller for.\n     * @remarks\n     * The specified element must have a {@link FASTElementDefinition}\n     * registered either through the use of the {@link customElement}\n     * decorator or a call to `FASTElement.define`.\n     */\n    static forCustomElement(element) {\n        const controller = element.$fastController;\n        if (controller !== void 0) {\n            return controller;\n        }\n        const definition = FASTElementDefinition.getForInstance(element);\n        if (definition === void 0) {\n            throw FAST.error(1401 /* Message.missingElementDefinition */);\n        }\n        return (element.$fastController = new elementControllerStrategy(element, definition));\n    }\n    /**\n     * Sets the strategy that ElementController.forCustomElement uses to construct\n     * ElementController instances for an element.\n     * @param strategy - The strategy to use.\n     */\n    static setStrategy(strategy) {\n        elementControllerStrategy = strategy;\n    }\n}\nmakeSerializationNoop(ElementController);\n// Set default strategy for ElementController\nElementController.setStrategy(ElementController);\n/**\n * Converts a styleTarget into the operative target. When the provided target is an Element\n * that is a FASTElement, the function will return the ShadowRoot for that element. Otherwise,\n * it will return the root node for the element.\n * @param target\n * @returns\n */\nfunction normalizeStyleTarget(target) {\n    var _a;\n    if (\"adoptedStyleSheets\" in target) {\n        return target;\n    }\n    else {\n        return ((_a = getShadowRoot(target)) !== null && _a !== void 0 ? _a : target.getRootNode());\n    }\n}\n// Default StyleStrategy implementations are defined in this module because they\n// require access to element shadowRoots, and we don't want to leak shadowRoot\n// objects out of this module.\n/**\n * https://wicg.github.io/construct-stylesheets/\n * https://developers.google.com/web/updates/2019/02/constructable-stylesheets\n *\n * @internal\n */\nexport class AdoptedStyleSheetsStrategy {\n    constructor(styles) {\n        const styleSheetCache = AdoptedStyleSheetsStrategy.styleSheetCache;\n        this.sheets = styles.map((x) => {\n            if (x instanceof CSSStyleSheet) {\n                return x;\n            }\n            let sheet = styleSheetCache.get(x);\n            if (sheet === void 0) {\n                sheet = new CSSStyleSheet();\n                sheet.replaceSync(x);\n                styleSheetCache.set(x, sheet);\n            }\n            return sheet;\n        });\n    }\n    addStylesTo(target) {\n        addAdoptedStyleSheets(normalizeStyleTarget(target), this.sheets);\n    }\n    removeStylesFrom(target) {\n        removeAdoptedStyleSheets(normalizeStyleTarget(target), this.sheets);\n    }\n}\nAdoptedStyleSheetsStrategy.styleSheetCache = new Map();\nlet id = 0;\nconst nextStyleId = () => `fast-${++id}`;\nfunction usableStyleTarget(target) {\n    return target === document ? document.body : target;\n}\n/**\n * @internal\n */\nexport class StyleElementStrategy {\n    constructor(styles) {\n        this.styles = styles;\n        this.styleClass = nextStyleId();\n    }\n    addStylesTo(target) {\n        target = usableStyleTarget(normalizeStyleTarget(target));\n        const styles = this.styles;\n        const styleClass = this.styleClass;\n        for (let i = 0; i < styles.length; i++) {\n            const element = document.createElement(\"style\");\n            element.innerHTML = styles[i];\n            element.className = styleClass;\n            target.append(element);\n        }\n    }\n    removeStylesFrom(target) {\n        target = usableStyleTarget(normalizeStyleTarget(target));\n        const styles = target.querySelectorAll(`.${this.styleClass}`);\n        for (let i = 0, ii = styles.length; i < ii; ++i) {\n            target.removeChild(styles[i]);\n        }\n    }\n}\nlet addAdoptedStyleSheets = (target, sheets) => {\n    target.adoptedStyleSheets = [...target.adoptedStyleSheets, ...sheets];\n};\nlet removeAdoptedStyleSheets = (target, sheets) => {\n    target.adoptedStyleSheets = target.adoptedStyleSheets.filter((x) => sheets.indexOf(x) === -1);\n};\nif (ElementStyles.supportsAdoptedStyleSheets) {\n    try {\n        // Test if browser implementation uses FrozenArray.\n        // If not, use push / splice to alter the stylesheets\n        // in place. This circumvents a bug in Safari 16.4 where\n        // periodically, assigning the array would previously\n        // cause sheets to be removed.\n        document.adoptedStyleSheets.push();\n        document.adoptedStyleSheets.splice();\n        addAdoptedStyleSheets = (target, sheets) => {\n            target.adoptedStyleSheets.push(...sheets);\n        };\n        removeAdoptedStyleSheets = (target, sheets) => {\n            for (const sheet of sheets) {\n                const index = target.adoptedStyleSheets.indexOf(sheet);\n                if (index !== -1) {\n                    target.adoptedStyleSheets.splice(index, 1);\n                }\n            }\n        };\n    }\n    catch (e) {\n        // Do nothing if an error is thrown, the default\n        // case handles FrozenArray.\n    }\n    ElementStyles.setDefaultStrategy(AdoptedStyleSheetsStrategy);\n}\nelse {\n    ElementStyles.setDefaultStrategy(StyleElementStrategy);\n}\n", "import { isFunction } from \"../interfaces.js\";\nimport { ElementController } from \"./element-controller.js\";\nimport { FASTElementDefinition, } from \"./fast-definitions.js\";\n/* eslint-disable-next-line @typescript-eslint/explicit-function-return-type */\nfunction createFASTElement(BaseType) {\n    const type = class extends BaseType {\n        constructor() {\n            /* eslint-disable-next-line */\n            super();\n            ElementController.forCustomElement(this);\n        }\n        $emit(type, detail, options) {\n            return this.$fastController.emit(type, detail, options);\n        }\n        connectedCallback() {\n            this.$fastController.connect();\n        }\n        disconnectedCallback() {\n            this.$fastController.disconnect();\n        }\n        attributeChangedCallback(name, oldValue, newValue) {\n            this.$fastController.onAttributeChangedCallback(name, oldValue, newValue);\n        }\n    };\n    FASTElementDefinition.registerBaseType(type);\n    return type;\n}\nfunction compose(type, nameOrDef) {\n    if (isFunction(type)) {\n        return FASTElementDefinition.compose(type, nameOrDef);\n    }\n    return FASTElementDefinition.compose(this, type);\n}\nfunction define(type, nameOrDef) {\n    if (isFunction(type)) {\n        return FASTElementDefinition.compose(type, nameOrDef).define().type;\n    }\n    return FASTElementDefinition.compose(this, type).define().type;\n}\nfunction from(BaseType) {\n    return createFASTElement(BaseType);\n}\n/**\n * A minimal base class for FASTElements that also provides\n * static helpers for working with FASTElements.\n * @public\n */\nexport const FASTElement = Object.assign(createFASTElement(HTMLElement), {\n    /**\n     * Creates a new FASTElement base class inherited from the\n     * provided base type.\n     * @param BaseType - The base element type to inherit from.\n     */\n    from,\n    /**\n     * Defines a platform custom element based on the provided type and definition.\n     * @param type - The custom element type to define.\n     * @param nameOrDef - The name of the element to define or a definition object\n     * that describes the element to define.\n     */\n    define,\n    /**\n     * Defines metadata for a FASTElement which can be used to later define the element.\n     * @public\n     */\n    compose,\n});\n/**\n * Decorator: Defines a platform custom element based on `FASTElement`.\n * @param nameOrDef - The name of the element to define or a definition object\n * that describes the element to define.\n * @public\n */\nexport function customElement(nameOrDef) {\n    /* eslint-disable-next-line @typescript-eslint/explicit-function-return-type */\n    return function (type) {\n        define(type, nameOrDef);\n    };\n}\n", "const parseNumber = (color, len) => {\n\tif (typeof color !== 'number') return;\n\n\t// hex3: #c93 -> #cc9933\n\tif (len === 3) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: (((color >> 8) & 0xf) | ((color >> 4) & 0xf0)) / 255,\n\t\t\tg: (((color >> 4) & 0xf) | (color & 0xf0)) / 255,\n\t\t\tb: ((color & 0xf) | ((color << 4) & 0xf0)) / 255\n\t\t};\n\t}\n\n\t// hex4: #c931 -> #cc993311\n\tif (len === 4) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: (((color >> 12) & 0xf) | ((color >> 8) & 0xf0)) / 255,\n\t\t\tg: (((color >> 8) & 0xf) | ((color >> 4) & 0xf0)) / 255,\n\t\t\tb: (((color >> 4) & 0xf) | (color & 0xf0)) / 255,\n\t\t\talpha: ((color & 0xf) | ((color << 4) & 0xf0)) / 255\n\t\t};\n\t}\n\n\t// hex6: #f0f1f2\n\tif (len === 6) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: ((color >> 16) & 0xff) / 255,\n\t\t\tg: ((color >> 8) & 0xff) / 255,\n\t\t\tb: (color & 0xff) / 255\n\t\t};\n\t}\n\n\t// hex8: #f0f1f2ff\n\tif (len === 8) {\n\t\treturn {\n\t\t\tmode: 'rgb',\n\t\t\tr: ((color >> 24) & 0xff) / 255,\n\t\t\tg: ((color >> 16) & 0xff) / 255,\n\t\t\tb: ((color >> 8) & 0xff) / 255,\n\t\t\talpha: (color & 0xff) / 255\n\t\t};\n\t}\n};\n\nexport default parseNumber;\n", "const named = {\n\taliceblue: 0xf0f8ff,\n\tantiquewhite: 0xfaebd7,\n\taqua: 0x00ffff,\n\taquamarine: 0x7fffd4,\n\tazure: 0xf0ffff,\n\tbeige: 0xf5f5dc,\n\tbisque: 0xffe4c4,\n\tblack: 0x000000,\n\tblanchedalmond: 0xffebcd,\n\tblue: 0x0000ff,\n\tblueviolet: 0x8a2be2,\n\tbrown: 0xa52a2a,\n\tburlywood: 0xdeb887,\n\tcadetblue: 0x5f9ea0,\n\tchartreuse: 0x7fff00,\n\tchocolate: 0xd2691e,\n\tcoral: 0xff7f50,\n\tcornflowerblue: 0x6495ed,\n\tcornsilk: 0xfff8dc,\n\tcrimson: 0xdc143c,\n\tcyan: 0x00ffff,\n\tdarkblue: 0x00008b,\n\tdarkcyan: 0x008b8b,\n\tdarkgoldenrod: 0xb8860b,\n\tdarkgray: 0xa9a9a9,\n\tdarkgreen: 0x006400,\n\tdarkgrey: 0xa9a9a9,\n\tdarkkhaki: 0xbdb76b,\n\tdarkmagenta: 0x8b008b,\n\tdarkolivegreen: 0x556b2f,\n\tdarkorange: 0xff8c00,\n\tdarkorchid: 0x9932cc,\n\tdarkred: 0x8b0000,\n\tdarksalmon: 0xe9967a,\n\tdarkseagreen: 0x8fbc8f,\n\tdarkslateblue: 0x483d8b,\n\tdarkslategray: 0x2f4f4f,\n\tdarkslategrey: 0x2f4f4f,\n\tdarkturquoise: 0x00ced1,\n\tdarkviolet: 0x9400d3,\n\tdeeppink: 0xff1493,\n\tdeepskyblue: 0x00bfff,\n\tdimgray: 0x696969,\n\tdimgrey: 0x696969,\n\tdodgerblue: 0x1e90ff,\n\tfirebrick: 0xb22222,\n\tfloralwhite: 0xfffaf0,\n\tforestgreen: 0x228b22,\n\tfuchsia: 0xff00ff,\n\tgainsboro: 0xdcdcdc,\n\tghostwhite: 0xf8f8ff,\n\tgold: 0xffd700,\n\tgoldenrod: 0xdaa520,\n\tgray: 0x808080,\n\tgreen: 0x008000,\n\tgreenyellow: 0xadff2f,\n\tgrey: 0x808080,\n\thoneydew: 0xf0fff0,\n\thotpink: 0xff69b4,\n\tindianred: 0xcd5c5c,\n\tindigo: 0x4b0082,\n\tivory: 0xfffff0,\n\tkhaki: 0xf0e68c,\n\tlavender: 0xe6e6fa,\n\tlavenderblush: 0xfff0f5,\n\tlawngreen: 0x7cfc00,\n\tlemonchiffon: 0xfffacd,\n\tlightblue: 0xadd8e6,\n\tlightcoral: 0xf08080,\n\tlightcyan: 0xe0ffff,\n\tlightgoldenrodyellow: 0xfafad2,\n\tlightgray: 0xd3d3d3,\n\tlightgreen: 0x90ee90,\n\tlightgrey: 0xd3d3d3,\n\tlightpink: 0xffb6c1,\n\tlightsalmon: 0xffa07a,\n\tlightseagreen: 0x20b2aa,\n\tlightskyblue: 0x87cefa,\n\tlightslategray: 0x778899,\n\tlightslategrey: 0x778899,\n\tlightsteelblue: 0xb0c4de,\n\tlightyellow: 0xffffe0,\n\tlime: 0x00ff00,\n\tlimegreen: 0x32cd32,\n\tlinen: 0xfaf0e6,\n\tmagenta: 0xff00ff,\n\tmaroon: 0x800000,\n\tmediumaquamarine: 0x66cdaa,\n\tmediumblue: 0x0000cd,\n\tmediumorchid: 0xba55d3,\n\tmediumpurple: 0x9370db,\n\tmediumseagreen: 0x3cb371,\n\tmediumslateblue: 0x7b68ee,\n\tmediumspringgreen: 0x00fa9a,\n\tmediumturquoise: 0x48d1cc,\n\tmediumvioletred: 0xc71585,\n\tmidnightblue: 0x191970,\n\tmintcream: 0xf5fffa,\n\tmistyrose: 0xffe4e1,\n\tmoccasin: 0xffe4b5,\n\tnavajowhite: 0xffdead,\n\tnavy: 0x000080,\n\toldlace: 0xfdf5e6,\n\tolive: 0x808000,\n\tolivedrab: 0x6b8e23,\n\torange: 0xffa500,\n\torangered: 0xff4500,\n\torchid: 0xda70d6,\n\tpalegoldenrod: 0xeee8aa,\n\tpalegreen: 0x98fb98,\n\tpaleturquoise: 0xafeeee,\n\tpalevioletred: 0xdb7093,\n\tpapayawhip: 0xffefd5,\n\tpeachpuff: 0xffdab9,\n\tperu: 0xcd853f,\n\tpink: 0xffc0cb,\n\tplum: 0xdda0dd,\n\tpowderblue: 0xb0e0e6,\n\tpurple: 0x800080,\n\n\t// Added in CSS Colors Level 4:\n\t// https://drafts.csswg.org/css-color/#changes-from-3\n\trebeccapurple: 0x663399,\n\n\tred: 0xff0000,\n\trosybrown: 0xbc8f8f,\n\troyalblue: 0x4169e1,\n\tsaddlebrown: 0x8b4513,\n\tsalmon: 0xfa8072,\n\tsandybrown: 0xf4a460,\n\tseagreen: 0x2e8b57,\n\tseashell: 0xfff5ee,\n\tsienna: 0xa0522d,\n\tsilver: 0xc0c0c0,\n\tskyblue: 0x87ceeb,\n\tslateblue: 0x6a5acd,\n\tslategray: 0x708090,\n\tslategrey: 0x708090,\n\tsnow: 0xfffafa,\n\tspringgreen: 0x00ff7f,\n\tsteelblue: 0x4682b4,\n\ttan: 0xd2b48c,\n\tteal: 0x008080,\n\tthistle: 0xd8bfd8,\n\ttomato: 0xff6347,\n\tturquoise: 0x40e0d0,\n\tviolet: 0xee82ee,\n\twheat: 0xf5deb3,\n\twhite: 0xffffff,\n\twhitesmoke: 0xf5f5f5,\n\tyellow: 0xffff00,\n\tyellowgreen: 0x9acd32\n};\n\nexport default named;\n", "import parseNumber from './parseNumber.js';\nimport named from '../colors/named.js';\n\n// Also supports the `transparent` color as defined in:\n// https://drafts.csswg.org/css-color/#transparent-black\nconst parseNamed = color => {\n\treturn parseNumber(named[color.toLowerCase()], 6);\n};\n\nexport default parseNamed;\n", "import parseNumber from './parseNumber.js';\n\nconst hex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i;\n\nconst parseHex = color => {\n\tlet match;\n\t// eslint-disable-next-line no-cond-assign\n\treturn (match = color.match(hex))\n\t\t? parseNumber(parseInt(match[1], 16), match[1].length)\n\t\t: undefined;\n};\n\nexport default parseHex;\n", "/*\n\tBasic building blocks for color regexes\n\t---------------------------------------\n\n\tThese regexes are expressed as strings\n\tto be interpolated in the color regexes.\n */\n\n// <number>\nexport const num = '([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)';\n\n// <number> or 'none'\nexport const num_none = `(?:${num}|none)`;\n\n// <percentage>\nexport const per = `${num}%`;\n\n// <percent> or 'none'\nexport const per_none = `(?:${num}%|none)`;\n\n// <number-percentage> (<alpha-value>)\nexport const num_per = `(?:${num}%|${num})`;\n\n// <number-percentage> (<alpha-value>) or 'none'\nexport const num_per_none = `(?:${num}%|${num}|none)`;\n\n// <hue>\nexport const hue = `(?:${num}(deg|grad|rad|turn)|${num})`;\n\n// <hue> or 'none'\nexport const hue_none = `(?:${num}(deg|grad|rad|turn)|${num}|none)`;\n\nexport const c = `\\\\s*,\\\\s*`; // comma\nexport const so = '\\\\s*'; // space, optional\nexport const s = `\\\\s+`; // space\n\nexport const rx_num_per_none = new RegExp('^' + num_per_none + '$');\n", "import { num, per, num_per, c } from '../util/regex.js';\n\n/*\n\trgb() regular expressions for legacy format\n\tReference: https://drafts.csswg.org/css-color/#rgb-functions\n */\nconst rgb_num_old = new RegExp(\n\t`^rgba?\\\\(\\\\s*${num}${c}${num}${c}${num}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst rgb_per_old = new RegExp(\n\t`^rgba?\\\\(\\\\s*${per}${c}${per}${c}${per}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst parseRgbLegacy = color => {\n\tlet res = { mode: 'rgb' };\n\tlet match;\n\tif ((match = color.match(rgb_num_old))) {\n\t\tif (match[1] !== undefined) {\n\t\t\tres.r = match[1] / 255;\n\t\t}\n\t\tif (match[2] !== undefined) {\n\t\t\tres.g = match[2] / 255;\n\t\t}\n\t\tif (match[3] !== undefined) {\n\t\t\tres.b = match[3] / 255;\n\t\t}\n\t} else if ((match = color.match(rgb_per_old))) {\n\t\tif (match[1] !== undefined) {\n\t\t\tres.r = match[1] / 100;\n\t\t}\n\t\tif (match[2] !== undefined) {\n\t\t\tres.g = match[2] / 100;\n\t\t}\n\t\tif (match[3] !== undefined) {\n\t\t\tres.b = match[3] / 100;\n\t\t}\n\t} else {\n\t\treturn undefined;\n\t}\n\n\tif (match[4] !== undefined) {\n\t\tres.alpha = match[4] / 100;\n\t} else if (match[5] !== undefined) {\n\t\tres.alpha = +match[5];\n\t}\n\n\treturn res;\n};\n\nexport default parseRgbLegacy;\n", "import parse from './parse.js';\n\nconst prepare = (color, mode) =>\n\tcolor === undefined\n\t\t? undefined\n\t\t: typeof color !== 'object'\n\t\t? parse(color)\n\t\t: color.mode !== undefined\n\t\t? color\n\t\t: mode\n\t\t? { ...color, mode }\n\t\t: undefined;\n\nexport default prepare;\n", "import { converters } from './modes.js';\nimport prepare from './_prepare.js';\n\nconst converter =\n\t(target_mode = 'rgb') =>\n\tcolor =>\n\t\t(color = prepare(color, target_mode)) !== undefined\n\t\t\t? // if the color's mode corresponds to our target mode\n\t\t\t  color.mode === target_mode\n\t\t\t\t? // then just return the color\n\t\t\t\t  color\n\t\t\t\t: // otherwise check to see if we have a dedicated\n\t\t\t\t// converter for the target mode\n\t\t\t\tconverters[color.mode][target_mode]\n\t\t\t\t? // and return its result...\n\t\t\t\t  converters[color.mode][target_mode](color)\n\t\t\t\t: // ...otherwise pass through RGB as an intermediary step.\n\t\t\t\t// if the target mode is RGB...\n\t\t\t\ttarget_mode === 'rgb'\n\t\t\t\t? // just return the RGB\n\t\t\t\t  converters[color.mode].rgb(color)\n\t\t\t\t: // otherwise convert color.mode -> RGB -> target_mode\n\t\t\t\t  converters.rgb[target_mode](converters[color.mode].rgb(color))\n\t\t\t: undefined;\n\nexport default converter;\n", "import converter from './converter.js';\n\nconst converters = {};\nconst modes = {};\n\nconst parsers = [];\nconst colorProfiles = {};\n\nconst identity = v => v;\n\nconst useMode = definition => {\n\tconverters[definition.mode] = {\n\t\t...converters[definition.mode],\n\t\t...definition.toMode\n\t};\n\n\tObject.keys(definition.fromMode || {}).forEach(k => {\n\t\tif (!converters[k]) {\n\t\t\tconverters[k] = {};\n\t\t}\n\t\tconverters[k][definition.mode] = definition.fromMode[k];\n\t});\n\n\t// Color space channel ranges\n\tif (!definition.ranges) {\n\t\tdefinition.ranges = {};\n\t}\n\n\tif (!definition.difference) {\n\t\tdefinition.difference = {};\n\t}\n\n\tdefinition.channels.forEach(channel => {\n\t\t// undefined channel ranges default to the [0, 1] interval\n\t\tif (definition.ranges[channel] === undefined) {\n\t\t\tdefinition.ranges[channel] = [0, 1];\n\t\t}\n\n\t\tif (!definition.interpolate[channel]) {\n\t\t\tthrow new Error(`Missing interpolator for: ${channel}`);\n\t\t}\n\n\t\tif (typeof definition.interpolate[channel] === 'function') {\n\t\t\tdefinition.interpolate[channel] = {\n\t\t\t\tuse: definition.interpolate[channel]\n\t\t\t};\n\t\t}\n\n\t\tif (!definition.interpolate[channel].fixup) {\n\t\t\tdefinition.interpolate[channel].fixup = identity;\n\t\t}\n\t});\n\n\tmodes[definition.mode] = definition;\n\t(definition.parse || []).forEach(parser => {\n\t\tuseParser(parser, definition.mode);\n\t});\n\n\treturn converter(definition.mode);\n};\n\nconst getMode = mode => modes[mode];\n\nconst useParser = (parser, mode) => {\n\tif (typeof parser === 'string') {\n\t\tif (!mode) {\n\t\t\tthrow new Error(`'mode' required when 'parser' is a string`);\n\t\t}\n\t\tcolorProfiles[parser] = mode;\n\t} else if (typeof parser === 'function') {\n\t\tif (parsers.indexOf(parser) < 0) {\n\t\t\tparsers.push(parser);\n\t\t}\n\t}\n};\n\nconst removeParser = parser => {\n\tif (typeof parser === 'string') {\n\t\tdelete colorProfiles[parser];\n\t} else if (typeof parser === 'function') {\n\t\tconst idx = parsers.indexOf(parser);\n\t\tif (idx > 0) {\n\t\t\tparsers.splice(idx, 1);\n\t\t}\n\t}\n};\n\nexport {\n\tuseMode,\n\tgetMode,\n\tuseParser,\n\tremoveParser,\n\tconverters,\n\tparsers,\n\tcolorProfiles\n};\n", "import { parsers, colorProfiles, getMode } from './modes.js';\n\n/* eslint-disable-next-line no-control-regex */\nconst IdentStartCodePoint = /[^\\x00-\\x7F]|[a-zA-Z_]/;\n\n/* eslint-disable-next-line no-control-regex */\nconst IdentCodePoint = /[^\\x00-\\x7F]|[-\\w]/;\n\nexport const Tok = {\n\tFunction: 'function',\n\tIdent: 'ident',\n\tNumber: 'number',\n\tPercentage: 'percentage',\n\tParenClose: ')',\n\tNone: 'none',\n\tHue: 'hue',\n\tAlpha: 'alpha'\n};\n\nlet _i = 0;\n\n/*\n\t4.3.10. Check if three code points would start a number\n\thttps://drafts.csswg.org/css-syntax/#starts-with-a-number\n */\nfunction is_num(chars) {\n\tlet ch = chars[_i];\n\tlet ch1 = chars[_i + 1];\n\tif (ch === '-' || ch === '+') {\n\t\treturn /\\d/.test(ch1) || (ch1 === '.' && /\\d/.test(chars[_i + 2]));\n\t}\n\tif (ch === '.') {\n\t\treturn /\\d/.test(ch1);\n\t}\n\treturn /\\d/.test(ch);\n}\n\n/*\n\tCheck if the stream starts with an identifier.\n */\n\nfunction is_ident(chars) {\n\tif (_i >= chars.length) {\n\t\treturn false;\n\t}\n\tlet ch = chars[_i];\n\tif (IdentStartCodePoint.test(ch)) {\n\t\treturn true;\n\t}\n\tif (ch === '-') {\n\t\tif (chars.length - _i < 2) {\n\t\t\treturn false;\n\t\t}\n\t\tlet ch1 = chars[_i + 1];\n\t\tif (ch1 === '-' || IdentStartCodePoint.test(ch1)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\treturn false;\n}\n\n/*\n\t4.3.3. Consume a numeric token\n\thttps://drafts.csswg.org/css-syntax/#consume-numeric-token\n */\n\nconst huenits = {\n\tdeg: 1,\n\trad: 180 / Math.PI,\n\tgrad: 9 / 10,\n\tturn: 360\n};\n\nfunction num(chars) {\n\tlet value = '';\n\tif (chars[_i] === '-' || chars[_i] === '+') {\n\t\tvalue += chars[_i++];\n\t}\n\tvalue += digits(chars);\n\tif (chars[_i] === '.' && /\\d/.test(chars[_i + 1])) {\n\t\tvalue += chars[_i++] + digits(chars);\n\t}\n\tif (chars[_i] === 'e' || chars[_i] === 'E') {\n\t\tif (\n\t\t\t(chars[_i + 1] === '-' || chars[_i + 1] === '+') &&\n\t\t\t/\\d/.test(chars[_i + 2])\n\t\t) {\n\t\t\tvalue += chars[_i++] + chars[_i++] + digits(chars);\n\t\t} else if (/\\d/.test(chars[_i + 1])) {\n\t\t\tvalue += chars[_i++] + digits(chars);\n\t\t}\n\t}\n\tif (is_ident(chars)) {\n\t\tlet id = ident(chars);\n\t\tif (id === 'deg' || id === 'rad' || id === 'turn' || id === 'grad') {\n\t\t\treturn { type: Tok.Hue, value: value * huenits[id] };\n\t\t}\n\t\treturn undefined;\n\t}\n\tif (chars[_i] === '%') {\n\t\t_i++;\n\t\treturn { type: Tok.Percentage, value: +value };\n\t}\n\treturn { type: Tok.Number, value: +value };\n}\n\n/*\n\tConsume digits.\n */\nfunction digits(chars) {\n\tlet v = '';\n\twhile (/\\d/.test(chars[_i])) {\n\t\tv += chars[_i++];\n\t}\n\treturn v;\n}\n\n/*\n\tConsume an identifier.\n */\nfunction ident(chars) {\n\tlet v = '';\n\twhile (_i < chars.length && IdentCodePoint.test(chars[_i])) {\n\t\tv += chars[_i++];\n\t}\n\treturn v;\n}\n\n/*\n\tConsume an ident-like token.\n */\nfunction identlike(chars) {\n\tlet v = ident(chars);\n\tif (chars[_i] === '(') {\n\t\t_i++;\n\t\treturn { type: Tok.Function, value: v };\n\t}\n\tif (v === 'none') {\n\t\treturn { type: Tok.None, value: undefined };\n\t}\n\treturn { type: Tok.Ident, value: v };\n}\n\nexport function tokenize(str = '') {\n\tlet chars = str.trim();\n\tlet tokens = [];\n\tlet ch;\n\n\t/* reset counter */\n\t_i = 0;\n\n\twhile (_i < chars.length) {\n\t\tch = chars[_i++];\n\n\t\t/*\n\t\t\tConsume whitespace without emitting it\n\t\t */\n\t\tif (ch === '\\n' || ch === '\\t' || ch === ' ') {\n\t\t\twhile (\n\t\t\t\t_i < chars.length &&\n\t\t\t\t(chars[_i] === '\\n' || chars[_i] === '\\t' || chars[_i] === ' ')\n\t\t\t) {\n\t\t\t\t_i++;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (ch === ',') {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === ')') {\n\t\t\ttokens.push({ type: Tok.ParenClose });\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (ch === '+') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '-') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (is_ident(chars)) {\n\t\t\t\ttokens.push({ type: Tok.Ident, value: ident(chars) });\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '.') {\n\t\t\t_i--;\n\t\t\tif (is_num(chars)) {\n\t\t\t\ttokens.push(num(chars));\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (ch === '/') {\n\t\t\twhile (\n\t\t\t\t_i < chars.length &&\n\t\t\t\t(chars[_i] === '\\n' || chars[_i] === '\\t' || chars[_i] === ' ')\n\t\t\t) {\n\t\t\t\t_i++;\n\t\t\t}\n\t\t\tlet alpha;\n\t\t\tif (is_num(chars)) {\n\t\t\t\talpha = num(chars);\n\t\t\t\tif (alpha.type !== Tok.Hue) {\n\t\t\t\t\ttokens.push({ type: Tok.Alpha, value: alpha });\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (is_ident(chars)) {\n\t\t\t\tif (ident(chars) === 'none') {\n\t\t\t\t\ttokens.push({\n\t\t\t\t\t\ttype: Tok.Alpha,\n\t\t\t\t\t\tvalue: { type: Tok.None, value: undefined }\n\t\t\t\t\t});\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (/\\d/.test(ch)) {\n\t\t\t_i--;\n\t\t\ttokens.push(num(chars));\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (IdentStartCodePoint.test(ch)) {\n\t\t\t_i--;\n\t\t\ttokens.push(identlike(chars));\n\t\t\tcontinue;\n\t\t}\n\n\t\t/*\n\t\t\tTreat everything not already handled as an error.\n\t\t */\n\t\treturn undefined;\n\t}\n\n\treturn tokens;\n}\n\nexport function parseColorSyntax(tokens) {\n\ttokens._i = 0;\n\tlet token = tokens[tokens._i++];\n\tif (!token || token.type !== Tok.Function || token.value !== 'color') {\n\t\treturn undefined;\n\t}\n\ttoken = tokens[tokens._i++];\n\tif (token.type !== Tok.Ident) {\n\t\treturn undefined;\n\t}\n\tconst mode = colorProfiles[token.value];\n\tif (!mode) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode };\n\tconst coords = consumeCoords(tokens, false);\n\tif (!coords) {\n\t\treturn undefined;\n\t}\n\tconst channels = getMode(mode).channels;\n\tfor (let ii = 0, c; ii < channels.length; ii++) {\n\t\tc = coords[ii];\n\t\tif (c.type !== Tok.None) {\n\t\t\tres[channels[ii]] = c.type === Tok.Number ? c.value : c.value / 100;\n\t\t}\n\t}\n\treturn res;\n}\n\nfunction consumeCoords(tokens, includeHue) {\n\tconst coords = [];\n\tlet token;\n\twhile (tokens._i < tokens.length) {\n\t\ttoken = tokens[tokens._i++];\n\t\tif (\n\t\t\ttoken.type === Tok.None ||\n\t\t\ttoken.type === Tok.Number ||\n\t\t\ttoken.type === Tok.Alpha ||\n\t\t\ttoken.type === Tok.Percentage ||\n\t\t\t(includeHue && token.type === Tok.Hue)\n\t\t) {\n\t\t\tcoords.push(token);\n\t\t\tcontinue;\n\t\t}\n\t\tif (token.type === Tok.ParenClose) {\n\t\t\tif (tokens._i < tokens.length) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tif (coords.length < 3 || coords.length > 4) {\n\t\treturn undefined;\n\t}\n\n\tif (coords.length === 4) {\n\t\tif (coords[3].type !== Tok.Alpha) {\n\t\t\treturn undefined;\n\t\t}\n\t\tcoords[3] = coords[3].value;\n\t}\n\tif (coords.length === 3) {\n\t\tcoords.push({ type: Tok.None, value: undefined });\n\t}\n\n\treturn coords.every(c => c.type !== Tok.Alpha) ? coords : undefined;\n}\n\nexport function parseModernSyntax(tokens, includeHue) {\n\ttokens._i = 0;\n\tlet token = tokens[tokens._i++];\n\tif (!token || token.type !== Tok.Function) {\n\t\treturn undefined;\n\t}\n\tlet coords = consumeCoords(tokens, includeHue);\n\tif (!coords) {\n\t\treturn undefined;\n\t}\n\tcoords.unshift(token.value);\n\treturn coords;\n}\n\nconst parse = color => {\n\tif (typeof color !== 'string') {\n\t\treturn undefined;\n\t}\n\tconst tokens = tokenize(color);\n\tconst parsed = tokens ? parseModernSyntax(tokens, true) : undefined;\n\tlet result = undefined;\n\tlet i = 0;\n\tlet len = parsers.length;\n\twhile (i < len) {\n\t\tif ((result = parsers[i++](color, parsed)) !== undefined) {\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn tokens ? parseColorSyntax(tokens) : undefined;\n};\n\nexport default parse;\n", "import { Tok } from '../parse.js';\n\nfunction parseRgb(color, parsed) {\n\tif (!parsed || (parsed[0] !== 'rgb' && parsed[0] !== 'rgba')) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'rgb' };\n\tconst [, r, g, b, alpha] = parsed;\n\tif (r.type === Tok.Hue || g.type === Tok.Hue || b.type === Tok.Hue) {\n\t\treturn undefined;\n\t}\n\tif (r.type !== Tok.None) {\n\t\tres.r = r.type === Tok.Number ? r.value / 255 : r.value / 100;\n\t}\n\tif (g.type !== Tok.None) {\n\t\tres.g = g.type === Tok.Number ? g.value / 255 : g.value / 100;\n\t}\n\tif (b.type !== Tok.None) {\n\t\tres.b = b.type === Tok.Number ? b.value / 255 : b.value / 100;\n\t}\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = alpha.type === Tok.Number ? alpha.value : alpha.value / 100;\n\t}\n\n\treturn res;\n}\n\nexport default parseRgb;\n", "const parseTransparent = c =>\n\tc === 'transparent'\n\t\t? { mode: 'rgb', r: 0, g: 0, b: 0, alpha: 0 }\n\t\t: undefined;\n\nexport default parseTransparent;\n", "const lerp = (a, b, t) => a + t * (b - a);\nconst unlerp = (a, b, v) => (v - a) / (b - a);\n\nconst blerp = (a00, a01, a10, a11, tx, ty) => {\n\treturn lerp(lerp(a00, a01, tx), lerp(a10, a11, tx), ty);\n};\n\nconst trilerp = (\n\ta000,\n\ta010,\n\ta100,\n\ta110,\n\ta001,\n\ta011,\n\ta101,\n\ta111,\n\ttx,\n\tty,\n\ttz\n) => {\n\treturn lerp(\n\t\tblerp(a000, a010, a100, a110, tx, ty),\n\t\tblerp(a001, a011, a101, a111, tx, ty),\n\t\ttz\n\t);\n};\n\nexport { lerp, blerp, trilerp, unlerp };\n", "const get_classes = arr => {\n\tlet classes = [];\n\tfor (let i = 0; i < arr.length - 1; i++) {\n\t\tlet a = arr[i];\n\t\tlet b = arr[i + 1];\n\t\tif (a === undefined && b === undefined) {\n\t\t\tclasses.push(undefined);\n\t\t} else if (a !== undefined && b !== undefined) {\n\t\t\tclasses.push([a, b]);\n\t\t} else {\n\t\t\tclasses.push(a !== undefined ? [a, a] : [b, b]);\n\t\t}\n\t}\n\treturn classes;\n};\n\nconst interpolatorPiecewise = interpolator => arr => {\n\tlet classes = get_classes(arr);\n\treturn t => {\n\t\tlet cls = t * classes.length;\n\t\tlet idx = t >= 1 ? classes.length - 1 : Math.max(Math.floor(cls), 0);\n\t\tlet pair = classes[idx];\n\t\treturn pair === undefined\n\t\t\t? undefined\n\t\t\t: interpolator(pair[0], pair[1], cls - idx);\n\t};\n};\n\nexport { interpolatorPiecewise };\n", "import { lerp } from './lerp.js';\nimport { interpolatorPiecewise } from './piecewise.js';\n\nexport const interpolatorLinear = interpolatorPiecewise(lerp);\n", "const fixupAlpha = arr => {\n\tlet some_defined = false;\n\tlet res = arr.map(v => {\n\t\tif (v !== undefined) {\n\t\t\tsome_defined = true;\n\t\t\treturn v;\n\t\t}\n\t\treturn 1;\n\t});\n\treturn some_defined ? res : arr;\n};\n\nexport { fixupAlpha };\n", "import parseNamed from './parseNamed.js';\nimport parseHex from './parseHex.js';\nimport parseRgbLegacy from './parseRgbLegacy.js';\nimport parseRgb from './parseRgb.js';\nimport parseTransparent from './parseTransparent.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\n\n/*\n\tsRGB color space\n */\n\nconst definition = {\n\tmode: 'rgb',\n\tchannels: ['r', 'g', 'b', 'alpha'],\n\tparse: [\n\t\tparseRgb,\n\t\tparseHex,\n\t\tparseRgbLegacy,\n\t\tparseNamed,\n\t\tparseTransparent,\n\t\t'srgb'\n\t],\n\tserialize: 'srgb',\n\tinterpolate: {\n\t\tr: interpolatorLinear,\n\t\tg: interpolatorLinear,\n\t\tb: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\tgamut: true\n};\n\nexport default definition;\n", "const fn = c => {\n\tconst abs = Math.abs(c);\n\tif (abs <= 0.04045) {\n\t\treturn c / 12.92;\n\t}\n\treturn (Math.sign(c) || 1) * Math.pow((abs + 0.055) / 1.055, 2.4);\n};\n\nconst convertRgbToLrgb = ({ r, g, b, alpha }) => {\n\tlet res = {\n\t\tmode: 'lrgb',\n\t\tr: fn(r),\n\t\tg: fn(g),\n\t\tb: fn(b)\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertRgbToLrgb;\n", "const fn = c => {\n\tconst abs = Math.abs(c);\n\tif (abs > 0.0031308) {\n\t\treturn (Math.sign(c) || 1) * (1.055 * Math.pow(abs, 1 / 2.4) - 0.055);\n\t}\n\treturn c * 12.92;\n};\n\nconst convertLrgbToRgb = ({ r, g, b, alpha }, mode = 'rgb') => {\n\tlet res = {\n\t\tmode,\n\t\tr: fn(r),\n\t\tg: fn(g),\n\t\tb: fn(b)\n\t};\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n};\n\nexport default convertLrgbToRgb;\n", "const normalizeHue = hue => ((hue = hue % 360) < 0 ? hue + 360 : hue);\n\nexport default normalizeHue;\n", "import normalizeHue from '../util/normalizeHue.js';\n\nconst hue = (hues, fn) => {\n\treturn hues\n\t\t.map((hue, idx, arr) => {\n\t\t\tif (hue === undefined) {\n\t\t\t\treturn hue;\n\t\t\t}\n\t\t\tlet normalized = normalizeHue(hue);\n\t\t\tif (idx === 0 || hues[idx - 1] === undefined) {\n\t\t\t\treturn normalized;\n\t\t\t}\n\t\t\treturn fn(normalized - normalizeHue(arr[idx - 1]));\n\t\t})\n\t\t.reduce((acc, curr) => {\n\t\t\tif (\n\t\t\t\t!acc.length ||\n\t\t\t\tcurr === undefined ||\n\t\t\t\tacc[acc.length - 1] === undefined\n\t\t\t) {\n\t\t\t\tacc.push(curr);\n\t\t\t\treturn acc;\n\t\t\t}\n\t\t\tacc.push(curr + acc[acc.length - 1]);\n\t\t\treturn acc;\n\t\t}, []);\n};\n\nconst fixupHueShorter = arr =>\n\thue(arr, d => (Math.abs(d) <= 180 ? d : d - 360 * Math.sign(d)));\nconst fixupHueLonger = arr =>\n\thue(arr, d => (Math.abs(d) >= 180 || d === 0 ? d : d - 360 * Math.sign(d)));\nconst fixupHueIncreasing = arr => hue(arr, d => (d >= 0 ? d : d + 360));\nconst fixupHueDecreasing = arr => hue(arr, d => (d <= 0 ? d : d - 360));\n\nexport {\n\tfixupHueShorter,\n\tfixupHueLonger,\n\tfixupHueIncreasing,\n\tfixupHueDecreasing\n};\n", "import { getMode } from './modes.js';\nimport converter from './converter.js';\nimport normalizeHue from './util/normalizeHue.js';\n\nconst differenceHueSaturation = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined || !std.s || !smp.s) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tlet dH = Math.sin((((smp_h - std_h + 360) / 2) * Math.PI) / 180);\n\treturn 2 * Math.sqrt(std.s * smp.s) * dH;\n};\n\nconst differenceHueNaive = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tif (Math.abs(smp_h - std_h) > 180) {\n\t\t// todo should this be normalized once again?\n\t\treturn std_h - (smp_h - 360 * Math.sign(smp_h - std_h));\n\t}\n\treturn smp_h - std_h;\n};\n\nconst differenceHueChroma = (std, smp) => {\n\tif (std.h === undefined || smp.h === undefined || !std.c || !smp.c) {\n\t\treturn 0;\n\t}\n\tlet std_h = normalizeHue(std.h);\n\tlet smp_h = normalizeHue(smp.h);\n\tlet dH = Math.sin((((smp_h - std_h + 360) / 2) * Math.PI) / 180);\n\treturn 2 * Math.sqrt(std.c * smp.c) * dH;\n};\n\nconst differenceEuclidean = (mode = 'rgb', weights = [1, 1, 1, 0]) => {\n\tlet def = getMode(mode);\n\tlet channels = def.channels;\n\tlet diffs = def.difference;\n\tlet conv = converter(mode);\n\treturn (std, smp) => {\n\t\tlet ConvStd = conv(std);\n\t\tlet ConvSmp = conv(smp);\n\t\treturn Math.sqrt(\n\t\t\tchannels.reduce((sum, k, idx) => {\n\t\t\t\tlet delta = diffs[k]\n\t\t\t\t\t? diffs[k](ConvStd, ConvSmp)\n\t\t\t\t\t: ConvStd[k] - ConvSmp[k];\n\t\t\t\treturn (\n\t\t\t\t\tsum +\n\t\t\t\t\t(weights[idx] || 0) * Math.pow(isNaN(delta) ? 0 : delta, 2)\n\t\t\t\t);\n\t\t\t}, 0)\n\t\t);\n\t};\n};\n\nconst differenceCie76 = () => differenceEuclidean('lab65');\n\nconst differenceCie94 = (kL = 1, K1 = 0.045, K2 = 0.015) => {\n\tlet lab = converter('lab65');\n\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\n\t\t// Extract Lab values, and compute Chroma\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\tlet dL2 = Math.pow(lStd - lSmp, 2);\n\t\tlet dC2 = Math.pow(cStd - cSmp, 2);\n\t\tlet dH2 = Math.pow(aStd - aSmp, 2) + Math.pow(bStd - bSmp, 2) - dC2;\n\n\t\treturn Math.sqrt(\n\t\t\tdL2 / Math.pow(kL, 2) +\n\t\t\t\tdC2 / Math.pow(1 + K1 * cStd, 2) +\n\t\t\t\tdH2 / Math.pow(1 + K2 * cStd, 2)\n\t\t);\n\t};\n};\n\n/*\n\tCIEDE2000 color difference, original Matlab implementation by Gaurav Sharma\n\tBased on \"The CIEDE2000 Color-Difference Formula: Implementation Notes, Supplementary Test Data, and Mathematical Observations\" \n\tby Gaurav Sharma, Wencheng Wu, Edul N. Dalal in Color Research and Application, vol. 30. No. 1, pp. 21-30, February 2005.\n\thttp://www2.ece.rochester.edu/~gsharma/ciede2000/\n */\n\nconst differenceCiede2000 = (Kl = 1, Kc = 1, Kh = 1) => {\n\tlet lab = converter('lab65');\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\tlet cAvg = (cStd + cSmp) / 2;\n\n\t\tlet G =\n\t\t\t0.5 *\n\t\t\t(1 -\n\t\t\t\tMath.sqrt(\n\t\t\t\t\tMath.pow(cAvg, 7) / (Math.pow(cAvg, 7) + Math.pow(25, 7))\n\t\t\t\t));\n\n\t\tlet apStd = aStd * (1 + G);\n\t\tlet apSmp = aSmp * (1 + G);\n\n\t\tlet cpStd = Math.sqrt(apStd * apStd + bStd * bStd);\n\t\tlet cpSmp = Math.sqrt(apSmp * apSmp + bSmp * bSmp);\n\n\t\tlet hpStd =\n\t\t\tMath.abs(apStd) + Math.abs(bStd) === 0\n\t\t\t\t? 0\n\t\t\t\t: Math.atan2(bStd, apStd);\n\t\thpStd += (hpStd < 0) * 2 * Math.PI;\n\n\t\tlet hpSmp =\n\t\t\tMath.abs(apSmp) + Math.abs(bSmp) === 0\n\t\t\t\t? 0\n\t\t\t\t: Math.atan2(bSmp, apSmp);\n\t\thpSmp += (hpSmp < 0) * 2 * Math.PI;\n\n\t\tlet dL = lSmp - lStd;\n\t\tlet dC = cpSmp - cpStd;\n\n\t\tlet dhp = cpStd * cpSmp === 0 ? 0 : hpSmp - hpStd;\n\t\tdhp -= (dhp > Math.PI) * 2 * Math.PI;\n\t\tdhp += (dhp < -Math.PI) * 2 * Math.PI;\n\n\t\tlet dH = 2 * Math.sqrt(cpStd * cpSmp) * Math.sin(dhp / 2);\n\n\t\tlet Lp = (lStd + lSmp) / 2;\n\t\tlet Cp = (cpStd + cpSmp) / 2;\n\n\t\tlet hp;\n\t\tif (cpStd * cpSmp === 0) {\n\t\t\thp = hpStd + hpSmp;\n\t\t} else {\n\t\t\thp = (hpStd + hpSmp) / 2;\n\t\t\thp -= (Math.abs(hpStd - hpSmp) > Math.PI) * Math.PI;\n\t\t\thp += (hp < 0) * 2 * Math.PI;\n\t\t}\n\n\t\tlet Lpm50 = Math.pow(Lp - 50, 2);\n\t\tlet T =\n\t\t\t1 -\n\t\t\t0.17 * Math.cos(hp - Math.PI / 6) +\n\t\t\t0.24 * Math.cos(2 * hp) +\n\t\t\t0.32 * Math.cos(3 * hp + Math.PI / 30) -\n\t\t\t0.2 * Math.cos(4 * hp - (63 * Math.PI) / 180);\n\n\t\tlet Sl = 1 + (0.015 * Lpm50) / Math.sqrt(20 + Lpm50);\n\t\tlet Sc = 1 + 0.045 * Cp;\n\t\tlet Sh = 1 + 0.015 * Cp * T;\n\n\t\tlet deltaTheta =\n\t\t\t((30 * Math.PI) / 180) *\n\t\t\tMath.exp(-1 * Math.pow(((180 / Math.PI) * hp - 275) / 25, 2));\n\t\tlet Rc =\n\t\t\t2 *\n\t\t\tMath.sqrt(Math.pow(Cp, 7) / (Math.pow(Cp, 7) + Math.pow(25, 7)));\n\n\t\tlet Rt = -1 * Math.sin(2 * deltaTheta) * Rc;\n\n\t\treturn Math.sqrt(\n\t\t\tMath.pow(dL / (Kl * Sl), 2) +\n\t\t\t\tMath.pow(dC / (Kc * Sc), 2) +\n\t\t\t\tMath.pow(dH / (Kh * Sh), 2) +\n\t\t\t\t(((Rt * dC) / (Kc * Sc)) * dH) / (Kh * Sh)\n\t\t);\n\t};\n};\n\n/*\n\tCMC (l:c) difference formula\n\n\tReferences:\n\t\thttps://en.wikipedia.org/wiki/Color_difference#CMC_l:c_(1984)\n\t\thttp://www.brucelindbloom.com/index.html?Eqn_DeltaE_CMC.html\n */\nconst differenceCmc = (l = 1, c = 1) => {\n\tlet lab = converter('lab65');\n\n\t/*\n\t\tComparte two colors:\n\t\tstd - standard (first) color\n\t\tsmp - sample (second) color\n\t */\n\treturn (std, smp) => {\n\t\t// convert standard color to Lab\n\t\tlet LabStd = lab(std);\n\t\tlet lStd = LabStd.l;\n\t\tlet aStd = LabStd.a;\n\t\tlet bStd = LabStd.b;\n\n\t\t// Obtain hue/chroma\n\t\tlet cStd = Math.sqrt(aStd * aStd + bStd * bStd);\n\t\tlet hStd = Math.atan2(bStd, aStd);\n\t\thStd = hStd + 2 * Math.PI * (hStd < 0);\n\n\t\t// convert sample color to Lab, obtain LCh\n\t\tlet LabSmp = lab(smp);\n\t\tlet lSmp = LabSmp.l;\n\t\tlet aSmp = LabSmp.a;\n\t\tlet bSmp = LabSmp.b;\n\n\t\t// Obtain chroma\n\t\tlet cSmp = Math.sqrt(aSmp * aSmp + bSmp * bSmp);\n\n\t\t// lightness delta squared\n\t\tlet dL2 = Math.pow(lStd - lSmp, 2);\n\n\t\t// chroma delta squared\n\t\tlet dC2 = Math.pow(cStd - cSmp, 2);\n\n\t\t// hue delta squared\n\t\tlet dH2 = Math.pow(aStd - aSmp, 2) + Math.pow(bStd - bSmp, 2) - dC2;\n\n\t\tlet F = Math.sqrt(Math.pow(cStd, 4) / (Math.pow(cStd, 4) + 1900));\n\t\tlet T =\n\t\t\thStd >= (164 / 180) * Math.PI && hStd <= (345 / 180) * Math.PI\n\t\t\t\t? 0.56 + Math.abs(0.2 * Math.cos(hStd + (168 / 180) * Math.PI))\n\t\t\t\t: 0.36 + Math.abs(0.4 * Math.cos(hStd + (35 / 180) * Math.PI));\n\n\t\tlet Sl = lStd < 16 ? 0.511 : (0.040975 * lStd) / (1 + 0.01765 * lStd);\n\t\tlet Sc = (0.0638 * cStd) / (1 + 0.0131 * cStd) + 0.638;\n\t\tlet Sh = Sc * (F * T + 1 - F);\n\n\t\treturn Math.sqrt(\n\t\t\tdL2 / Math.pow(l * Sl, 2) +\n\t\t\t\tdC2 / Math.pow(c * Sc, 2) +\n\t\t\t\tdH2 / Math.pow(Sh, 2)\n\t\t);\n\t};\n};\n\n/*\n\n\tHyAB color difference formula, introduced in:\n\n\t\tAbasi S, Amani Tehran M, Fairchild MD. \n\t\t\"Distance metrics for very large color differences.\"\n\t\tColor Res Appl. 2019; 1\u201316. \n\t\thttps://doi.org/10.1002/col.22451\n\n\tPDF available at:\n\t\n\t\thttp://markfairchild.org/PDFs/PAP40.pdf\n */\nconst differenceHyab = () => {\n\tlet lab = converter('lab65');\n\treturn (std, smp) => {\n\t\tlet LabStd = lab(std);\n\t\tlet LabSmp = lab(smp);\n\t\tlet dL = LabStd.l - LabSmp.l;\n\t\tlet dA = LabStd.a - LabSmp.a;\n\t\tlet dB = LabStd.b - LabSmp.b;\n\t\treturn Math.abs(dL) + Math.sqrt(dA * dA + dB * dB);\n\t};\n};\n\n/*\n\t\"Measuring perceived color difference using YIQ NTSC\n\ttransmission color space in mobile applications\"\n\t\t\n\t\tby Yuriy Kotsarenko, Fernando Ramos in:\n\t\tProgramaci\u00F3n Matem\u00E1tica y Software (2010) \n\n\tAvailable at:\n\t\t\n\t\thttp://www.progmat.uaem.mx:8080/artVol2Num2/Articulo3Vol2Num2.pdf\n */\nconst differenceKotsarenkoRamos = () =>\n\tdifferenceEuclidean('yiq', [0.5053, 0.299, 0.1957]);\n\nexport {\n\tdifferenceHueChroma,\n\tdifferenceHueSaturation,\n\tdifferenceHueNaive,\n\tdifferenceEuclidean,\n\tdifferenceCie76,\n\tdifferenceCie94,\n\tdifferenceCiede2000,\n\tdifferenceCmc,\n\tdifferenceHyab,\n\tdifferenceKotsarenkoRamos\n};\n", "import converter from './converter.js';\nimport { getMode } from './modes.js';\n\nconst averageAngle = val => {\n\t// See: https://en.wikipedia.org/wiki/Mean_of_circular_quantities\n\tlet sum = val.reduce(\n\t\t(sum, val) => {\n\t\t\tif (val !== undefined) {\n\t\t\t\tlet rad = (val * Math.PI) / 180;\n\t\t\t\tsum.sin += Math.sin(rad);\n\t\t\t\tsum.cos += Math.cos(rad);\n\t\t\t}\n\t\t\treturn sum;\n\t\t},\n\t\t{ sin: 0, cos: 0 }\n\t);\n\treturn (Math.atan2(sum.sin, sum.cos) * 180) / Math.PI;\n};\n\nconst averageNumber = val => {\n\tlet a = val.filter(v => v !== undefined);\n\treturn a.length ? a.reduce((sum, v) => sum + v, 0) / a.length : undefined;\n};\n\nconst isfn = o => typeof o === 'function';\n\nfunction average(colors, mode = 'rgb', overrides) {\n\tlet def = getMode(mode);\n\tlet cc = colors.map(converter(mode));\n\treturn def.channels.reduce(\n\t\t(res, ch) => {\n\t\t\tlet arr = cc.map(c => c[ch]).filter(val => val !== undefined);\n\t\t\tif (arr.length) {\n\t\t\t\tlet fn;\n\t\t\t\tif (isfn(overrides)) {\n\t\t\t\t\tfn = overrides;\n\t\t\t\t} else if (overrides && isfn(overrides[ch])) {\n\t\t\t\t\tfn = overrides[ch];\n\t\t\t\t} else if (def.average && isfn(def.average[ch])) {\n\t\t\t\t\tfn = def.average[ch];\n\t\t\t\t} else {\n\t\t\t\t\tfn = averageNumber;\n\t\t\t\t}\n\t\t\t\tres[ch] = fn(arr, ch);\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t{ mode }\n\t);\n}\n\nexport { average, averageAngle, averageNumber };\n", "import normalizeHue from '../util/normalizeHue.js';\n// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Converting_to_RGB\n\nexport default function convertHslToRgb({ h, s, l, alpha }) {\n\th = normalizeHue(h);\n\tlet m1 = l + s * (l < 0.5 ? l : 1 - l);\n\tlet m2 = m1 - (m1 - l) * 2 * Math.abs(((h / 60) % 2) - 1);\n\tlet res;\n\tswitch (Math.floor(h / 60)) {\n\t\tcase 0:\n\t\t\tres = { r: m1, g: m2, b: 2 * l - m1 };\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tres = { r: m2, g: m1, b: 2 * l - m1 };\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tres = { r: 2 * l - m1, g: m1, b: m2 };\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tres = { r: 2 * l - m1, g: m2, b: m1 };\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\tres = { r: m2, g: 2 * l - m1, b: m1 };\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\tres = { r: m1, g: 2 * l - m1, b: m2 };\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tres = { r: 2 * l - m1, g: 2 * l - m1, b: 2 * l - m1 };\n\t}\n\tres.mode = 'rgb';\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n", "// Based on: https://en.wikipedia.org/wiki/HSL_and_HSV#Formal_derivation\n\nexport default function convertRgbToHsl({ r, g, b, alpha }) {\n\tlet M = Math.max(r, g, b),\n\t\tm = Math.min(r, g, b);\n\tlet res = {\n\t\tmode: 'hsl',\n\t\ts: M === m ? 0 : (M - m) / (1 - Math.abs(M + m - 1)),\n\t\tl: 0.5 * (M + m)\n\t};\n\tif (M - m !== 0)\n\t\tres.h =\n\t\t\t(M === r\n\t\t\t\t? (g - b) / (M - m) + (g < b) * 6\n\t\t\t\t: M === g\n\t\t\t\t? (b - r) / (M - m) + 2\n\t\t\t\t: (r - g) / (M - m) + 4) * 60;\n\tif (alpha !== undefined) res.alpha = alpha;\n\treturn res;\n}\n", "const hueToDeg = (val, unit) => {\n\tswitch (unit) {\n\t\tcase 'deg':\n\t\t\treturn +val;\n\t\tcase 'rad':\n\t\t\treturn (val / Math.PI) * 180;\n\t\tcase 'grad':\n\t\t\treturn (val / 10) * 9;\n\t\tcase 'turn':\n\t\t\treturn val * 360;\n\t}\n};\n\nexport default hueToDeg;\n", "import hueToDeg from '../util/hue.js';\nimport { hue, per, num_per, c } from '../util/regex.js';\n\n/*\n\thsl() regular expressions for legacy format\n\tReference: https://drafts.csswg.org/css-color/#the-hsl-notation\n */\nconst hsl_old = new RegExp(\n\t`^hsla?\\\\(\\\\s*${hue}${c}${per}${c}${per}\\\\s*(?:,\\\\s*${num_per}\\\\s*)?\\\\)$`\n);\n\nconst parseHslLegacy = color => {\n\tlet match = color.match(hsl_old);\n\tif (!match) return;\n\tlet res = { mode: 'hsl' };\n\n\tif (match[3] !== undefined) {\n\t\tres.h = +match[3];\n\t} else if (match[1] !== undefined && match[2] !== undefined) {\n\t\tres.h = hueToDeg(match[1], match[2]);\n\t}\n\n\tif (match[4] !== undefined) {\n\t\tres.s = Math.min(Math.max(0, match[4] / 100), 1);\n\t}\n\n\tif (match[5] !== undefined) {\n\t\tres.l = Math.min(Math.max(0, match[5] / 100), 1);\n\t}\n\n\tif (match[6] !== undefined) {\n\t\tres.alpha = match[6] / 100;\n\t} else if (match[7] !== undefined) {\n\t\tres.alpha = +match[7];\n\t}\n\treturn res;\n};\n\nexport default parseHslLegacy;\n", "import { Tok } from '../parse.js';\n\nfunction parseHsl(color, parsed) {\n\tif (!parsed || (parsed[0] !== 'hsl' && parsed[0] !== 'hsla')) {\n\t\treturn undefined;\n\t}\n\tconst res = { mode: 'hsl' };\n\tconst [, h, s, l, alpha] = parsed;\n\n\tif (h.type !== Tok.None) {\n\t\tif (h.type === Tok.Percentage) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.h = h.value;\n\t}\n\n\tif (s.type !== Tok.None) {\n\t\tif (s.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.s = s.type === Tok.Number ? s.value : s.value / 100;\n\t}\n\n\tif (l.type !== Tok.None) {\n\t\tif (l.type === Tok.Hue) {\n\t\t\treturn undefined;\n\t\t}\n\t\tres.l = l.type === Tok.Number ? l.value : l.value / 100;\n\t}\n\n\tif (alpha.type !== Tok.None) {\n\t\tres.alpha = alpha.type === Tok.Number ? alpha.value : alpha.value / 100;\n\t}\n\n\treturn res;\n}\n\nexport default parseHsl;\n", "import convertHslToRgb from './convertHslToRgb.js';\nimport convertRgbToHsl from './convertRgbToHsl.js';\nimport parseHslLegacy from './parseHslLegacy.js';\nimport parseHsl from './parseHsl.js';\nimport { fixupHueShorter } from '../fixup/hue.js';\nimport { fixupAlpha } from '../fixup/alpha.js';\nimport { interpolatorLinear } from '../interpolate/linear.js';\nimport { differenceHueSaturation } from '../difference.js';\nimport { averageAngle } from '../average.js';\n\nconst definition = {\n\tmode: 'hsl',\n\n\ttoMode: {\n\t\trgb: convertHslToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToHsl\n\t},\n\n\tchannels: ['h', 's', 'l', 'alpha'],\n\n\tranges: {\n\t\th: [0, 360]\n\t},\n\n\tgamut: 'rgb',\n\n\tparse: [parseHsl, parseHslLegacy],\n\tserialize: c =>\n\t\t`hsl(${c.h || 0} ${c.s !== undefined ? c.s * 100 + '%' : 'none'} ${\n\t\t\tc.l !== undefined ? c.l * 100 + '%' : 'none'\n\t\t}${c.alpha < 1 ? ` / ${c.alpha}` : ''})`,\n\n\tinterpolate: {\n\t\th: { use: interpolatorLinear, fixup: fixupHueShorter },\n\t\ts: interpolatorLinear,\n\t\tl: interpolatorLinear,\n\t\talpha: { use: interpolatorLinear, fixup: fixupAlpha }\n\t},\n\n\tdifference: {\n\t\th: differenceHueSaturation\n\t},\n\n\taverage: {\n\t\th: averageAngle\n\t}\n};\n\nexport default definition;\n", "import rgb from '../rgb/definition.js';\nimport convertRgbToLrgb from './convertRgbToLrgb.js';\nimport convertLrgbToRgb from './convertLrgbToRgb.js';\n\nconst definition = {\n\t...rgb,\n\tmode: 'lrgb',\n\n\ttoMode: {\n\t\trgb: convertLrgbToRgb\n\t},\n\n\tfromMode: {\n\t\trgb: convertRgbToLrgb\n\t},\n\n\tparse: ['srgb-linear'],\n\tserialize: 'srgb-linear'\n};\n\nexport default definition;\n", "const convertLrgbToOklab = ({ r, g, b, alpha }) => {\n\tlet L = Math.cbrt(\n\t\t0.41222147079999993 * r + 0.5363325363 * g + 0.0514459929 * b\n\t);\n\tlet M = Math.cbrt(\n\t\t0.2119034981999999 * r + 0.6806995450999999 * g + 0.1073969566 * b\n\t);\n\tlet S = Math.cbrt(\n\t\t0.08830246189999998 * r + 0.2817188376 * g + 0.6299787005000002 * b\n\t);\n\n\tlet res = {\n\t\tmode: 'oklab',\n\t\tl: 0.2104542553 * L + 0.793617785 * M - 0.0040720468 * S,\n\t\ta: 1.9779984951 * L - 2.428592205 * M + 0.4505937099 * S,\n\t\tb: 0.0259040371 * L + 0.7827717662 * M - 0.808675766 * S\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertLrgbToOklab;\n", "import convertRgbToLrgb from '../lrgb/convertRgbToLrgb.js';\nimport convertLrgbToOklab from './convertLrgbToOklab.js';\n\nconst convertRgbToOklab = rgb => {\n\tlet res = convertLrgbToOklab(convertRgbToLrgb(rgb));\n\tif (rgb.r === rgb.b && rgb.b === rgb.g) {\n\t\tres.a = res.b = 0;\n\t}\n\treturn res;\n};\n\nexport default convertRgbToOklab;\n", "const convertOklabToLrgb = ({ l, a, b, alpha }) => {\n\tlet L = Math.pow(\n\t\tl * 0.99999999845051981432 +\n\t\t\t0.39633779217376785678 * a +\n\t\t\t0.21580375806075880339 * b,\n\t\t3\n\t);\n\tlet M = Math.pow(\n\t\tl * 1.0000000088817607767 -\n\t\t\t0.1055613423236563494 * a -\n\t\t\t0.063854174771705903402 * b,\n\t\t3\n\t);\n\tlet S = Math.pow(\n\t\tl * 1.0000000546724109177 -\n\t\t\t0.089484182094965759684 * a -\n\t\t\t1.2914855378640917399 * b,\n\t\t3\n\t);\n\n\tlet res = {\n\t\tmode: 'lrgb',\n\t\tr:\n\t\t\t+4.076741661347994 * L -\n\t\t\t3.307711590408193 * M +\n\t\t\t0.230969928729428 * S,\n\t\tg:\n\t\t\t-1.2684380040921763 * L +\n\t\t\t2.6097574006633715 * M -\n\t\t\t0.3413193963102197 * S,\n\t\tb:\n\t\t\t-0.004196086541837188 * L -\n\t\t\t0.7034186144594493 * M +\n\t\t\t1.7076147009309444 * S\n\t};\n\n\tif (alpha !== undefined) {\n\t\tres.alpha = alpha;\n\t}\n\n\treturn res;\n};\n\nexport default convertOklabToLrgb;\n", "import convertLrgbToRgb from '../lrgb/convertLrgbToRgb.js';\nimport convertOklabToLrgb from './convertOklabToLrgb.js';\n\nconst convertOklabToRgb = c => convertLrgbToRgb(convertOklabToLrgb(c));\n\nexport default convertOklabToRgb;\n", "/*\n\tAdapted from code by Bj\u00F6rn Ottosson,\n\treleased under the MIT license:\n\n\tCopyright (c) 2021 Bj\u00F6rn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport convertOklabToLrgb from '../oklab/convertOklabToLrgb.js';\n\nexport function toe(x) {\n\tconst k_1 = 0.206;\n\tconst k_2 = 0.03;\n\tconst k_3 = (1 + k_1) / (1 + k_2);\n\treturn (\n\t\t0.5 *\n\t\t(k_3 * x -\n\t\t\tk_1 +\n\t\t\tMath.sqrt((k_3 * x - k_1) * (k_3 * x - k_1) + 4 * k_2 * k_3 * x))\n\t);\n}\n\nexport function toe_inv(x) {\n\tconst k_1 = 0.206;\n\tconst k_2 = 0.03;\n\tconst k_3 = (1 + k_1) / (1 + k_2);\n\treturn (x * x + k_1 * x) / (k_3 * (x + k_2));\n}\n\n// Finds the maximum saturation possible for a given hue that fits in sRGB\n// Saturation here is defined as S = C/L\n// a and b must be normalized so a^2 + b^2 == 1\nfunction compute_max_saturation(a, b) {\n\t// Max saturation will be when one of r, g or b goes below zero.\n\n\t// Select different coefficients depending on which component goes below zero first\n\tlet k0, k1, k2, k3, k4, wl, wm, ws;\n\n\tif (-1.88170328 * a - 0.80936493 * b > 1) {\n\t\t// Red component\n\t\tk0 = +1.19086277;\n\t\tk1 = +1.76576728;\n\t\tk2 = +0.59662641;\n\t\tk3 = +0.75515197;\n\t\tk4 = +0.56771245;\n\t\twl = +4.0767416621;\n\t\twm = -3.3077115913;\n\t\tws = +0.2309699292;\n\t} else if (1.81444104 * a - 1.19445276 * b > 1) {\n\t\t// Green component\n\t\tk0 = +0.73956515;\n\t\tk1 = -0.45954404;\n\t\tk2 = +0.08285427;\n\t\tk3 = +0.1254107;\n\t\tk4 = +0.14503204;\n\t\twl = -1.2684380046;\n\t\twm = +2.6097574011;\n\t\tws = -0.3413193965;\n\t} else {\n\t\t// Blue component\n\t\tk0 = +1.35733652;\n\t\tk1 = -0.00915799;\n\t\tk2 = -1.1513021;\n\t\tk3 = -0.50559606;\n\t\tk4 = +0.00692167;\n\t\twl = -0.0041960863;\n\t\twm = -0.7034186147;\n\t\tws = +1.707614701;\n\t}\n\n\t// Approximate max saturation using a polynomial:\n\tlet S = k0 + k1 * a + k2 * b + k3 * a * a + k4 * a * b;\n\n\t// Do one step Halley's method to get closer\n\t// this gives an error less than 10e6, except for some blue hues where the dS/dh is close to infinite\n\t// this should be sufficient for most applications, otherwise do two/three steps\n\n\tlet k_l = +0.3963377774 * a + 0.2158037573 * b;\n\tlet k_m = -0.1055613458 * a - 0.0638541728 * b;\n\tlet k_s = -0.0894841775 * a - 1.291485548 * b;\n\n\t{\n\t\tlet l_ = 1 + S * k_l;\n\t\tlet m_ = 1 + S * k_m;\n\t\tlet s_ = 1 + S * k_s;\n\n\t\tlet l = l_ * l_ * l_;\n\t\tlet m = m_ * m_ * m_;\n\t\tlet s = s_ * s_ * s_;\n\n\t\tlet l_dS = 3 * k_l * l_ * l_;\n\t\tlet m_dS = 3 * k_m * m_ * m_;\n\t\tlet s_dS = 3 * k_s * s_ * s_;\n\n\t\tlet l_dS2 = 6 * k_l * k_l * l_;\n\t\tlet m_dS2 = 6 * k_m * k_m * m_;\n\t\tlet s_dS2 = 6 * k_s * k_s * s_;\n\n\t\tlet f = wl * l + wm * m + ws * s;\n\t\tlet f1 = wl * l_dS + wm * m_dS + ws * s_dS;\n\t\tlet f2 = wl * l_dS2 + wm * m_dS2 + ws * s_dS2;\n\n\t\tS = S - (f * f1) / (f1 * f1 - 0.5 * f * f2);\n\t}\n\n\treturn S;\n}\n\nexport function find_cusp(a, b) {\n\t// First, find the maximum saturation (saturation S = C/L)\n\tlet S_cusp = compute_max_saturation(a, b);\n\n\t// Convert to linear sRGB to find the first point where at least one of r,g or b >= 1:\n\tlet rgb = convertOklabToLrgb({ l: 1, a: S_cusp * a, b: S_cusp * b });\n\tlet L_cusp = Math.cbrt(1 / Math.max(rgb.r, rgb.g, rgb.b));\n\tlet C_cusp = L_cusp * S_cusp;\n\n\treturn [L_cusp, C_cusp];\n}\n\n// Finds intersection of the line defined by\n// L = L0 * (1 - t) + t * L1;\n// C = t * C1;\n// a and b must be normalized so a^2 + b^2 == 1\nfunction find_gamut_intersection(a, b, L1, C1, L0, cusp = null) {\n\tif (!cusp) {\n\t\t// Find the cusp of the gamut triangle\n\t\tcusp = find_cusp(a, b);\n\t}\n\n\t// Find the intersection for upper and lower half seprately\n\tlet t;\n\tif ((L1 - L0) * cusp[1] - (cusp[0] - L0) * C1 <= 0) {\n\t\t// Lower half\n\n\t\tt = (cusp[1] * L0) / (C1 * cusp[0] + cusp[1] * (L0 - L1));\n\t} else {\n\t\t// Upper half\n\n\t\t// First intersect with triangle\n\t\tt = (cusp[1] * (L0 - 1)) / (C1 * (cusp[0] - 1) + cusp[1] * (L0 - L1));\n\n\t\t// Then one step Halley's method\n\t\t{\n\t\t\tlet dL = L1 - L0;\n\t\t\tlet dC = C1;\n\n\t\t\tlet k_l = +0.3963377774 * a + 0.2158037573 * b;\n\t\t\tlet k_m = -0.1055613458 * a - 0.0638541728 * b;\n\t\t\tlet k_s = -0.0894841775 * a - 1.291485548 * b;\n\n\t\t\tlet l_dt = dL + dC * k_l;\n\t\t\tlet m_dt = dL + dC * k_m;\n\t\t\tlet s_dt = dL + dC * k_s;\n\n\t\t\t// If higher accuracy is required, 2 or 3 iterations of the following block can be used:\n\t\t\t{\n\t\t\t\tlet L = L0 * (1 - t) + t * L1;\n\t\t\t\tlet C = t * C1;\n\n\t\t\t\tlet l_ = L + C * k_l;\n\t\t\t\tlet m_ = L + C * k_m;\n\t\t\t\tlet s_ = L + C * k_s;\n\n\t\t\t\tlet l = l_ * l_ * l_;\n\t\t\t\tlet m = m_ * m_ * m_;\n\t\t\t\tlet s = s_ * s_ * s_;\n\n\t\t\t\tlet ldt = 3 * l_dt * l_ * l_;\n\t\t\t\tlet mdt = 3 * m_dt * m_ * m_;\n\t\t\t\tlet sdt = 3 * s_dt * s_ * s_;\n\n\t\t\t\tlet ldt2 = 6 * l_dt * l_dt * l_;\n\t\t\t\tlet mdt2 = 6 * m_dt * m_dt * m_;\n\t\t\t\tlet sdt2 = 6 * s_dt * s_dt * s_;\n\n\t\t\t\tlet r =\n\t\t\t\t\t4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s - 1;\n\t\t\t\tlet r1 =\n\t\t\t\t\t4.0767416621 * ldt -\n\t\t\t\t\t3.3077115913 * mdt +\n\t\t\t\t\t0.2309699292 * sdt;\n\t\t\t\tlet r2 =\n\t\t\t\t\t4.0767416621 * ldt2 -\n\t\t\t\t\t3.3077115913 * mdt2 +\n\t\t\t\t\t0.2309699292 * sdt2;\n\n\t\t\t\tlet u_r = r1 / (r1 * r1 - 0.5 * r * r2);\n\t\t\t\tlet t_r = -r * u_r;\n\n\t\t\t\tlet g =\n\t\t\t\t\t-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s - 1;\n\t\t\t\tlet g1 =\n\t\t\t\t\t-1.2684380046 * ldt +\n\t\t\t\t\t2.6097574011 * mdt -\n\t\t\t\t\t0.3413193965 * sdt;\n\t\t\t\tlet g2 =\n\t\t\t\t\t-1.2684380046 * ldt2 +\n\t\t\t\t\t2.6097574011 * mdt2 -\n\t\t\t\t\t0.3413193965 * sdt2;\n\n\t\t\t\tlet u_g = g1 / (g1 * g1 - 0.5 * g * g2);\n\t\t\t\tlet t_g = -g * u_g;\n\n\t\t\t\tlet b =\n\t\t\t\t\t-0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s - 1;\n\t\t\t\tlet b1 =\n\t\t\t\t\t-0.0041960863 * ldt -\n\t\t\t\t\t0.7034186147 * mdt +\n\t\t\t\t\t1.707614701 * sdt;\n\t\t\t\tlet b2 =\n\t\t\t\t\t-0.0041960863 * ldt2 -\n\t\t\t\t\t0.7034186147 * mdt2 +\n\t\t\t\t\t1.707614701 * sdt2;\n\n\t\t\t\tlet u_b = b1 / (b1 * b1 - 0.5 * b * b2);\n\t\t\t\tlet t_b = -b * u_b;\n\n\t\t\t\tt_r = u_r >= 0 ? t_r : 10e5;\n\t\t\t\tt_g = u_g >= 0 ? t_g : 10e5;\n\t\t\t\tt_b = u_b >= 0 ? t_b : 10e5;\n\n\t\t\t\tt += Math.min(t_r, Math.min(t_g, t_b));\n\t\t\t}\n\t\t}\n\t}\n\n\treturn t;\n}\n\nexport function get_ST_max(a_, b_, cusp = null) {\n\tif (!cusp) {\n\t\tcusp = find_cusp(a_, b_);\n\t}\n\tlet L = cusp[0];\n\tlet C = cusp[1];\n\treturn [C / L, C / (1 - L)];\n}\n\nexport function get_ST_mid(a_, b_) {\n\tlet S =\n\t\t0.11516993 +\n\t\t1 /\n\t\t\t(+7.4477897 +\n\t\t\t\t4.1590124 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(-2.19557347 +\n\t\t\t\t\t\t1.75198401 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-2.13704948 -\n\t\t\t\t\t\t\t\t10.02301043 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(-4.24894561 +\n\t\t\t\t\t\t\t\t\t\t5.38770819 * b_ +\n\t\t\t\t\t\t\t\t\t\t4.69891013 * a_))));\n\n\tlet T =\n\t\t0.11239642 +\n\t\t1 /\n\t\t\t(+1.6132032 -\n\t\t\t\t0.68124379 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(+0.40370612 +\n\t\t\t\t\t\t0.90148123 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-0.27087943 +\n\t\t\t\t\t\t\t\t0.6122399 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(+0.00299215 -\n\t\t\t\t\t\t\t\t\t\t0.45399568 * b_ -\n\t\t\t\t\t\t\t\t\t\t0.14661872 * a_))));\n\n\treturn [S, T];\n}\n\nexport function get_Cs(L, a_, b_) {\n\tlet cusp = find_cusp(a_, b_);\n\n\tlet C_max = find_gamut_intersection(a_, b_, L, 1, L, cusp);\n\tlet ST_max = get_ST_max(a_, b_, cusp);\n\n\tlet S_mid =\n\t\t0.11516993 +\n\t\t1 /\n\t\t\t(+7.4477897 +\n\t\t\t\t4.1590124 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(-2.19557347 +\n\t\t\t\t\t\t1.75198401 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-2.13704948 -\n\t\t\t\t\t\t\t\t10.02301043 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(-4.24894561 +\n\t\t\t\t\t\t\t\t\t\t5.38770819 * b_ +\n\t\t\t\t\t\t\t\t\t\t4.69891013 * a_))));\n\n\tlet T_mid =\n\t\t0.11239642 +\n\t\t1 /\n\t\t\t(+1.6132032 -\n\t\t\t\t0.68124379 * b_ +\n\t\t\t\ta_ *\n\t\t\t\t\t(+0.40370612 +\n\t\t\t\t\t\t0.90148123 * b_ +\n\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t(-0.27087943 +\n\t\t\t\t\t\t\t\t0.6122399 * b_ +\n\t\t\t\t\t\t\t\ta_ *\n\t\t\t\t\t\t\t\t\t(+0.00299215 -\n\t\t\t\t\t\t\t\t\t\t0.45399568 * b_ -\n\t\t\t\t\t\t\t\t\t\t0.14661872 * a_))));\n\n\tlet k = C_max / Math.min(L * ST_max[0], (1 - L) * ST_max[1]);\n\n\tlet C_a = L * S_mid;\n\tlet C_b = (1 - L) * T_mid;\n\tlet C_mid =\n\t\t0.9 *\n\t\tk *\n\t\tMath.sqrt(\n\t\t\tMath.sqrt(\n\t\t\t\t1 / (1 / (C_a * C_a * C_a * C_a) + 1 / (C_b * C_b * C_b * C_b))\n\t\t\t)\n\t\t);\n\n\tC_a = L * 0.4;\n\tC_b = (1 - L) * 0.8;\n\tlet C_0 = Math.sqrt(1 / (1 / (C_a * C_a) + 1 / (C_b * C_b)));\n\treturn [C_0, C_mid, C_max];\n}\n", "/*\n\tAdapted from code by Bj\u00F6rn Ottosson,\n\treleased under the MIT license:\n\n\tCopyright (c) 2021 Bj\u00F6rn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport normalizeHue from '../util/normalizeHue.js';\nimport { get_Cs, toe } from './helpers.js';\n\nexport default function convertOklabToOkhsl(lab) {\n\tconst ret = { mode: 'okhsl', l: toe(lab.l) };\n\n\tif (lab.alpha !== undefined) {\n\t\tret.alpha = lab.alpha;\n\t}\n\tlet c = Math.sqrt(lab.a * lab.a + lab.b * lab.b);\n\tif (!c) {\n\t\tret.s = 0;\n\t\treturn ret;\n\t}\n\tlet [C_0, C_mid, C_max] = get_Cs(lab.l, lab.a / c, lab.b / c);\n\tlet s;\n\tif (c < C_mid) {\n\t\tlet k_0 = 0;\n\t\tlet k_1 = 0.8 * C_0;\n\t\tlet k_2 = 1 - k_1 / C_mid;\n\t\tlet t = (c - k_0) / (k_1 + k_2 * (c - k_0));\n\t\ts = t * 0.8;\n\t} else {\n\t\tlet k_0 = C_mid;\n\t\tlet k_1 = (0.2 * C_mid * C_mid * 1.25 * 1.25) / C_0;\n\t\tlet k_2 = 1 - k_1 / (C_max - C_mid);\n\t\tlet t = (c - k_0) / (k_1 + k_2 * (c - k_0));\n\t\ts = 0.8 + 0.2 * t;\n\t}\n\tif (s) {\n\t\tret.s = s;\n\t\tret.h = normalizeHue((Math.atan2(lab.b, lab.a) * 180) / Math.PI);\n\t}\n\treturn ret;\n}\n", "/*\n\tAdapted from code by Bj\u00F6rn Ottosson,\n\treleased under the MIT license:\n\n\tCopyright (c) 2021 Bj\u00F6rn Ottosson\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy of\n\tthis software and associated documentation files (the \"Software\"), to deal in\n\tthe Software without restriction, including without limitation the rights to\n\tuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n\tof the Software, and to permit persons to whom the Software is furnished to do\n\tso, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in all\n\tcopies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n\tSOFTWARE.\n */\n\nimport { toe_inv, get_Cs } from './helpers.js';\n\nexport default function convertOkhslToOklab(hsl) {\n\tlet l = toe_inv(hsl.l);\n\n\tconst ret = { mode: 'oklab', l };\n\n\tif (hsl.alpha !== undefined) {\n\t\tret.alpha = hsl.alpha;\n\t}\n\n\tif (!hsl.s || hsl.l === 1) {\n\t\tret.a = ret.b = 0;\n\t\treturn ret;\n\t}\n\n\tlet a_ = Math.cos((hsl.h / 180) * Math.PI);\n\tlet b_ = Math.sin((hsl.h / 180) * Math.PI);\n\tlet [C_0, C_mid, C_max] = get_Cs(l, a_, b_);\n\tlet t, k_0, k_1, k_2;\n\tif (hsl.s < 0.8) {\n\t\tt = 1.25 * hsl.s;\n\t\tk_0 = 0;\n\t\tk_1 = 0.8 * C_0;\n\t\tk_2 = 1 - k_1 / C_mid;\n\t} else {\n\t\tt = 5 * (hsl.s - 0.8);\n\t\tk_0 = C_mid;\n\t\tk_1 = (0.2 * C_mid * C_mid * 1.25 * 1.25) / C_0;\n\t\tk_2 = 1 - k_1 / (C_max - C_mid);\n\t}\n\tlet C = k_0 + (t * k_1) / (1 - k_2 * t);\n\tret.a = C * a_;\n\tret.b = C * b_;\n\n\treturn ret;\n}\n", "import convertRgbToOklab from '../oklab/convertRgbToOklab.js';\nimport convertOklabToRgb from '../oklab/convertOklabToRgb.js';\nimport convertOklabToOkhsl from './convertOklabToOkhsl.js';\nimport convertOkhslToOklab from './convertOkhslToOklab.js';\n\nimport modeHsl from '../hsl/definition.js';\n\nconst modeOkhsl = {\n\t...modeHsl,\n\tmode: 'okhsl',\n\tchannels: ['h', 's', 'l', 'alpha'],\n\tparse: ['--okhsl'],\n\tserialize: '--okhsl',\n\tfromMode: {\n\t\toklab: convertOklabToOkhsl,\n\t\trgb: c => convertOklabToOkhsl(convertRgbToOklab(c))\n\t},\n\ttoMode: {\n\t\toklab: convertOkhslToOklab,\n\t\trgb: c => convertOklabToRgb(convertOkhslToOklab(c))\n\t}\n};\n\nexport default modeOkhsl;\n", "// From: https://github.com/d3/d3-format/issues/32\n\nconst r = (value, precision) =>\n\tMath.round(value * (precision = Math.pow(10, precision))) / precision;\n\nconst round =\n\t(precision = 4) =>\n\tvalue =>\n\t\ttypeof value === 'number' ? r(value, precision) : value;\n\nexport default round;\n", "import converter from './converter.js';\nimport round from './round.js';\nimport prepare from './_prepare.js';\nimport { getMode } from './modes.js';\n\nlet twoDecimals = round(2);\n\nconst clamp = value => Math.max(0, Math.min(1, value));\nconst fixup = value => Math.round(clamp(value) * 255);\n\nexport const serializeHex = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tlet r = fixup(color.r);\n\tlet g = fixup(color.g);\n\tlet b = fixup(color.b);\n\n\treturn '#' + ((1 << 24) | (r << 16) | (g << 8) | b).toString(16).slice(1);\n};\n\nexport const serializeHex8 = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tlet a = fixup(color.alpha !== undefined ? color.alpha : 1);\n\treturn serializeHex(color) + ((1 << 8) | a).toString(16).slice(1);\n};\n\nexport const serializeRgb = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tlet r = color.r !== undefined ? fixup(color.r) : 'none';\n\tlet g = color.g !== undefined ? fixup(color.g) : 'none';\n\tlet b = color.b !== undefined ? fixup(color.b) : 'none';\n\n\tif (color.alpha === undefined || color.alpha === 1) {\n\t\t// opaque color\n\t\treturn `rgb(${r}, ${g}, ${b})`;\n\t} else {\n\t\t// transparent color\n\t\treturn `rgba(${r}, ${g}, ${b}, ${twoDecimals(clamp(color.alpha))})`;\n\t}\n};\n\nexport const serializeHsl = color => {\n\tif (color === undefined) {\n\t\treturn undefined;\n\t}\n\n\tconst h = twoDecimals(color.h || 0);\n\tconst s =\n\t\tcolor.s !== undefined\n\t\t\t? twoDecimals(clamp(color.s) * 100) + '%'\n\t\t\t: 'none';\n\tconst l =\n\t\tcolor.l !== undefined\n\t\t\t? twoDecimals(clamp(color.l) * 100) + '%'\n\t\t\t: 'none';\n\n\tif (color.alpha === undefined || color.alpha === 1) {\n\t\t// opaque color\n\t\treturn `hsl(${h}, ${s}, ${l})`;\n\t} else {\n\t\t// transparent color\n\t\treturn `hsla(${h}, ${s}, ${l}, ${twoDecimals(clamp(color.alpha))})`;\n\t}\n};\n\nexport const formatCss = c => {\n\tconst color = prepare(c);\n\tif (!color) {\n\t\treturn undefined;\n\t}\n\tconst def = getMode(color.mode);\n\tif (!def.serialize || typeof def.serialize === 'string') {\n\t\tlet res = `color(${def.serialize || `--${color.mode}`} `;\n\t\tdef.channels.forEach((ch, i) => {\n\t\t\tif (ch !== 'alpha') {\n\t\t\t\tres +=\n\t\t\t\t\t(i ? ' ' : '') +\n\t\t\t\t\t(color[ch] !== undefined ? color[ch] : 'none');\n\t\t\t}\n\t\t});\n\t\tif (color.alpha !== undefined && color.alpha < 1) {\n\t\t\tres += ` / ${color.alpha}`;\n\t\t}\n\t\treturn res + ')';\n\t}\n\tif (typeof def.serialize === 'function') {\n\t\treturn def.serialize(color);\n\t}\n\treturn undefined;\n};\n\nexport const formatHex = c => serializeHex(converter('rgb')(c));\nexport const formatHex8 = c => serializeHex8(converter('rgb')(c));\nexport const formatRgb = c => serializeRgb(converter('rgb')(c));\nexport const formatHsl = c => serializeHsl(converter('hsl')(c));\n", "import converter from './converter.js';\nimport prepare from './_prepare.js';\nimport { getMode } from './modes.js';\n\nconst mapper = (fn, mode = 'rgb', preserve_mode = false) => {\n\tlet channels = mode ? getMode(mode).channels : null;\n\tlet conv = mode ? converter(mode) : prepare;\n\treturn color => {\n\t\tlet conv_color = conv(color);\n\t\tif (!conv_color) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet res = (channels || getMode(conv_color.mode).channels).reduce(\n\t\t\t(res, ch) => {\n\t\t\t\tlet v = fn(conv_color[ch], ch, conv_color, mode);\n\t\t\t\tif (v !== undefined && !isNaN(v)) {\n\t\t\t\t\tres[ch] = v;\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t},\n\t\t\t{ mode: conv_color.mode }\n\t\t);\n\t\tif (!preserve_mode) {\n\t\t\treturn res;\n\t\t}\n\t\tlet prep = prepare(color);\n\t\tif (prep && prep.mode !== res.mode) {\n\t\t\treturn converter(prep.mode)(res);\n\t\t}\n\t\treturn res;\n\t};\n};\n\nconst mapAlphaMultiply = (v, ch, c) => {\n\tif (ch !== 'alpha') {\n\t\treturn (v || 0) * (c.alpha !== undefined ? c.alpha : 1);\n\t}\n\treturn v;\n};\n\nconst mapAlphaDivide = (v, ch, c) => {\n\tif (ch !== 'alpha' && c.alpha !== 0) {\n\t\treturn (v || 0) / (c.alpha !== undefined ? c.alpha : 1);\n\t}\n\treturn v;\n};\n\nconst mapTransferLinear =\n\t(slope = 1, intercept = 0) =>\n\t(v, ch) => {\n\t\tif (ch !== 'alpha') {\n\t\t\treturn v * slope + intercept;\n\t\t}\n\t\treturn v;\n\t};\n\nconst mapTransferGamma =\n\t(amplitude = 1, exponent = 1, offset = 0) =>\n\t(v, ch) => {\n\t\tif (ch !== 'alpha') {\n\t\t\treturn amplitude * Math.pow(v, exponent) + offset;\n\t\t}\n\t\treturn v;\n\t};\n\nexport {\n\tmapper,\n\tmapAlphaMultiply,\n\tmapAlphaDivide,\n\tmapTransferLinear,\n\tmapTransferGamma\n};\n", "/*\n\tNormalize an array of color stop positions for a gradient\n\tbased on the rules defined in the CSS Images Module 4 spec:\n\n\t1. make the first position 0 and the last position 1 if missing\n\t2. sequences of unpositioned color stops should be spread out evenly\n\t3. no position can be smaller than any of the ones preceding it\n\t\n\tReference: https://drafts.csswg.org/css-images-4/#color-stop-fixup\n\n\tNote: this method does not make a defensive copy of the array\n\tit receives as argument. Instead, it adjusts the values in-place.\n */\nconst normalizePositions = arr => {\n\t// 1. fix up first/last position if missing\n\tif (arr[0] === undefined) {\n\t\tarr[0] = 0;\n\t}\n\tif (arr[arr.length - 1] === undefined) {\n\t\tarr[arr.length - 1] = 1;\n\t}\n\n\tlet i = 1;\n\tlet j;\n\tlet from_idx;\n\tlet from_pos;\n\tlet inc;\n\twhile (i < arr.length) {\n\t\t// 2. fill up undefined positions\n\t\tif (arr[i] === undefined) {\n\t\t\tfrom_idx = i;\n\t\t\tfrom_pos = arr[i - 1];\n\t\t\tj = i;\n\n\t\t\t// find end of `undefined` sequence...\n\t\t\twhile (arr[j] === undefined) j++;\n\n\t\t\t// ...and add evenly-spread positions\n\t\t\tinc = (arr[j] - from_pos) / (j - i + 1);\n\t\t\twhile (i < j) {\n\t\t\t\tarr[i] = from_pos + (i + 1 - from_idx) * inc;\n\t\t\t\ti++;\n\t\t\t}\n\t\t} else if (arr[i] < arr[i - 1]) {\n\t\t\t// 3. make positions increase\n\t\t\tarr[i] = arr[i - 1];\n\t\t}\n\t\ti++;\n\t}\n\treturn arr;\n};\n\nexport default normalizePositions;\n", "// Color interpolation hint exponential function\nconst midpoint = (H = 0.5) => t =>\n\tH <= 0 ? 1 : H >= 1 ? 0 : Math.pow(t, Math.log(0.5) / Math.log(H));\n\nexport default midpoint;\n", "import converter from '../converter.js';\nimport { getMode } from '../modes.js';\nimport normalizePositions from '../util/normalizePositions.js';\nimport easingMidpoint from '../easing/midpoint.js';\nimport { mapper, mapAlphaMultiply, mapAlphaDivide } from '../map.js';\n\nconst isfn = o => typeof o === 'function';\nconst isobj = o => o && typeof o === 'object';\nconst isnum = o => typeof o === 'number';\n\nconst interpolate_fn = (colors, mode = 'rgb', overrides, premap) => {\n\tlet def = getMode(mode);\n\tlet conv = converter(mode);\n\n\tlet conv_colors = [];\n\tlet positions = [];\n\tlet fns = {};\n\n\tcolors.forEach(val => {\n\t\tif (Array.isArray(val)) {\n\t\t\tconv_colors.push(conv(val[0]));\n\t\t\tpositions.push(val[1]);\n\t\t} else if (isnum(val) || isfn(val)) {\n\t\t\t// Color interpolation hint or easing function\n\t\t\tfns[positions.length] = val;\n\t\t} else {\n\t\t\tconv_colors.push(conv(val));\n\t\t\tpositions.push(undefined);\n\t\t}\n\t});\n\n\tnormalizePositions(positions);\n\n\t// override the default interpolators\n\t// from the color space definition with any custom ones\n\tlet fixed = def.channels.reduce((res, ch) => {\n\t\tlet ffn;\n\t\tif (isobj(overrides) && isobj(overrides[ch]) && overrides[ch].fixup) {\n\t\t\tffn = overrides[ch].fixup;\n\t\t} else if (isobj(def.interpolate[ch]) && def.interpolate[ch].fixup) {\n\t\t\tffn = def.interpolate[ch].fixup;\n\t\t} else {\n\t\t\tffn = v => v;\n\t\t}\n\t\tres[ch] = ffn(conv_colors.map(color => color[ch]));\n\t\treturn res;\n\t}, {});\n\n\tif (premap) {\n\t\tlet ccolors = conv_colors.map((color, idx) => {\n\t\t\treturn def.channels.reduce(\n\t\t\t\t(c, ch) => {\n\t\t\t\t\tc[ch] = fixed[ch][idx];\n\t\t\t\t\treturn c;\n\t\t\t\t},\n\t\t\t\t{ mode }\n\t\t\t);\n\t\t});\n\t\tfixed = def.channels.reduce((res, ch) => {\n\t\t\tres[ch] = ccolors.map(c => {\n\t\t\t\tlet v = premap(c[ch], ch, c, mode);\n\t\t\t\treturn isNaN(v) ? undefined : v;\n\t\t\t});\n\t\t\treturn res;\n\t\t}, {});\n\t}\n\n\tlet interpolators = def.channels.reduce((res, ch) => {\n\t\tlet ifn;\n\t\tif (isfn(overrides)) {\n\t\t\tifn = overrides;\n\t\t} else if (isobj(overrides) && isfn(overrides[ch])) {\n\t\t\tifn = overrides[ch];\n\t\t} else if (\n\t\t\tisobj(overrides) &&\n\t\t\tisobj(overrides[ch]) &&\n\t\t\toverrides[ch].use\n\t\t) {\n\t\t\tifn = overrides[ch].use;\n\t\t} else if (isfn(def.interpolate[ch])) {\n\t\t\tifn = def.interpolate[ch];\n\t\t} else if (isobj(def.interpolate[ch])) {\n\t\t\tifn = def.interpolate[ch].use;\n\t\t}\n\n\t\tres[ch] = ifn(fixed[ch]);\n\t\treturn res;\n\t}, {});\n\n\tlet n = conv_colors.length - 1;\n\n\treturn t => {\n\t\t// clamp t to the [0, 1] interval\n\t\tt = Math.min(Math.max(0, t), 1);\n\n\t\tif (t <= positions[0]) {\n\t\t\treturn conv_colors[0];\n\t\t}\n\n\t\tif (t > positions[n]) {\n\t\t\treturn conv_colors[n];\n\t\t}\n\n\t\t// Convert `t` from [0, 1] to `t0` between the appropriate two colors.\n\t\t// First, look for the two colors between which `t` is located.\n\t\t// Note: this can be optimized by searching for the index\n\t\t// through bisection instead of start-to-end.\n\t\tlet idx = 0;\n\t\twhile (positions[idx] < t) idx++;\n\t\tlet start = positions[idx - 1];\n\t\tlet delta = positions[idx] - start;\n\n\t\tlet P = (t - start) / delta;\n\n\t\t// use either the local easing, or the global easing, if any\n\t\tlet fn = fns[idx] || fns[0];\n\t\tif (fn !== undefined) {\n\t\t\tif (isnum(fn)) {\n\t\t\t\tfn = easingMidpoint((fn - start) / delta);\n\t\t\t}\n\t\t\tP = fn(P);\n\t\t}\n\n\t\tlet t0 = (idx - 1 + P) / n;\n\n\t\treturn def.channels.reduce(\n\t\t\t(res, channel) => {\n\t\t\t\tlet val = interpolators[channel](t0);\n\t\t\t\tif (val !== undefined) {\n\t\t\t\t\tres[channel] = val;\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t},\n\t\t\t{ mode }\n\t\t);\n\t};\n};\n\nconst interpolate = (colors, mode = 'rgb', overrides) =>\n\tinterpolate_fn(colors, mode, overrides);\n\nconst interpolateWith =\n\t(premap, postmap) =>\n\t(colors, mode = 'rgb', overrides) => {\n\t\tlet post = postmap ? mapper(postmap, mode) : undefined;\n\t\tlet it = interpolate_fn(colors, mode, overrides, premap);\n\t\treturn post ? t => post(it(t)) : it;\n\t};\n\nconst interpolateWithPremultipliedAlpha = interpolateWith(\n\tmapAlphaMultiply,\n\tmapAlphaDivide\n);\n\nexport { interpolate, interpolateWith, interpolateWithPremultipliedAlpha };\n", "const gamma = (\u03B3 = 1) => (\u03B3 === 1 ? t => t : t => Math.pow(t, \u03B3));\n\nexport default gamma;\n", "import gamma from './easing/gamma.js';\n\nconst samples = (n = 2, \u03B3 = 1) => {\n\tlet ease = gamma(\u03B3);\n\tif (n < 2) {\n\t\treturn n < 1 ? [] : [ease(0.5)];\n\t}\n\tlet res = [];\n\tfor (let i = 0; i < n; i++) {\n\t\tres.push(ease(i / (n - 1)));\n\t}\n\treturn res;\n};\n\nexport default samples;\n", "import converter from './converter.js';\nimport prepare from './_prepare.js';\nimport { getMode } from './modes.js';\nimport { differenceEuclidean } from './difference.js';\n\nconst rgb = converter('rgb');\nconst fixup_rgb = c => {\n\tconst res = {\n\t\tmode: c.mode,\n\t\tr: Math.max(0, Math.min(c.r, 1)),\n\t\tg: Math.max(0, Math.min(c.g, 1)),\n\t\tb: Math.max(0, Math.min(c.b, 1))\n\t};\n\tif (c.alpha !== undefined) {\n\t\tres.alpha = c.alpha;\n\t}\n\treturn res;\n};\n\nconst to_displayable_srgb = c => fixup_rgb(rgb(c));\n\nconst inrange_rgb = c => {\n\treturn (\n\t\tc !== undefined &&\n\t\tc.r >= 0 &&\n\t\tc.r <= 1 &&\n\t\tc.g >= 0 &&\n\t\tc.g <= 1 &&\n\t\tc.b >= 0 &&\n\t\tc.b <= 1\n\t);\n};\n\n/*\n\tReturns whether the color is in the sRGB gamut.\n */\nexport function displayable(color) {\n\treturn inrange_rgb(rgb(color));\n}\n\n/*\n\tGiven a color space `mode`, returns a function\n\twith which to check whether a color is \n\tin that color space's gamut.\n */\nexport function inGamut(mode = 'rgb') {\n\tconst { gamut } = getMode(mode);\n\tif (!gamut) {\n\t\treturn color => true;\n\t}\n\tconst conv = converter(typeof gamut === 'string' ? gamut : mode);\n\treturn color => inrange_rgb(conv(color));\n}\n\n/*\n\tObtain a color that's in the sRGB gamut\n\tby converting it to sRGB and clipping the channel values\n\tso that they're within the [0, 1] range.\n\n\tThe result is returned in the color's original color space.\n */\nexport function clampRgb(color) {\n\tcolor = prepare(color);\n\n\t// if the color is undefined or displayable, return it directly\n\tif (color === undefined || displayable(color)) return color;\n\n\t// keep track of color's original mode\n\tlet conv = converter(color.mode);\n\n\treturn conv(to_displayable_srgb(color));\n}\n\n/*\n\tGiven the `mode` color space, returns a function\n\twith which to obtain a color that's in gamut for\n\tthe `mode` color space by clipping the channel values\n\tso that they fit in their respective ranges.\n\n\tIt's similar to `clampRgb`, but works for any \n\tbounded color space (RGB or not) for which \n\tany combination of in-range channel values\n\tproduces an in-gamut color.\n */\nexport function clampGamut(mode = 'rgb') {\n\tconst { gamut } = getMode(mode);\n\tif (!gamut) {\n\t\treturn color => prepare(color);\n\t}\n\tconst destMode = typeof gamut === 'string' ? gamut : mode;\n\tconst destConv = converter(destMode);\n\tconst inDestGamut = inGamut(destMode);\n\treturn color => {\n\t\tconst original = prepare(color);\n\t\tif (!original) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst converted = destConv(original);\n\t\tif (inDestGamut(converted)) {\n\t\t\treturn original;\n\t\t}\n\t\tconst clamped = fixup_rgb(converted);\n\t\tif (original.mode === clamped.mode) {\n\t\t\treturn clamped;\n\t\t}\n\t\treturn converter(original.mode)(clamped);\n\t};\n}\n\n/*\n\tObtain a color that\u2019s in a RGB gamut (by default sRGB)\n\tby first converting it to `mode` and then finding \n\tthe greatest chroma value that fits the gamut.\n\n\tBy default, the CIELCh color space is used,\n\tbut any color that has a chroma component will do.\n\n\tThe result is returned in the color's original color space.\n */\nexport function clampChroma(color, mode = 'lch', rgbGamut = 'rgb') {\n\tcolor = prepare(color);\n\n\tlet inDestinationGamut =\n\t\trgbGamut === 'rgb' ? displayable : inGamut(rgbGamut);\n\tlet clipToGamut =\n\t\trgbGamut === 'rgb' ? to_displayable_srgb : clampGamut(rgbGamut);\n\n\t// if the color is undefined or displayable, return it directly\n\tif (color === undefined || inDestinationGamut(color)) return color;\n\n\t// keep track of color's original mode\n\tlet conv = converter(color.mode);\n\n\t// convert to the provided `mode` for clamping\n\tcolor = converter(mode)(color);\n\n\t// try with chroma = 0\n\tlet clamped = { ...color, c: 0 };\n\n\t// if not even chroma = 0 is displayable\n\t// fall back to RGB clamping\n\tif (!inDestinationGamut(clamped)) {\n\t\treturn conv(clipToGamut(clamped));\n\t}\n\n\t// By this time we know chroma = 0 is displayable and our current chroma is not.\n\t// Find the displayable chroma through the bisection method.\n\tlet start = 0;\n\tlet end = color.c;\n\tlet range = getMode(mode).ranges.c;\n\tlet resolution = (range[1] - range[0]) / Math.pow(2, 13);\n\tlet _last_good_c;\n\n\twhile (end - start > resolution) {\n\t\tclamped.c = start + (end - start) * 0.5;\n\t\tif (inDestinationGamut(clamped)) {\n\t\t\t_last_good_c = clamped.c;\n\t\t\tstart = clamped.c;\n\t\t} else {\n\t\t\tend = clamped.c;\n\t\t}\n\t}\n\n\treturn conv(\n\t\tinDestinationGamut(clamped) ? clamped : { ...clamped, c: _last_good_c }\n\t);\n}\n\n/*\n\tObtain a color that's in the `dest` gamut,\n\tby first converting it to the `mode` color space\n\tand then finding the largest chroma that's in gamut,\n\tsimilar to `clampChroma`. \n\n\tThe color returned is in the `dest` color space.\n\n\tTo address the shortcomings of `clampChroma`, which can\n\tsometimes produce colors more desaturated than necessary,\n\tthe test used in the binary search is replaced with\n\t\"is color is roughly in gamut\", by comparing the candidate \n\tto the clipped version (obtained with `clampGamut`).\n\tThe test passes if the colors are not too dissimilar, \n\tjudged by the `delta` color difference function \n\tand an associated `jnd` just-noticeable difference value.\n\n\tThe default arguments for this function correspond to the\n\tgamut mapping algorithm defined in CSS Color Level 4:\n\thttps://drafts.csswg.org/css-color/#css-gamut-mapping\n\n\tTo disable the \u201Croughly in gamut\u201D part, pass either\n\t`null` for the `delta` parameter, or zero for `jnd`.\n */\nexport function toGamut(\n\tdest = 'rgb',\n\tmode = 'oklch',\n\tdelta = differenceEuclidean('oklch'),\n\tjnd = 0.02\n) {\n\tconst destConv = converter(dest);\n\n\tif (!getMode(dest).gamut) {\n\t\treturn color => destConv(color);\n\t}\n\n\tconst inDestinationGamut = inGamut(dest);\n\tconst clipToGamut = clampGamut(dest);\n\n\tconst ucs = converter(mode);\n\tconst { ranges } = getMode(mode);\n\n\tconst White = destConv('white');\n\tconst Black = destConv('black');\n\n\treturn color => {\n\t\tcolor = prepare(color);\n\t\tif (color === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst candidate = { ...ucs(color) };\n\t\tif (candidate.l >= ranges.l[1]) {\n\t\t\tconst res = { ...White };\n\t\t\tif (color.alpha !== undefined) {\n\t\t\t\tres.alpha = color.alpha;\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\t\tif (candidate.l <= ranges.l[0]) {\n\t\t\tconst res = { ...Black };\n\t\t\tif (color.alpha !== undefined) {\n\t\t\t\tres.alpha = color.alpha;\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\t\tif (inDestinationGamut(candidate)) {\n\t\t\treturn destConv(candidate);\n\t\t}\n\t\tlet start = 0;\n\t\tlet end = candidate.c;\n\t\tlet epsilon = (ranges.c[1] - ranges.c[0]) / 4000; // 0.0001 for oklch()\n\t\tlet clipped = clipToGamut(candidate);\n\t\twhile (end - start > epsilon) {\n\t\t\tcandidate.c = (start + end) * 0.5;\n\t\t\tclipped = clipToGamut(candidate);\n\t\t\tif (\n\t\t\t\tinDestinationGamut(candidate) ||\n\t\t\t\t(delta && jnd > 0 && delta(candidate, clipped) <= jnd)\n\t\t\t) {\n\t\t\t\tstart = candidate.c;\n\t\t\t} else {\n\t\t\t\tend = candidate.c;\n\t\t\t}\n\t\t}\n\t\treturn destConv(inDestinationGamut(candidate) ? candidate : clipped);\n\t};\n}\n", "import converter from './converter.js';\n\n/*\n\tWCAG luminance\n\tReferences: \n\n\thttps://en.wikipedia.org/wiki/Relative_luminance\n\thttps://github.com/w3c/wcag/issues/236#issuecomment-379526596\n */\nexport function luminance(color) {\n\tlet c = converter('lrgb')(color);\n\treturn 0.2126 * c.r + 0.7152 * c.g + 0.0722 * c.b;\n}\n\n/*\n\tWCAG contrast\n */\nexport function contrast(a, b) {\n\tlet L1 = luminance(a);\n\tlet L2 = luminance(b);\n\treturn (Math.max(L1, L2) + 0.05) / (Math.min(L1, L2) + 0.05);\n}\n", "/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "import { InlineTemplateDirective, } from \"@microsoft/fast-element\";\n/**\n * A function to compose template options.\n * @public\n */\nexport function staticallyCompose(item) {\n    if (!item) {\n        return InlineTemplateDirective.empty;\n    }\n    if (typeof item === \"string\") {\n        return new InlineTemplateDirective(item);\n    }\n    if (\"inline\" in item) {\n        return item.inline();\n    }\n    return item;\n}\n", "import { FASTElementDefinition, } from \"@microsoft/fast-element\";\n/**\n * Determines what HTML tag name to use for the dependency.\n * @param dependency - The dependency the template is dependent on.\n * @returns The tag name to use in markup.\n * @beta\n */\nexport function tagFor(dependency) {\n    if (typeof dependency === \"string\") {\n        return dependency;\n    }\n    if (typeof dependency === \"function\") {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        dependency = FASTElementDefinition.getByType(dependency);\n        if (!dependency) {\n            throw new Error(\"Missing FASTElement definition.\");\n        }\n    }\n    return dependency.name;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr } from \"@microsoft/fast-element\";\n/**\n * Some states and properties are applicable to all host language elements regardless of whether a role is applied.\n * The following global states and properties are supported by all roles and by all base markup elements.\n * {@link https://www.w3.org/TR/wai-aria-1.1/#global_states}\n *\n * This is intended to be used as a mixin. Be sure you extend FASTElement.\n *\n * @public\n */\nexport class ARIAGlobalStatesAndProperties {\n}\n__decorate([\n    attr({ attribute: \"aria-atomic\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaAtomic\", void 0);\n__decorate([\n    attr({ attribute: \"aria-busy\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaBusy\", void 0);\n__decorate([\n    attr({ attribute: \"aria-controls\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaControls\", void 0);\n__decorate([\n    attr({ attribute: \"aria-current\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaCurrent\", void 0);\n__decorate([\n    attr({ attribute: \"aria-describedby\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaDescribedby\", void 0);\n__decorate([\n    attr({ attribute: \"aria-details\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaDetails\", void 0);\n__decorate([\n    attr({ attribute: \"aria-disabled\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaDisabled\", void 0);\n__decorate([\n    attr({ attribute: \"aria-errormessage\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaErrormessage\", void 0);\n__decorate([\n    attr({ attribute: \"aria-flowto\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaFlowto\", void 0);\n__decorate([\n    attr({ attribute: \"aria-haspopup\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaHaspopup\", void 0);\n__decorate([\n    attr({ attribute: \"aria-hidden\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaHidden\", void 0);\n__decorate([\n    attr({ attribute: \"aria-invalid\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaInvalid\", void 0);\n__decorate([\n    attr({ attribute: \"aria-keyshortcuts\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaKeyshortcuts\", void 0);\n__decorate([\n    attr({ attribute: \"aria-label\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaLabel\", void 0);\n__decorate([\n    attr({ attribute: \"aria-labelledby\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaLabelledby\", void 0);\n__decorate([\n    attr({ attribute: \"aria-live\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaLive\", void 0);\n__decorate([\n    attr({ attribute: \"aria-owns\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaOwns\", void 0);\n__decorate([\n    attr({ attribute: \"aria-relevant\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaRelevant\", void 0);\n__decorate([\n    attr({ attribute: \"aria-roledescription\" })\n], ARIAGlobalStatesAndProperties.prototype, \"ariaRoledescription\", void 0);\n", "import { html, ref } from \"@microsoft/fast-element\";\nimport { staticallyCompose, } from \"../utilities/template-helpers.js\";\n/**\n * A mixin class implementing start and end slots.\n * These are generally used to decorate text elements with icons or other visual indicators.\n * @public\n */\nexport class StartEnd {\n}\n/**\n * The template for the end slot.\n * For use with {@link StartEnd}\n *\n * @public\n */\nexport function endSlotTemplate(options) {\n    return html `\n        <slot name=\"end\" ${ref(\"end\")}>${staticallyCompose(options.end)}</slot>\n    `.inline();\n}\n/**\n * The template for the start slots.\n * For use with {@link StartEnd}\n *\n * @public\n */\nexport function startSlotTemplate(options) {\n    return html `\n        <slot name=\"start\" ${ref(\"start\")}>${staticallyCompose(options.start)}</slot>\n    `.inline();\n}\n", "import { html, ref } from \"@microsoft/fast-element\";\nimport { staticallyCompose } from \"../utilities/template-helpers.js\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTAccordionItem:class)} component.\n * @public\n */\nexport function accordionItemTemplate(options = {}) {\n    return html `\n        <div\n            class=\"heading\"\n            part=\"heading\"\n            role=\"heading\"\n            aria-level=\"${x => x.headinglevel}\"\n        >\n            <button\n                class=\"button\"\n                part=\"button\"\n                ${ref(\"expandbutton\")}\n                ?disabled=\"${x => (x.disabled ? \"true\" : void 0)}\"\n                aria-expanded=\"${x => x.expanded}\"\n                aria-controls=\"${x => x.id}-panel\"\n                id=\"${x => x.id}\"\n                @click=\"${(x, c) => x.clickHandler(c.event)}\"\n            >\n                <span class=\"heading-content\" part=\"heading-content\">\n                    <slot name=\"heading\"></slot>\n                </span>\n            </button>\n            ${startSlotTemplate(options)}\n            ${endSlotTemplate(options)}\n            <span class=\"icon\" part=\"icon\" aria-hidden=\"true\">\n                <slot name=\"expanded-icon\">\n                    ${staticallyCompose(options.expandedIcon)}\n                </slot>\n                <slot name=\"collapsed-icon\">\n                    ${staticallyCompose(options.collapsedIcon)}\n                </slot>\n            <span>\n        </div>\n        <div\n            class=\"region\"\n            part=\"region\"\n            id=\"${x => x.id}-panel\"\n            role=\"region\"\n            aria-labelledby=\"${x => x.id}\"\n        >\n            <slot></slot>\n        </div>\n`;\n}\n", "/**\n * Standard orientation values\n */\nexport const Orientation = {\n    horizontal: \"horizontal\",\n    vertical: \"vertical\",\n};\n", "/**\n * Returns the index of the last element in the array where predicate is true, and -1 otherwise.\n *\n * @param array - the array to test\n * @param predicate - find calls predicate once for each element of the array, in descending order, until it finds one where predicate returns true. If such an element is found, findLastIndex immediately returns that element index. Otherwise, findIndex returns -1.\n */\nexport function findLastIndex(array, predicate) {\n    let k = array.length;\n    while (k--) {\n        if (predicate(array[k], k, array)) {\n            return k;\n        }\n    }\n    return -1;\n}\n", "import { canUseDOM } from \"exenv-es6\";\n/**\n * A test that ensures that all arguments are HTML Elements\n */\nexport function isHTMLElement(...args) {\n    return args.every((arg) => arg instanceof HTMLElement);\n}\n/**\n * Returns all displayed elements inside of a root node that match a provided selector\n */\nexport function getDisplayedNodes(rootNode, selector) {\n    if (!rootNode || !selector || !isHTMLElement(rootNode)) {\n        return;\n    }\n    const nodes = Array.from(rootNode.querySelectorAll(selector));\n    // offsetParent will be null if the element isn't currently displayed,\n    // so this will allow us to operate only on visible nodes\n    return nodes.filter((node) => node.offsetParent !== null);\n}\n/**\n * Returns the nonce used in the page, if any.\n *\n * Based on https://github.com/cssinjs/jss/blob/master/packages/jss/src/DomRenderer.js\n */\nfunction getNonce() {\n    const node = document.querySelector('meta[property=\"csp-nonce\"]');\n    if (node) {\n        return node.getAttribute(\"content\");\n    }\n    else {\n        return null;\n    }\n}\n/**\n * Test if the document supports :focus-visible\n */\nlet _canUseFocusVisible;\nexport function canUseFocusVisible() {\n    if (typeof _canUseFocusVisible === \"boolean\") {\n        return _canUseFocusVisible;\n    }\n    if (!canUseDOM()) {\n        _canUseFocusVisible = false;\n        return _canUseFocusVisible;\n    }\n    // Check to see if the document supports the focus-visible element\n    const styleElement = document.createElement(\"style\");\n    // If nonces are present on the page, use it when creating the style element\n    // to test focus-visible support.\n    const styleNonce = getNonce();\n    if (styleNonce !== null) {\n        styleElement.setAttribute(\"nonce\", styleNonce);\n    }\n    document.head.appendChild(styleElement);\n    try {\n        styleElement.sheet.insertRule(\"foo:focus-visible {color:inherit}\", 0);\n        _canUseFocusVisible = true;\n    }\n    catch (e) {\n        _canUseFocusVisible = false;\n    }\n    finally {\n        document.head.removeChild(styleElement);\n    }\n    return _canUseFocusVisible;\n}\nlet _canUseCssGrid;\nexport function canUseCssGrid() {\n    if (typeof _canUseCssGrid === \"boolean\") {\n        return _canUseCssGrid;\n    }\n    try {\n        _canUseCssGrid = CSS.supports(\"display\", \"grid\");\n    }\n    catch (_a) {\n        _canUseCssGrid = false;\n    }\n    return _canUseCssGrid;\n}\nexport function canUseForcedColors() {\n    return (canUseDOM() &&\n        (window.matchMedia(\"(forced-colors: none)\").matches ||\n            window.matchMedia(\"(forced-colors: active)\").matches));\n}\nexport function resetDocumentCache() {\n    _canUseCssGrid = undefined;\n    _canUseFocusVisible = undefined;\n}\n/**\n * @deprecated Use 'canUseForcedColors' instead\n */\nexport const canUsedForcedColors = canUseForcedColors;\n", "/**\n * This set of exported strings reference https://developer.mozilla.org/en-US/docs/Web/Events\n * and should include all non-deprecated and non-experimental Standard events\n */\nexport const eventAbort = \"abort\";\nexport const eventAfterPrint = \"afterprint\";\nexport const eventAnimationCancel = \"animationcancel\";\nexport const eventAnimationEnd = \"animationend\";\nexport const eventAnimationIteration = \"animationiteration\";\nexport const eventAnimationStart = \"animationstart\";\nexport const eventAppInstalled = \"appinstalled\";\nexport const eventBeforePrint = \"beforeprint\";\nexport const eventBeforeUnload = \"beforeunload\";\nexport const eventBeginEvent = \"beginEvent\";\nexport const eventBlocked = \"blocked\";\nexport const eventBlur = \"blur\";\nexport const eventCanPlay = \"canplay\";\nexport const eventCanPlayThrough = \"canplaythrough\";\nexport const eventChange = \"change\";\nexport const eventChargingChange = \"chargingchange\";\nexport const eventChargingTimeChange = \"chargingtimechange\";\nexport const eventClick = \"click\";\nexport const eventClose = \"close\";\nexport const eventComplete = \"complete\";\nexport const eventCompositionEnd = \"compositionend\";\nexport const eventCompositionStart = \"compositionstart\";\nexport const eventCompositionUpdate = \"compositionupdate\";\nexport const eventContextMenu = \"contextmenu\";\nexport const eventCopy = \"copy\";\nexport const eventCut = \"cut\";\nexport const eventDblClick = \"dblclick\";\nexport const eventDeviceChange = \"devicechange\";\nexport const eventDeviceMotion = \"devicemotion\";\nexport const eventDeviceOrientation = \"deviceorientation\";\nexport const eventDischargingTimeChange = \"dischargingtimechange\";\nexport const eventDrag = \"drag\";\nexport const eventDragEnd = \"dragend\";\nexport const eventDragEnter = \"dragenter\";\nexport const eventDragLeave = \"dragleave\";\nexport const eventDragOver = \"dragover\";\nexport const eventDragStart = \"dragstart\";\nexport const eventDrop = \"drop\";\nexport const eventDurationChange = \"durationchange\";\nexport const eventEmptied = \"emptied\";\nexport const eventEnded = \"ended\";\nexport const eventEndEvent = \"endevent\";\nexport const eventError = \"error\";\nexport const eventFocus = \"focus\";\nexport const eventFocusIn = \"focusin\";\nexport const eventFocusOut = \"focusout\";\nexport const eventFullScreenChange = \"fullscreenchange\";\nexport const eventFullScreenError = \"fullscreenerror\";\nexport const eventGamePadConnected = \"gamepadconnected\";\nexport const eventGamePadDisconnected = \"gamepaddisconnected\";\nexport const eventGotPointerCapture = \"gotpointercapture\";\nexport const eventHashChange = \"hashchange\";\nexport const eventLostPointerCapture = \"lostpointercapture\";\nexport const eventInput = \"input\";\nexport const eventInvalid = \"invalid\";\nexport const eventKeyDown = \"keydown\";\nexport const eventKeyUp = \"keyup\";\nexport const eventLevelChange = \"levelchange\";\nexport const eventLoad = \"load\";\nexport const eventLoadedData = \"loadeddata\";\nexport const eventLoadedMetaData = \"loadedmetadata\";\nexport const eventLoadEnd = \"loadend\";\nexport const eventLoadStart = \"loadstart\";\nexport const eventMessage = \"message\";\nexport const eventMessageError = \"messageerror\";\nexport const eventMouseDown = \"mousedown\";\nexport const eventMouseEnter = \"mouseenter\";\nexport const eventMouseLeave = \"mouseleave\";\nexport const eventMouseMove = \"mousemove\";\nexport const eventMouseOut = \"mouseout\";\nexport const eventMouseOver = \"mouseover\";\nexport const eventMouseUp = \"mouseup\";\nexport const eventNotificationClick = \"notificationclick\";\nexport const eventOffline = \"offline\";\nexport const eventOnline = \"online\";\nexport const eventOpen = \"open\";\nexport const eventOrientationChange = \"orientationchange\";\nexport const eventPageHide = \"pagehide\";\nexport const eventPageShow = \"pageshow\";\nexport const eventPaste = \"paste\";\nexport const eventPause = \"pause\";\nexport const eventPointerCancel = \"pointercancel\";\nexport const eventPointerDown = \"pointerdown\";\nexport const eventPointerEnter = \"pointerenter\";\nexport const eventPointerLeave = \"pointerleave\";\nexport const eventPointerLockChange = \"pointerlockchange\";\nexport const eventPointerLockError = \"pointerlockerror\";\nexport const eventPointerMove = \"pointermove\";\nexport const eventPointerOut = \"pointerout\";\nexport const eventPointerOver = \"pointerover\";\nexport const eventPointerUp = \"pointerup\";\nexport const eventPlay = \"play\";\nexport const eventPlaying = \"playing\";\nexport const eventPopState = \"popstate\";\nexport const eventProgress = \"progress\";\nexport const eventPush = \"push\";\nexport const eventPushSubscriptionChange = \"pushsubscriptionchange\";\nexport const eventRateChange = \"ratechange\";\nexport const eventReadyStateChange = \"readystatechange\";\nexport const eventRepeatEvent = \"repeatevent\";\nexport const eventReset = \"reset\";\nexport const eventResize = \"resize\";\nexport const eventResourceTimingBufferFull = \"resourcetimingbufferfull\";\nexport const eventScroll = \"scroll\";\nexport const eventSeeked = \"seeked\";\nexport const eventSeeking = \"seeking\";\nexport const eventSelect = \"select\";\nexport const eventShow = \"show\";\nexport const eventSlotChange = \"slotchange\";\nexport const eventStalled = \"stalled\";\nexport const eventStart = \"start\";\nexport const eventStorage = \"storage\";\nexport const eventSubmit = \"submit\";\nexport const eventSuccess = \"success\";\nexport const eventSuspend = \"suspend\";\nexport const eventSVGAbort = \"SVGAbort\";\nexport const eventSVGError = \"SVGError\";\nexport const eventSVGLoad = \"SVGLoad\";\nexport const eventSVGResize = \"SVGResize\";\nexport const eventSVGScroll = \"SVGScroll\";\nexport const eventSVGUnload = \"SVGUnload\";\nexport const eventSVGZoom = \"SVGZoom\";\nexport const eventTimeOut = \"timeout\";\nexport const eventTimeUpdate = \"timeupdate\";\nexport const eventTouchCancel = \"touchcancel\";\nexport const eventTouchEnd = \"touchend\";\nexport const eventTouchMove = \"touchmove\";\nexport const eventTouchStart = \"touchstart\";\nexport const eventTransitionEnd = \"transitionend\";\nexport const eventUnload = \"unload\";\nexport const eventUpgradeNeeded = \"upgradeneeded\";\nexport const eventUserProximity = \"userproximity\";\nexport const eventVersionChange = \"versionchange\";\nexport const eventVisibilityChange = \"visibilitychange\";\nexport const eventVolumeChange = \"volumechange\";\nexport const eventWaiting = \"waiting\";\nexport const eventWheel = \"wheel\";\n", "/**\n * String values for use with KeyboardEvent.key\n */\nexport const keyAlt = \"Alt\";\nexport const keyAltGraph = \"AltGraph\";\nexport const keyCapsLock = \"CapsLock\";\nexport const keyControl = \"Control\";\nexport const keyArrowDown = \"ArrowDown\";\nexport const keyArrowLeft = \"ArrowLeft\";\nexport const keyArrowRight = \"ArrowRight\";\nexport const keyArrowUp = \"ArrowUp\";\nexport const keyBackspace = \"Backspace\";\nexport const keyDelete = \"Delete\";\nexport const keyEnd = \"End\";\nexport const keyEnter = \"Enter\";\nexport const keyEscape = \"Escape\";\nexport const keyHome = \"Home\";\nexport const keyFunction = \"Fn\";\nexport const keyFunctionLock = \"FnLock\";\nexport const keyFunction2 = \"F2\";\nexport const keyFunction3 = \"F3\";\nexport const keyFunction4 = \"F4\";\nexport const keyFunction5 = \"F5\";\nexport const keyFunction6 = \"F6\";\nexport const keyFunction7 = \"F7\";\nexport const keyFunction8 = \"F8\";\nexport const keyFunction9 = \"F9\";\nexport const keyFunction10 = \"F10\";\nexport const keyFunction11 = \"F11\";\nexport const keyFunction12 = \"F12\";\nexport const keyFunction13 = \"F13\";\nexport const keyFunction14 = \"F14\";\nexport const keyFunction15 = \"F15\";\nexport const keyNumLock = \"NumLock\";\nexport const keyPageDown = \"PageDown\";\nexport const keyPageUp = \"PageUp\";\nexport const keyScrollLock = \"ScrollLock\";\nexport const keyShift = \"Shift\";\nexport const keySpace = \" \";\nexport const keyTab = \"Tab\";\nexport const ArrowKeys = {\n    ArrowDown: keyArrowDown,\n    ArrowLeft: keyArrowLeft,\n    ArrowRight: keyArrowRight,\n    ArrowUp: keyArrowUp,\n};\n", "/**\n * Expose ltr and rtl strings\n */\nexport var Direction;\n(function (Direction) {\n    Direction[\"ltr\"] = \"ltr\";\n    Direction[\"rtl\"] = \"rtl\";\n})(Direction || (Direction = {}));\n", "/**\n * This method keeps a given value within the bounds of a min and max value. If the value\n * is larger than the max, the minimum value will be returned. If the value is smaller than the minimum,\n * the maximum will be returned. Otherwise, the value is returned un-changed.\n */\nexport function wrapInBounds(min, max, value) {\n    if (value < min) {\n        return max;\n    }\n    else if (value > max) {\n        return min;\n    }\n    return value;\n}\n/**\n * Ensures that a value is between a min and max value. If value is lower than min, min will be returned.\n * If value is greater than max, max will be returned.\n */\nexport function limit(min, max, value) {\n    return Math.min(Math.max(value, min), max);\n}\n/**\n * Determines if a number value is within a specified range.\n *\n * @param value - the value to check\n * @param min - the range start\n * @param max - the range end\n */\nexport function inRange(value, min, max = 0) {\n    [min, max] = [min, max].sort((a, b) => a - b);\n    return min <= value && value < max;\n}\n", "let uniqueIdCounter = 0;\n/**\n * Generates a unique ID based on incrementing a counter.\n */\nexport function uniqueId(prefix = \"\") {\n    return `${prefix}${uniqueIdCounter++}`;\n}\n/**\n * Builds a string from a format specifier and replacement parameters.\n */\nexport function format(formatSpecifier, ...parameters) {\n    return formatSpecifier.replace(/{(\\d+)}/g, function (match, index) {\n        if (index >= parameters.length) {\n            return match;\n        }\n        const value = parameters[index];\n        if (typeof value !== \"number\" && !value) {\n            return \"\";\n        }\n        return value;\n    });\n}\n/**\n * Check to see if one string starts with another\n */\nexport function startsWith(stringToSearch, searchFor, position = 0) {\n    if (!stringToSearch || !searchFor) {\n        return false;\n    }\n    return stringToSearch.substr(position, searchFor.length) === searchFor;\n}\n/**\n * Determines if the specified string is undefined, null, empty, or whitespace.\n * True if the value is undefined, null, empty, or whitespace, otherwise false.\n */\nexport function isNullOrWhiteSpace(value) {\n    return !value || !value.trim();\n}\n/**\n * Converts a string to Pascal Case\n * where the first letter of each compound word is capitalized.\n */\nexport function pascalCase(value) {\n    let newValue = `${value}`\n        .replace(new RegExp(/[-_]+/, \"g\"), \" \")\n        .replace(new RegExp(/[^\\w\\s]/, \"g\"), \"\")\n        .replace(/^\\s+|\\s+$|\\s+(?=\\s)/g, \"\")\n        .replace(new RegExp(/\\s+(.)(\\w*)/, \"g\"), ($1, $2, $3) => `${$2.toUpperCase() + $3.toLowerCase()}`)\n        .replace(new RegExp(/\\w/), s => s.toUpperCase());\n    let firstLowerIdx = 0;\n    for (let i = 0; i < newValue.length; i++) {\n        const currChar = newValue.charAt(i);\n        if (currChar == currChar.toLowerCase()) {\n            firstLowerIdx = i;\n            break;\n        }\n    }\n    if (firstLowerIdx > 1) {\n        newValue =\n            `${newValue.charAt(0).toUpperCase()}${newValue\n                .slice(1, firstLowerIdx - 1)\n                .toLowerCase()}` + newValue.slice(firstLowerIdx - 1);\n    }\n    return newValue;\n}\n/**\n * converts a string from camelCase or pascalCase to spinal-case\n * which is an lowercase dash separated naming style.\n *\n * An example of spinal case: foo-bar-bat\n */\nexport function spinalCase(value) {\n    const valueWithLowerCaseFirstLetter = `${value\n        .charAt(0)\n        .toLowerCase()}${value.slice(1)}`;\n    return valueWithLowerCaseFirstLetter.replace(/([A-Z]|[0-9])/g, function (match, group1) {\n        return `-${group1.toLowerCase()}`;\n    });\n}\n", "import { AttributeConfiguration } from \"@microsoft/fast-element\";\n/**\n * Apply mixins to a constructor.\n * Sourced from {@link https://www.typescriptlang.org/docs/handbook/mixins.html | TypeScript Documentation }.\n * @internal\n */\nexport function applyMixins(derivedCtor, ...baseCtors) {\n    const derivedAttributes = AttributeConfiguration.locate(derivedCtor);\n    baseCtors.forEach(baseCtor => {\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\n            if (name !== \"constructor\") {\n                Object.defineProperty(derivedCtor.prototype, name, \n                /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n                Object.getOwnPropertyDescriptor(baseCtor.prototype, name));\n            }\n        });\n        const baseAttributes = AttributeConfiguration.locate(baseCtor);\n        baseAttributes.forEach(x => derivedAttributes.push(x));\n    });\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, nullableNumberConverter } from \"@microsoft/fast-element\";\nimport { uniqueId } from \"@microsoft/fast-web-utilities\";\nimport { StartEnd } from \"../patterns/index.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\n/**\n * An individual item in an {@link @microsoft/fast-foundation#(FASTAccordion:class) }.\n *\n * @slot start - Content which can be provided between the heading and the icon\n * @slot end - Content which can be provided between the start slot and icon\n * @slot heading - Content which serves as the accordion item heading and text of the expand button\n * @slot - The default slot for accordion item content\n * @slot expanded-icon - The expanded icon\n * @slot collapsed-icon - The collapsed icon\n * @fires change - Fires a custom 'change' event when the button is invoked\n * @csspart heading - Wraps the button\n * @csspart button - The button which serves to invoke the item\n * @csspart heading-content - Wraps the slot for the heading content within the button\n * @csspart icon - The icon container\n * @csspart region - The wrapper for the accordion item content\n *\n * @public\n */\nexport class FASTAccordionItem extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Configures the {@link https://www.w3.org/TR/wai-aria-1.1/#aria-level | level} of the\n         * heading element.\n         *\n         * @defaultValue 2\n         * @public\n         * @remarks\n         * HTML attribute: heading-level\n         */\n        this.headinglevel = 2;\n        /**\n         * Expands or collapses the item.\n         *\n         * @public\n         * @remarks\n         * HTML attribute: expanded\n         */\n        this.expanded = false;\n        /**\n         * Disables an accordion item\n         *\n         * @public\n         * @remarks\n         * HTML attribute: disabled\n         */\n        this.disabled = false;\n        /**\n         * The item ID\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: id\n         */\n        this.id = uniqueId(\"accordion-\");\n        /**\n         * @internal\n         */\n        this.clickHandler = (e) => {\n            if (this.disabled) {\n                return;\n            }\n            this.$emit(\"click\", e);\n        };\n    }\n}\n__decorate([\n    attr({\n        attribute: \"heading-level\",\n        mode: \"fromView\",\n        converter: nullableNumberConverter,\n    })\n], FASTAccordionItem.prototype, \"headinglevel\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTAccordionItem.prototype, \"expanded\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTAccordionItem.prototype, \"disabled\", void 0);\n__decorate([\n    attr\n], FASTAccordionItem.prototype, \"id\", void 0);\napplyMixins(FASTAccordionItem, StartEnd);\n", "/**\n * Expand mode for {@link FASTAccordion}\n * @public\n */\nexport const AccordionExpandMode = {\n    /**\n     * Designates only a single {@link @microsoft/fast-foundation#(FASTAccordionItem:class) } can be open a time.\n     */\n    single: \"single\",\n    /**\n     * Designates multiple {@link @microsoft/fast-foundation#(FASTAccordionItem:class) | FASTAccordionItemItems} can be open simultaneously.\n     */\n    multi: \"multi\",\n};\n", "import { __decorate } from \"tslib\";\nimport { Observable } from \"@microsoft/fast-element\";\nimport { attr, FASTElement, observable } from \"@microsoft/fast-element\";\nimport { keyArrowDown, keyArrowUp, keyEnd, keyHome, wrapInBounds, } from \"@microsoft/fast-web-utilities\";\nimport { FASTAccordionItem } from \"../accordion-item/accordion-item.js\";\nimport { AccordionExpandMode } from \"./accordion.options.js\";\n/**\n * An Accordion Custom HTML Element\n * Implements {@link https://www.w3.org/TR/wai-aria-practices-1.1/#accordion | ARIA Accordion}.\n *\n * @fires change - Fires a custom 'change' event when the active item changes\n * @csspart item - The slot for the accordion items\n * @public\n *\n * @remarks\n * Designed to be used with {@link @microsoft/fast-foundation#accordionTemplate} and {@link @microsoft/fast-foundation#(FASTAccordionItem:class)}.\n */\nexport class FASTAccordion extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Controls the expand mode of the Accordion, either allowing\n         * single or multiple item expansion.\n         * @public\n         *\n         * @remarks\n         * HTML attribute: expand-mode\n         */\n        this.expandmode = AccordionExpandMode.multi;\n        this.activeItemIndex = 0;\n        this.change = () => {\n            this.$emit(\"change\", this.activeid);\n        };\n        this.setItems = () => {\n            if (this.slottedAccordionItems.length === 0) {\n                return;\n            }\n            const children = Array.from(this.children);\n            this.removeItemListeners(children);\n            children.forEach((child) => Observable.getNotifier(child).subscribe(this, \"disabled\"));\n            this.accordionItems = children.filter(child => !child.hasAttribute(\"disabled\"));\n            this.accordionIds = this.getItemIds();\n            this.accordionItems.forEach((item, index) => {\n                if (item instanceof FASTAccordionItem) {\n                    item.addEventListener(\"click\", this.activeItemChange);\n                    Observable.getNotifier(item).subscribe(this, \"expanded\");\n                }\n                const itemId = this.accordionIds[index];\n                item.setAttribute(\"id\", typeof itemId !== \"string\" ? `accordion-${index + 1}` : itemId);\n                this.activeid = this.accordionIds[this.activeItemIndex];\n                item.addEventListener(\"keydown\", this.handleItemKeyDown);\n                item.addEventListener(\"focus\", this.handleItemFocus);\n            });\n            if (this.isSingleExpandMode()) {\n                const expandedItem = this.findExpandedItem();\n                this.setSingleExpandMode(expandedItem);\n            }\n        };\n        this.removeItemListeners = (oldValue) => {\n            oldValue.forEach((item, index) => {\n                Observable.getNotifier(item).unsubscribe(this, \"disabled\");\n                Observable.getNotifier(item).unsubscribe(this, \"expanded\");\n                item.removeEventListener(\"click\", this.activeItemChange);\n                item.removeEventListener(\"keydown\", this.handleItemKeyDown);\n                item.removeEventListener(\"focus\", this.handleItemFocus);\n            });\n        };\n        this.activeItemChange = (event) => {\n            if (event.defaultPrevented || event.target !== event.currentTarget) {\n                return;\n            }\n            event.preventDefault();\n            this.handleExpandedChange(event.target);\n        };\n        this.handleExpandedChange = (item) => {\n            if (item instanceof FASTAccordionItem) {\n                this.activeid = item.getAttribute(\"id\");\n                if (!this.isSingleExpandMode()) {\n                    item.expanded = !item.expanded;\n                    // setSingleExpandMode sets activeItemIndex on its own\n                    this.activeItemIndex = this.accordionItems.indexOf(item);\n                }\n                else {\n                    this.setSingleExpandMode(item);\n                }\n                this.change();\n            }\n        };\n        this.handleItemKeyDown = (event) => {\n            // only handle the keydown if the event target is the accordion item\n            // prevents arrow keys from moving focus to accordion headers when focus is on accordion item panel content\n            if (event.target !== event.currentTarget) {\n                return;\n            }\n            this.accordionIds = this.getItemIds();\n            switch (event.key) {\n                case keyArrowUp:\n                    event.preventDefault();\n                    this.adjust(-1);\n                    break;\n                case keyArrowDown:\n                    event.preventDefault();\n                    this.adjust(1);\n                    break;\n                case keyHome:\n                    this.activeItemIndex = 0;\n                    this.focusItem();\n                    break;\n                case keyEnd:\n                    this.activeItemIndex = this.accordionItems.length - 1;\n                    this.focusItem();\n                    break;\n            }\n        };\n        this.handleItemFocus = (event) => {\n            // update the active item index if the focus moves to an accordion item via a different method other than the up and down arrow key actions\n            // only do so if the focus is actually on the accordion item and not on any of its children\n            if (event.target === event.currentTarget) {\n                const focusedItem = event.target;\n                const focusedIndex = (this.activeItemIndex = Array.from(this.accordionItems).indexOf(focusedItem));\n                if (this.activeItemIndex !== focusedIndex && focusedIndex !== -1) {\n                    this.activeItemIndex = focusedIndex;\n                    this.activeid = this.accordionIds[this.activeItemIndex];\n                }\n            }\n        };\n    }\n    expandmodeChanged(prev, next) {\n        if (!this.$fastController.isConnected) {\n            return;\n        }\n        const expandedItem = this.findExpandedItem();\n        if (!expandedItem) {\n            return;\n        }\n        if (next !== AccordionExpandMode.single) {\n            expandedItem === null || expandedItem === void 0 ? void 0 : expandedItem.expandbutton.removeAttribute(\"aria-disabled\");\n        }\n        else {\n            this.setSingleExpandMode(expandedItem);\n        }\n    }\n    /**\n     * @internal\n     */\n    slottedAccordionItemsChanged(oldValue, newValue) {\n        if (this.$fastController.isConnected) {\n            this.setItems();\n        }\n    }\n    /**\n     * @internal\n     */\n    handleChange(source, propertyName) {\n        if (propertyName === \"disabled\") {\n            this.setItems();\n        }\n        else if (propertyName === \"expanded\") {\n            // we only need to manage single expanded instances\n            // such as scenarios where a child is programatically expanded\n            if (source.expanded && this.isSingleExpandMode()) {\n                this.setSingleExpandMode(source);\n            }\n        }\n    }\n    findExpandedItem() {\n        var _a;\n        if (this.accordionItems.length === 0) {\n            return null;\n        }\n        return ((_a = this.accordionItems.find((item) => item instanceof FASTAccordionItem && item.expanded)) !== null && _a !== void 0 ? _a : this.accordionItems[0]);\n    }\n    setSingleExpandMode(expandedItem) {\n        if (this.accordionItems.length === 0) {\n            return;\n        }\n        const currentItems = Array.from(this.accordionItems);\n        this.activeItemIndex = currentItems.indexOf(expandedItem);\n        currentItems.forEach((item, index) => {\n            if (this.activeItemIndex === index) {\n                item.expanded = true;\n                item.expandbutton.setAttribute(\"aria-disabled\", \"true\");\n            }\n            else {\n                item.expanded = false;\n                if (!item.hasAttribute(\"disabled\")) {\n                    item.expandbutton.removeAttribute(\"aria-disabled\");\n                }\n            }\n        });\n    }\n    getItemIds() {\n        return this.slottedAccordionItems.map((accordionItem) => {\n            return accordionItem.id;\n        });\n    }\n    isSingleExpandMode() {\n        return this.expandmode === AccordionExpandMode.single;\n    }\n    adjust(adjustment) {\n        this.activeItemIndex = wrapInBounds(0, this.accordionItems.length - 1, this.activeItemIndex + adjustment);\n        this.focusItem();\n    }\n    focusItem() {\n        const element = this.accordionItems[this.activeItemIndex];\n        if (element instanceof FASTAccordionItem) {\n            element.expandbutton.focus();\n        }\n    }\n}\n__decorate([\n    attr({ attribute: \"expand-mode\" })\n], FASTAccordion.prototype, \"expandmode\", void 0);\n__decorate([\n    observable\n], FASTAccordion.prototype, \"slottedAccordionItems\", void 0);\n", "import { elements, html, slotted } from \"@microsoft/fast-element\";\n/**\n * Creates a template for the {@link @microsoft/fast-foundation#FASTAccordion} component.\n * @public\n */\nexport function accordionTemplate() {\n    return html `\n        <template>\n            <slot\n                ${slotted({ property: \"slottedAccordionItems\", filter: elements() })}\n            ></slot>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, observable } from \"@microsoft/fast-element\";\nimport { ARIAGlobalStatesAndProperties, StartEnd } from \"../patterns/index.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\n/**\n * An Anchor Custom HTML Element.\n * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a | <a> element }.\n *\n * @slot start - Content which can be provided before the anchor content\n * @slot end - Content which can be provided after the anchor content\n * @slot - The default slot for anchor content\n * @csspart control - The anchor element\n * @csspart content - The element wrapping anchor content\n *\n * @public\n */\nexport class FASTAnchor extends FASTElement {\n}\n__decorate([\n    attr\n], FASTAnchor.prototype, \"download\", void 0);\n__decorate([\n    attr\n], FASTAnchor.prototype, \"href\", void 0);\n__decorate([\n    attr\n], FASTAnchor.prototype, \"hreflang\", void 0);\n__decorate([\n    attr\n], FASTAnchor.prototype, \"ping\", void 0);\n__decorate([\n    attr\n], FASTAnchor.prototype, \"referrerpolicy\", void 0);\n__decorate([\n    attr\n], FASTAnchor.prototype, \"rel\", void 0);\n__decorate([\n    attr\n], FASTAnchor.prototype, \"target\", void 0);\n__decorate([\n    attr\n], FASTAnchor.prototype, \"type\", void 0);\n__decorate([\n    observable\n], FASTAnchor.prototype, \"defaultSlottedContent\", void 0);\n/**\n * Includes ARIA states and properties relating to the ARIA link role\n *\n * @public\n */\nexport class DelegatesARIALink {\n}\n__decorate([\n    attr({ attribute: \"aria-expanded\" })\n], DelegatesARIALink.prototype, \"ariaExpanded\", void 0);\napplyMixins(DelegatesARIALink, ARIAGlobalStatesAndProperties);\napplyMixins(FASTAnchor, StartEnd, DelegatesARIALink);\n", "import { html, ref, slotted } from \"@microsoft/fast-element\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTAnchor:class)} component.\n * @public\n */\nexport function anchorTemplate(options = {}) {\n    return html `\n        <a\n            class=\"control\"\n            part=\"control\"\n            download=\"${x => x.download}\"\n            href=\"${x => x.href}\"\n            hreflang=\"${x => x.hreflang}\"\n            ping=\"${x => x.ping}\"\n            referrerpolicy=\"${x => x.referrerpolicy}\"\n            rel=\"${x => x.rel}\"\n            target=\"${x => x.target}\"\n            type=\"${x => x.type}\"\n            aria-atomic=\"${x => x.ariaAtomic}\"\n            aria-busy=\"${x => x.ariaBusy}\"\n            aria-controls=\"${x => x.ariaControls}\"\n            aria-current=\"${x => x.ariaCurrent}\"\n            aria-describedby=\"${x => x.ariaDescribedby}\"\n            aria-details=\"${x => x.ariaDetails}\"\n            aria-disabled=\"${x => x.ariaDisabled}\"\n            aria-errormessage=\"${x => x.ariaErrormessage}\"\n            aria-expanded=\"${x => x.ariaExpanded}\"\n            aria-flowto=\"${x => x.ariaFlowto}\"\n            aria-haspopup=\"${x => x.ariaHaspopup}\"\n            aria-hidden=\"${x => x.ariaHidden}\"\n            aria-invalid=\"${x => x.ariaInvalid}\"\n            aria-keyshortcuts=\"${x => x.ariaKeyshortcuts}\"\n            aria-label=\"${x => x.ariaLabel}\"\n            aria-labelledby=\"${x => x.ariaLabelledby}\"\n            aria-live=\"${x => x.ariaLive}\"\n            aria-owns=\"${x => x.ariaOwns}\"\n            aria-relevant=\"${x => x.ariaRelevant}\"\n            aria-roledescription=\"${x => x.ariaRoledescription}\"\n            ${ref(\"control\")}\n        >\n            ${startSlotTemplate(options)}\n            <span class=\"content\" part=\"content\">\n                <slot ${slotted(\"defaultSlottedContent\")}></slot>\n            </span>\n            ${endSlotTemplate(options)}\n        </a>\n    `;\n}\n", "/**\n * Building blocks - partial configs\n */\n/**\n * A region that matches the size and position of the anchor horizontally\n */\nconst horizontalAnchorOverlay = {\n    horizontalDefaultPosition: \"center\",\n    horizontalPositioningMode: \"locktodefault\",\n    horizontalInset: false,\n    horizontalScaling: \"anchor\",\n};\n/**\n * Exported configs\n */\n/**\n * A region that always places itself above the anchor, has\n * a width to match the anchor, and is sized vertically by content\n *\n * @public\n */\nexport const FlyoutPosTop = Object.assign(Object.assign({}, horizontalAnchorOverlay), { verticalDefaultPosition: \"top\", verticalPositioningMode: \"locktodefault\", verticalInset: false, verticalScaling: \"content\" });\n/**\n * A region that always places itself below the anchor, has\n * a width to match the anchor, and is sized vertically by content\n *\n * @public\n */\nexport const FlyoutPosBottom = Object.assign(Object.assign({}, horizontalAnchorOverlay), { verticalDefaultPosition: \"bottom\", verticalPositioningMode: \"locktodefault\", verticalInset: false, verticalScaling: \"content\" });\n/**\n * A region that places itself above or below the anchor\n * based on available space, has a width to match the anchor,\n * and is sized vertically by content\n *\n * @public\n */\nexport const FlyoutPosTallest = Object.assign(Object.assign({}, horizontalAnchorOverlay), { verticalPositioningMode: \"dynamic\", verticalInset: false, verticalScaling: \"content\" });\n/**\n * A region that always places itself above the anchor, has\n * a width to match the anchor, and is sized vertically by available space\n *\n * @public\n */\nexport const FlyoutPosTopFill = Object.assign(Object.assign({}, FlyoutPosTop), { verticalScaling: \"fill\" });\n/**\n * A region that always places itself below the anchor, has\n * a width to match the anchor, and is sized vertically by available space\n *\n * @public\n */\nexport const FlyoutPosBottomFill = Object.assign(Object.assign({}, FlyoutPosBottom), { verticalScaling: \"fill\" });\n/**\n * A region that places itself above or below the anchor\n * based on available space, has a width to match the anchor,\n * and is sized vertically by available space\n *\n * @public\n */\nexport const FlyoutPosTallestFill = Object.assign(Object.assign({}, FlyoutPosTallest), { verticalScaling: \"fill\" });\n", "import { Direction } from \"@microsoft/fast-web-utilities\";\n/**\n * Determines the current localization direction of an element.\n *\n * @param rootNode - the HTMLElement to begin the query from, usually \"this\" when used in a component controller\n * @returns the localization direction of the element\n *\n * @public\n */\nexport const getDirection = (rootNode) => {\n    var _a;\n    return ((_a = rootNode.closest(\"[dir]\")) === null || _a === void 0 ? void 0 : _a.dir) === \"rtl\"\n        ? Direction.rtl\n        : Direction.ltr;\n};\n", "/**\n *  A service to batch intersection event callbacks so multiple elements can share a single observer\n *\n * @public\n */\nexport class IntersectionService {\n    constructor() {\n        this.intersectionDetector = null;\n        this.observedElements = new Map();\n        /**\n         * Request the position of a target element\n         *\n         * @internal\n         */\n        this.requestPosition = (target, callback) => {\n            var _a;\n            if (this.intersectionDetector === null) {\n                return;\n            }\n            if (this.observedElements.has(target)) {\n                (_a = this.observedElements.get(target)) === null || _a === void 0 ? void 0 : _a.push(callback);\n                return;\n            }\n            this.observedElements.set(target, [callback]);\n            this.intersectionDetector.observe(target);\n        };\n        /**\n         * Cancel a position request\n         *\n         * @internal\n         */\n        this.cancelRequestPosition = (target, callback) => {\n            const callbacks = this.observedElements.get(target);\n            if (callbacks !== undefined) {\n                const callBackIndex = callbacks.indexOf(callback);\n                if (callBackIndex !== -1) {\n                    callbacks.splice(callBackIndex, 1);\n                }\n            }\n        };\n        /**\n         * initialize intersection detector\n         */\n        this.initializeIntersectionDetector = () => {\n            if (!globalThis.IntersectionObserver) {\n                //intersection observer not supported\n                return;\n            }\n            this.intersectionDetector = new IntersectionObserver(this.handleIntersection, {\n                root: null,\n                rootMargin: \"0px\",\n                threshold: [0, 1],\n            });\n        };\n        /**\n         *  Handle intersections\n         */\n        this.handleIntersection = (entries) => {\n            if (this.intersectionDetector === null) {\n                return;\n            }\n            const pendingCallbacks = [];\n            const pendingCallbackParams = [];\n            // go through the entries to build a list of callbacks and params for each\n            entries.forEach((entry) => {\n                var _a;\n                // stop watching this element until we get new update requests for it\n                (_a = this.intersectionDetector) === null || _a === void 0 ? void 0 : _a.unobserve(entry.target);\n                const thisElementCallbacks = this.observedElements.get(entry.target);\n                if (thisElementCallbacks !== undefined) {\n                    thisElementCallbacks.forEach((callback) => {\n                        let targetCallbackIndex = pendingCallbacks.indexOf(callback);\n                        if (targetCallbackIndex === -1) {\n                            targetCallbackIndex = pendingCallbacks.length;\n                            pendingCallbacks.push(callback);\n                            pendingCallbackParams.push([]);\n                        }\n                        pendingCallbackParams[targetCallbackIndex].push(entry);\n                    });\n                    this.observedElements.delete(entry.target);\n                }\n            });\n            // execute callbacks\n            pendingCallbacks.forEach((callback, index) => {\n                callback(pendingCallbackParams[index]);\n            });\n        };\n        this.initializeIntersectionDetector();\n    }\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, observable, Updates } from \"@microsoft/fast-element\";\nimport { Direction, eventResize, eventScroll } from \"@microsoft/fast-web-utilities\";\nimport { getDirection } from \"../utilities/direction.js\";\nimport { IntersectionService } from \"../utilities/intersection-service.js\";\n/**\n * An anchored region Custom HTML Element.\n *\n * @slot - The default slot for the content\n * @fires loaded - Fires a custom 'loaded' event when the region is loaded and visible\n * @fires positionchange - Fires a custom 'positionchange' event when the position has changed\n *\n * @public\n */\nexport class FASTAnchoredRegion extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The HTML ID of the anchor element this region is positioned relative to\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: anchor\n         */\n        this.anchor = \"\";\n        /**\n         * The HTML ID of the viewport element this region is positioned relative to\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: anchor\n         */\n        this.viewport = \"\";\n        /**\n         * Sets what logic the component uses to determine horizontal placement.\n         * 'locktodefault' forces the default position\n         * 'dynamic' decides placement based on available space\n         * 'uncontrolled' does not control placement on the horizontal axis\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: horizontal-positioning-mode\n         */\n        this.horizontalPositioningMode = \"uncontrolled\";\n        /**\n         * The default horizontal position of the region relative to the anchor element\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: horizontal-default-position\n         */\n        this.horizontalDefaultPosition = \"unset\";\n        /**\n         * Whether the region remains in the viewport (ie. detaches from the anchor) on the horizontal axis\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: horizontal-viewport-lock\n         */\n        this.horizontalViewportLock = false;\n        /**\n         * Whether the region overlaps the anchor on the horizontal axis\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: horizontal-inset\n         */\n        this.horizontalInset = false;\n        /**\n         * Defines how the width of the region is calculated\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: horizontal-scaling\n         */\n        this.horizontalScaling = \"content\";\n        /**\n         * Sets what logic the component uses to determine vertical placement.\n         * 'locktodefault' forces the default position\n         * 'dynamic' decides placement based on available space\n         * 'uncontrolled' does not control placement on the vertical axis\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: vertical-positioning-mode\n         */\n        this.verticalPositioningMode = \"uncontrolled\";\n        /**\n         * The default vertical position of the region relative to the anchor element\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: vertical-default-position\n         */\n        this.verticalDefaultPosition = \"unset\";\n        /**\n         * Whether the region remains in the viewport (ie. detaches from the anchor) on the vertical axis\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: vertical-viewport-lock\n         */\n        this.verticalViewportLock = false;\n        /**\n         * Whether the region overlaps the anchor on the vertical axis\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: vertical-inset\n         */\n        this.verticalInset = false;\n        /**\n         * Defines how the height of the region is calculated\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: vertical-scaling\n         */\n        this.verticalScaling = \"content\";\n        /**\n         * Whether the region is positioned using css \"position: fixed\".\n         * Otherwise the region uses \"position: absolute\".\n         * Fixed placement allows the region to break out of parent containers,\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: fixed-placement\n         */\n        this.fixedPlacement = false;\n        /**\n         * Defines what triggers the anchored region to revaluate positioning\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: auto-update-mode\n         */\n        this.autoUpdateMode = \"anchor\";\n        /**\n         * The HTML element being used as the anchor\n         *\n         * @public\n         */\n        this.anchorElement = null;\n        /**\n         * The HTML element being used as the viewport\n         *\n         * @public\n         */\n        this.viewportElement = null;\n        /**\n         * indicates that an initial positioning pass on layout has completed\n         *\n         * @internal\n         */\n        this.initialLayoutComplete = false;\n        this.resizeDetector = null;\n        /**\n         * base offsets between the positioner's base position and the anchor's\n         */\n        this.baseHorizontalOffset = 0;\n        this.baseVerticalOffset = 0;\n        this.pendingPositioningUpdate = false;\n        this.pendingReset = false;\n        this.currentDirection = Direction.ltr;\n        this.regionVisible = false;\n        // indicates that a layout update should occur even if geometry has not changed\n        // used to ensure some attribute changes are applied\n        this.forceUpdate = false;\n        // defines how big a difference in pixels there must be between states to\n        // justify a layout update that affects the dom (prevents repeated sub-pixel corrections)\n        this.updateThreshold = 0.5;\n        /**\n         * update position\n         */\n        this.update = () => {\n            if (!this.pendingPositioningUpdate) {\n                this.requestPositionUpdates();\n            }\n        };\n        /**\n         * starts observers\n         */\n        this.startObservers = () => {\n            this.stopObservers();\n            if (this.anchorElement === null) {\n                return;\n            }\n            this.requestPositionUpdates();\n            if (this.resizeDetector !== null) {\n                this.resizeDetector.observe(this.anchorElement);\n                this.resizeDetector.observe(this);\n            }\n        };\n        /**\n         * get position updates\n         */\n        this.requestPositionUpdates = () => {\n            if (this.anchorElement === null || this.pendingPositioningUpdate) {\n                return;\n            }\n            FASTAnchoredRegion.intersectionService.requestPosition(this, this.handleIntersection);\n            FASTAnchoredRegion.intersectionService.requestPosition(this.anchorElement, this.handleIntersection);\n            if (this.viewportElement !== null) {\n                FASTAnchoredRegion.intersectionService.requestPosition(this.viewportElement, this.handleIntersection);\n            }\n            this.pendingPositioningUpdate = true;\n        };\n        /**\n         * stops observers\n         */\n        this.stopObservers = () => {\n            if (this.pendingPositioningUpdate) {\n                this.pendingPositioningUpdate = false;\n                FASTAnchoredRegion.intersectionService.cancelRequestPosition(this, this.handleIntersection);\n                if (this.anchorElement !== null) {\n                    FASTAnchoredRegion.intersectionService.cancelRequestPosition(this.anchorElement, this.handleIntersection);\n                }\n                if (this.viewportElement !== null) {\n                    FASTAnchoredRegion.intersectionService.cancelRequestPosition(this.viewportElement, this.handleIntersection);\n                }\n            }\n            if (this.resizeDetector !== null) {\n                this.resizeDetector.disconnect();\n            }\n        };\n        /**\n         * Gets the viewport element by id, or defaults to document root\n         */\n        this.getViewport = () => {\n            if (typeof this.viewport !== \"string\" || this.viewport === \"\") {\n                return document.documentElement;\n            }\n            const rootNode = this.getRootNode();\n            if (rootNode instanceof ShadowRoot) {\n                return rootNode.getElementById(this.viewport);\n            }\n            return document.getElementById(this.viewport);\n        };\n        /**\n         *  Gets the anchor element by id\n         */\n        this.getAnchor = () => {\n            const rootNode = this.getRootNode();\n            if (rootNode instanceof ShadowRoot) {\n                return rootNode.getElementById(this.anchor);\n            }\n            return document.getElementById(this.anchor);\n        };\n        /**\n         *  Handle intersections\n         */\n        this.handleIntersection = (entries) => {\n            if (!this.pendingPositioningUpdate) {\n                return;\n            }\n            this.pendingPositioningUpdate = false;\n            if (!this.applyIntersectionEntries(entries)) {\n                return;\n            }\n            this.updateLayout();\n        };\n        /**\n         *  iterate through intersection entries and apply data\n         */\n        this.applyIntersectionEntries = (entries) => {\n            const regionEntry = entries.find(x => x.target === this);\n            const anchorEntry = entries.find(x => x.target === this.anchorElement);\n            const viewportEntry = entries.find(x => x.target === this.viewportElement);\n            if (regionEntry === undefined ||\n                viewportEntry === undefined ||\n                anchorEntry === undefined) {\n                return false;\n            }\n            // don't update the dom unless there is a significant difference in rect positions\n            if (!this.regionVisible ||\n                this.forceUpdate ||\n                this.regionRect === undefined ||\n                this.anchorRect === undefined ||\n                this.viewportRect === undefined ||\n                this.isRectDifferent(this.anchorRect, anchorEntry.boundingClientRect) ||\n                this.isRectDifferent(this.viewportRect, viewportEntry.boundingClientRect) ||\n                this.isRectDifferent(this.regionRect, regionEntry.boundingClientRect)) {\n                this.regionRect = regionEntry.boundingClientRect;\n                this.anchorRect = anchorEntry.boundingClientRect;\n                if (this.viewportElement === document.documentElement) {\n                    this.viewportRect = new DOMRectReadOnly(viewportEntry.boundingClientRect.x +\n                        document.documentElement.scrollLeft, viewportEntry.boundingClientRect.y +\n                        document.documentElement.scrollTop, viewportEntry.boundingClientRect.width, viewportEntry.boundingClientRect.height);\n                }\n                else {\n                    this.viewportRect = viewportEntry.boundingClientRect;\n                }\n                this.updateRegionOffset();\n                this.forceUpdate = false;\n                return true;\n            }\n            return false;\n        };\n        /**\n         *  Update the offset values\n         */\n        this.updateRegionOffset = () => {\n            if (this.anchorRect && this.regionRect) {\n                this.baseHorizontalOffset =\n                    this.baseHorizontalOffset +\n                        (this.anchorRect.left - this.regionRect.left) +\n                        (this.translateX - this.baseHorizontalOffset);\n                this.baseVerticalOffset =\n                    this.baseVerticalOffset +\n                        (this.anchorRect.top - this.regionRect.top) +\n                        (this.translateY - this.baseVerticalOffset);\n            }\n        };\n        /**\n         *  compare rects to see if there is enough change to justify a DOM update\n         */\n        this.isRectDifferent = (rectA, rectB) => {\n            if (Math.abs(rectA.top - rectB.top) > this.updateThreshold ||\n                Math.abs(rectA.right - rectB.right) > this.updateThreshold ||\n                Math.abs(rectA.bottom - rectB.bottom) > this.updateThreshold ||\n                Math.abs(rectA.left - rectB.left) > this.updateThreshold) {\n                return true;\n            }\n            return false;\n        };\n        /**\n         *  Handle resize events\n         */\n        this.handleResize = (entries) => {\n            this.update();\n        };\n        /**\n         * resets the component\n         */\n        this.reset = () => {\n            if (!this.pendingReset) {\n                return;\n            }\n            this.pendingReset = false;\n            if (this.anchorElement === null) {\n                this.anchorElement = this.getAnchor();\n            }\n            if (this.viewportElement === null) {\n                this.viewportElement = this.getViewport();\n            }\n            this.currentDirection = getDirection(this);\n            this.startObservers();\n        };\n        /**\n         *  Recalculate layout related state values\n         */\n        this.updateLayout = () => {\n            let desiredVerticalPosition = undefined;\n            let desiredHorizontalPosition = undefined;\n            if (this.horizontalPositioningMode !== \"uncontrolled\") {\n                const horizontalOptions = this.getPositioningOptions(this.horizontalInset);\n                if (this.horizontalDefaultPosition === \"center\") {\n                    desiredHorizontalPosition = \"center\";\n                }\n                else if (this.horizontalDefaultPosition !== \"unset\") {\n                    let dirCorrectedHorizontalDefaultPosition = this.horizontalDefaultPosition;\n                    if (dirCorrectedHorizontalDefaultPosition === \"start\" ||\n                        dirCorrectedHorizontalDefaultPosition === \"end\") {\n                        // if direction changes we reset the layout\n                        const newDirection = getDirection(this);\n                        if (newDirection !== this.currentDirection) {\n                            this.currentDirection = newDirection;\n                            this.initialize();\n                            return;\n                        }\n                        if (this.currentDirection === Direction.ltr) {\n                            dirCorrectedHorizontalDefaultPosition =\n                                dirCorrectedHorizontalDefaultPosition === \"start\"\n                                    ? \"left\"\n                                    : \"right\";\n                        }\n                        else {\n                            dirCorrectedHorizontalDefaultPosition =\n                                dirCorrectedHorizontalDefaultPosition === \"start\"\n                                    ? \"right\"\n                                    : \"left\";\n                        }\n                    }\n                    switch (dirCorrectedHorizontalDefaultPosition) {\n                        case \"left\":\n                            desiredHorizontalPosition = this.horizontalInset\n                                ? \"insetStart\"\n                                : \"start\";\n                            break;\n                        case \"right\":\n                            desiredHorizontalPosition = this.horizontalInset\n                                ? \"insetEnd\"\n                                : \"end\";\n                            break;\n                    }\n                }\n                const horizontalThreshold = this.horizontalThreshold !== undefined\n                    ? this.horizontalThreshold\n                    : this.regionRect !== undefined\n                        ? this.regionRect.width\n                        : 0;\n                const anchorLeft = this.anchorRect !== undefined ? this.anchorRect.left : 0;\n                const anchorRight = this.anchorRect !== undefined ? this.anchorRect.right : 0;\n                const anchorWidth = this.anchorRect !== undefined ? this.anchorRect.width : 0;\n                const viewportLeft = this.viewportRect !== undefined ? this.viewportRect.left : 0;\n                const viewportRight = this.viewportRect !== undefined ? this.viewportRect.right : 0;\n                if (desiredHorizontalPosition === undefined ||\n                    (!(this.horizontalPositioningMode === \"locktodefault\") &&\n                        this.getAvailableSpace(desiredHorizontalPosition, anchorLeft, anchorRight, anchorWidth, viewportLeft, viewportRight) < horizontalThreshold)) {\n                    desiredHorizontalPosition =\n                        this.getAvailableSpace(horizontalOptions[0], anchorLeft, anchorRight, anchorWidth, viewportLeft, viewportRight) >\n                            this.getAvailableSpace(horizontalOptions[1], anchorLeft, anchorRight, anchorWidth, viewportLeft, viewportRight)\n                            ? horizontalOptions[0]\n                            : horizontalOptions[1];\n                }\n            }\n            if (this.verticalPositioningMode !== \"uncontrolled\") {\n                const verticalOptions = this.getPositioningOptions(this.verticalInset);\n                if (this.verticalDefaultPosition === \"center\") {\n                    desiredVerticalPosition = \"center\";\n                }\n                else if (this.verticalDefaultPosition !== \"unset\") {\n                    switch (this.verticalDefaultPosition) {\n                        case \"top\":\n                            desiredVerticalPosition = this.verticalInset\n                                ? \"insetStart\"\n                                : \"start\";\n                            break;\n                        case \"bottom\":\n                            desiredVerticalPosition = this.verticalInset ? \"insetEnd\" : \"end\";\n                            break;\n                    }\n                }\n                const verticalThreshold = this.verticalThreshold !== undefined\n                    ? this.verticalThreshold\n                    : this.regionRect !== undefined\n                        ? this.regionRect.height\n                        : 0;\n                const anchorTop = this.anchorRect !== undefined ? this.anchorRect.top : 0;\n                const anchorBottom = this.anchorRect !== undefined ? this.anchorRect.bottom : 0;\n                const anchorHeight = this.anchorRect !== undefined ? this.anchorRect.height : 0;\n                const viewportTop = this.viewportRect !== undefined ? this.viewportRect.top : 0;\n                const viewportBottom = this.viewportRect !== undefined ? this.viewportRect.bottom : 0;\n                if (desiredVerticalPosition === undefined ||\n                    (!(this.verticalPositioningMode === \"locktodefault\") &&\n                        this.getAvailableSpace(desiredVerticalPosition, anchorTop, anchorBottom, anchorHeight, viewportTop, viewportBottom) < verticalThreshold)) {\n                    desiredVerticalPosition =\n                        this.getAvailableSpace(verticalOptions[0], anchorTop, anchorBottom, anchorHeight, viewportTop, viewportBottom) >\n                            this.getAvailableSpace(verticalOptions[1], anchorTop, anchorBottom, anchorHeight, viewportTop, viewportBottom)\n                            ? verticalOptions[0]\n                            : verticalOptions[1];\n                }\n            }\n            const nextPositionerDimension = this.getNextRegionDimension(desiredHorizontalPosition, desiredVerticalPosition);\n            const positionChanged = this.horizontalPosition !== desiredHorizontalPosition ||\n                this.verticalPosition !== desiredVerticalPosition;\n            this.setHorizontalPosition(desiredHorizontalPosition, nextPositionerDimension);\n            this.setVerticalPosition(desiredVerticalPosition, nextPositionerDimension);\n            this.updateRegionStyle();\n            if (!this.initialLayoutComplete) {\n                this.initialLayoutComplete = true;\n                this.requestPositionUpdates();\n                return;\n            }\n            if (!this.regionVisible) {\n                this.regionVisible = true;\n                this.style.removeProperty(\"pointer-events\");\n                this.style.removeProperty(\"opacity\");\n                this.classList.toggle(\"loaded\", true);\n                this.$emit(\"loaded\", this, { bubbles: false });\n            }\n            this.updatePositionClasses();\n            if (positionChanged) {\n                // emit change event\n                this.$emit(\"positionchange\", this, { bubbles: false });\n            }\n        };\n        /**\n         *  Updates the style string applied to the region element as well as the css classes attached\n         *  to the root element\n         */\n        this.updateRegionStyle = () => {\n            this.style.width = this.regionWidth;\n            this.style.height = this.regionHeight;\n            this.style.transform = `translate(${this.translateX}px, ${this.translateY}px)`;\n        };\n        /**\n         *  Updates the css classes that reflect the current position of the element\n         */\n        this.updatePositionClasses = () => {\n            this.classList.toggle(\"top\", this.verticalPosition === \"start\");\n            this.classList.toggle(\"bottom\", this.verticalPosition === \"end\");\n            this.classList.toggle(\"inset-top\", this.verticalPosition === \"insetStart\");\n            this.classList.toggle(\"inset-bottom\", this.verticalPosition === \"insetEnd\");\n            this.classList.toggle(\"vertical-center\", this.verticalPosition === \"center\");\n            this.classList.toggle(\"left\", this.horizontalPosition === \"start\");\n            this.classList.toggle(\"right\", this.horizontalPosition === \"end\");\n            this.classList.toggle(\"inset-left\", this.horizontalPosition === \"insetStart\");\n            this.classList.toggle(\"inset-right\", this.horizontalPosition === \"insetEnd\");\n            this.classList.toggle(\"horizontal-center\", this.horizontalPosition === \"center\");\n        };\n        /**\n         * Get horizontal positioning state based on desired position\n         */\n        this.setHorizontalPosition = (desiredHorizontalPosition, nextPositionerDimension) => {\n            if (desiredHorizontalPosition === undefined ||\n                this.regionRect === undefined ||\n                this.anchorRect === undefined ||\n                this.viewportRect === undefined) {\n                return;\n            }\n            let nextRegionWidth = 0;\n            switch (this.horizontalScaling) {\n                case \"anchor\":\n                case \"fill\":\n                    nextRegionWidth = this.horizontalViewportLock\n                        ? this.viewportRect.width\n                        : nextPositionerDimension.width;\n                    this.regionWidth = `${nextRegionWidth}px`;\n                    break;\n                case \"content\":\n                    nextRegionWidth = this.regionRect.width;\n                    this.regionWidth = \"unset\";\n                    break;\n            }\n            let sizeDelta = 0;\n            switch (desiredHorizontalPosition) {\n                case \"start\":\n                    this.translateX = this.baseHorizontalOffset - nextRegionWidth;\n                    if (this.horizontalViewportLock &&\n                        this.anchorRect.left > this.viewportRect.right) {\n                        this.translateX =\n                            this.translateX -\n                                (this.anchorRect.left - this.viewportRect.right);\n                    }\n                    break;\n                case \"insetStart\":\n                    this.translateX =\n                        this.baseHorizontalOffset - nextRegionWidth + this.anchorRect.width;\n                    if (this.horizontalViewportLock &&\n                        this.anchorRect.right > this.viewportRect.right) {\n                        this.translateX =\n                            this.translateX -\n                                (this.anchorRect.right - this.viewportRect.right);\n                    }\n                    break;\n                case \"insetEnd\":\n                    this.translateX = this.baseHorizontalOffset;\n                    if (this.horizontalViewportLock &&\n                        this.anchorRect.left < this.viewportRect.left) {\n                        this.translateX =\n                            this.translateX - (this.anchorRect.left - this.viewportRect.left);\n                    }\n                    break;\n                case \"end\":\n                    this.translateX = this.baseHorizontalOffset + this.anchorRect.width;\n                    if (this.horizontalViewportLock &&\n                        this.anchorRect.right < this.viewportRect.left) {\n                        this.translateX =\n                            this.translateX -\n                                (this.anchorRect.right - this.viewportRect.left);\n                    }\n                    break;\n                case \"center\":\n                    sizeDelta = (this.anchorRect.width - nextRegionWidth) / 2;\n                    this.translateX = this.baseHorizontalOffset + sizeDelta;\n                    if (this.horizontalViewportLock) {\n                        const regionLeft = this.anchorRect.left + sizeDelta;\n                        const regionRight = this.anchorRect.right - sizeDelta;\n                        if (regionLeft < this.viewportRect.left &&\n                            !(regionRight > this.viewportRect.right)) {\n                            this.translateX =\n                                this.translateX - (regionLeft - this.viewportRect.left);\n                        }\n                        else if (regionRight > this.viewportRect.right &&\n                            !(regionLeft < this.viewportRect.left)) {\n                            this.translateX =\n                                this.translateX - (regionRight - this.viewportRect.right);\n                        }\n                    }\n                    break;\n            }\n            this.horizontalPosition = desiredHorizontalPosition;\n        };\n        /**\n         * Set vertical positioning state based on desired position\n         */\n        this.setVerticalPosition = (desiredVerticalPosition, nextPositionerDimension) => {\n            if (desiredVerticalPosition === undefined ||\n                this.regionRect === undefined ||\n                this.anchorRect === undefined ||\n                this.viewportRect === undefined) {\n                return;\n            }\n            let nextRegionHeight = 0;\n            switch (this.verticalScaling) {\n                case \"anchor\":\n                case \"fill\":\n                    nextRegionHeight = this.verticalViewportLock\n                        ? this.viewportRect.height\n                        : nextPositionerDimension.height;\n                    this.regionHeight = `${nextRegionHeight}px`;\n                    break;\n                case \"content\":\n                    nextRegionHeight = this.regionRect.height;\n                    this.regionHeight = \"unset\";\n                    break;\n            }\n            let sizeDelta = 0;\n            switch (desiredVerticalPosition) {\n                case \"start\":\n                    this.translateY = this.baseVerticalOffset - nextRegionHeight;\n                    if (this.verticalViewportLock &&\n                        this.anchorRect.top > this.viewportRect.bottom) {\n                        this.translateY =\n                            this.translateY -\n                                (this.anchorRect.top - this.viewportRect.bottom);\n                    }\n                    break;\n                case \"insetStart\":\n                    this.translateY =\n                        this.baseVerticalOffset - nextRegionHeight + this.anchorRect.height;\n                    if (this.verticalViewportLock &&\n                        this.anchorRect.bottom > this.viewportRect.bottom) {\n                        this.translateY =\n                            this.translateY -\n                                (this.anchorRect.bottom - this.viewportRect.bottom);\n                    }\n                    break;\n                case \"insetEnd\":\n                    this.translateY = this.baseVerticalOffset;\n                    if (this.verticalViewportLock &&\n                        this.anchorRect.top < this.viewportRect.top) {\n                        this.translateY =\n                            this.translateY - (this.anchorRect.top - this.viewportRect.top);\n                    }\n                    break;\n                case \"end\":\n                    this.translateY = this.baseVerticalOffset + this.anchorRect.height;\n                    if (this.verticalViewportLock &&\n                        this.anchorRect.bottom < this.viewportRect.top) {\n                        this.translateY =\n                            this.translateY -\n                                (this.anchorRect.bottom - this.viewportRect.top);\n                    }\n                    break;\n                case \"center\":\n                    sizeDelta = (this.anchorRect.height - nextRegionHeight) / 2;\n                    this.translateY = this.baseVerticalOffset + sizeDelta;\n                    if (this.verticalViewportLock) {\n                        const regionTop = this.anchorRect.top + sizeDelta;\n                        const regionBottom = this.anchorRect.bottom - sizeDelta;\n                        if (regionTop < this.viewportRect.top &&\n                            !(regionBottom > this.viewportRect.bottom)) {\n                            this.translateY =\n                                this.translateY - (regionTop - this.viewportRect.top);\n                        }\n                        else if (regionBottom > this.viewportRect.bottom &&\n                            !(regionTop < this.viewportRect.top)) {\n                            this.translateY =\n                                this.translateY - (regionBottom - this.viewportRect.bottom);\n                        }\n                    }\n            }\n            this.verticalPosition = desiredVerticalPosition;\n        };\n        /**\n         *  Get available positions based on positioning mode\n         */\n        this.getPositioningOptions = (inset) => {\n            if (inset) {\n                return [\"insetStart\", \"insetEnd\"];\n            }\n            return [\"start\", \"end\"];\n        };\n        /**\n         *  Get the space available for a particular relative position\n         */\n        this.getAvailableSpace = (positionOption, anchorStart, anchorEnd, anchorSpan, viewportStart, viewportEnd) => {\n            const spaceStart = anchorStart - viewportStart;\n            const spaceEnd = viewportEnd - (anchorStart + anchorSpan);\n            switch (positionOption) {\n                case \"start\":\n                    return spaceStart;\n                case \"insetStart\":\n                    return spaceStart + anchorSpan;\n                case \"insetEnd\":\n                    return spaceEnd + anchorSpan;\n                case \"end\":\n                    return spaceEnd;\n                case \"center\":\n                    return Math.min(spaceStart, spaceEnd) * 2 + anchorSpan;\n            }\n        };\n        /**\n         * Get region dimensions\n         */\n        this.getNextRegionDimension = (desiredHorizontalPosition, desiredVerticalPosition) => {\n            const newRegionDimension = {\n                height: this.regionRect !== undefined ? this.regionRect.height : 0,\n                width: this.regionRect !== undefined ? this.regionRect.width : 0,\n            };\n            if (desiredHorizontalPosition !== undefined &&\n                this.horizontalScaling === \"fill\") {\n                newRegionDimension.width = this.getAvailableSpace(desiredHorizontalPosition, this.anchorRect !== undefined ? this.anchorRect.left : 0, this.anchorRect !== undefined ? this.anchorRect.right : 0, this.anchorRect !== undefined ? this.anchorRect.width : 0, this.viewportRect !== undefined ? this.viewportRect.left : 0, this.viewportRect !== undefined ? this.viewportRect.right : 0);\n            }\n            else if (this.horizontalScaling === \"anchor\") {\n                newRegionDimension.width =\n                    this.anchorRect !== undefined ? this.anchorRect.width : 0;\n            }\n            if (desiredVerticalPosition !== undefined && this.verticalScaling === \"fill\") {\n                newRegionDimension.height = this.getAvailableSpace(desiredVerticalPosition, this.anchorRect !== undefined ? this.anchorRect.top : 0, this.anchorRect !== undefined ? this.anchorRect.bottom : 0, this.anchorRect !== undefined ? this.anchorRect.height : 0, this.viewportRect !== undefined ? this.viewportRect.top : 0, this.viewportRect !== undefined ? this.viewportRect.bottom : 0);\n            }\n            else if (this.verticalScaling === \"anchor\") {\n                newRegionDimension.height =\n                    this.anchorRect !== undefined ? this.anchorRect.height : 0;\n            }\n            return newRegionDimension;\n        };\n        /**\n         * starts event listeners that can trigger auto updating\n         */\n        this.startAutoUpdateEventListeners = () => {\n            window.addEventListener(eventResize, this.update, { passive: true });\n            window.addEventListener(eventScroll, this.update, {\n                passive: true,\n                capture: true,\n            });\n            if (this.resizeDetector !== null && this.viewportElement !== null) {\n                this.resizeDetector.observe(this.viewportElement);\n            }\n        };\n        /**\n         * stops event listeners that can trigger auto updating\n         */\n        this.stopAutoUpdateEventListeners = () => {\n            window.removeEventListener(eventResize, this.update);\n            window.removeEventListener(eventScroll, this.update);\n            if (this.resizeDetector !== null && this.viewportElement !== null) {\n                this.resizeDetector.unobserve(this.viewportElement);\n            }\n        };\n    }\n    anchorChanged() {\n        if (this.initialLayoutComplete) {\n            this.anchorElement = this.getAnchor();\n        }\n    }\n    viewportChanged() {\n        if (this.initialLayoutComplete) {\n            this.viewportElement = this.getViewport();\n        }\n    }\n    horizontalPositioningModeChanged() {\n        this.requestReset();\n    }\n    horizontalDefaultPositionChanged() {\n        this.updateForAttributeChange();\n    }\n    horizontalViewportLockChanged() {\n        this.updateForAttributeChange();\n    }\n    horizontalInsetChanged() {\n        this.updateForAttributeChange();\n    }\n    horizontalThresholdChanged() {\n        this.updateForAttributeChange();\n    }\n    horizontalScalingChanged() {\n        this.updateForAttributeChange();\n    }\n    verticalPositioningModeChanged() {\n        this.requestReset();\n    }\n    verticalDefaultPositionChanged() {\n        this.updateForAttributeChange();\n    }\n    verticalViewportLockChanged() {\n        this.updateForAttributeChange();\n    }\n    verticalInsetChanged() {\n        this.updateForAttributeChange();\n    }\n    verticalThresholdChanged() {\n        this.updateForAttributeChange();\n    }\n    verticalScalingChanged() {\n        this.updateForAttributeChange();\n    }\n    fixedPlacementChanged() {\n        if (this.$fastController.isConnected && this.initialLayoutComplete) {\n            this.initialize();\n        }\n    }\n    autoUpdateModeChanged(prevMode, newMode) {\n        if (this.$fastController.isConnected && this.initialLayoutComplete) {\n            if (prevMode === \"auto\") {\n                this.stopAutoUpdateEventListeners();\n            }\n            if (newMode === \"auto\") {\n                this.startAutoUpdateEventListeners();\n            }\n        }\n    }\n    anchorElementChanged() {\n        this.requestReset();\n    }\n    viewportElementChanged() {\n        if (this.$fastController.isConnected && this.initialLayoutComplete) {\n            this.initialize();\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        if (this.autoUpdateMode === \"auto\") {\n            this.startAutoUpdateEventListeners();\n        }\n        this.initialize();\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        if (this.autoUpdateMode === \"auto\") {\n            this.stopAutoUpdateEventListeners();\n        }\n        this.stopObservers();\n        this.disconnectResizeDetector();\n    }\n    /**\n     * @internal\n     */\n    adoptedCallback() {\n        this.initialize();\n    }\n    /**\n     * destroys the instance's resize observer\n     */\n    disconnectResizeDetector() {\n        if (this.resizeDetector !== null) {\n            this.resizeDetector.disconnect();\n            this.resizeDetector = null;\n        }\n    }\n    /**\n     * initializes the instance's resize observer\n     */\n    initializeResizeDetector() {\n        this.disconnectResizeDetector();\n        this.resizeDetector = new window.ResizeObserver(this.handleResize);\n    }\n    /**\n     * react to attribute changes that don't require a reset\n     */\n    updateForAttributeChange() {\n        if (this.$fastController.isConnected && this.initialLayoutComplete) {\n            this.forceUpdate = true;\n            this.update();\n        }\n    }\n    /**\n     * fully initializes the component\n     */\n    initialize() {\n        this.initializeResizeDetector();\n        if (this.anchorElement === null) {\n            this.anchorElement = this.getAnchor();\n        }\n        this.requestReset();\n    }\n    /**\n     * Request a reset if there are currently no open requests\n     */\n    requestReset() {\n        if (this.$fastController.isConnected && this.pendingReset === false) {\n            this.setInitialState();\n            Updates.enqueue(() => this.reset());\n            this.pendingReset = true;\n        }\n    }\n    /**\n     * sets the starting configuration for component internal values\n     */\n    setInitialState() {\n        this.initialLayoutComplete = false;\n        this.regionVisible = false;\n        this.translateX = 0;\n        this.translateY = 0;\n        this.baseHorizontalOffset = 0;\n        this.baseVerticalOffset = 0;\n        this.viewportRect = undefined;\n        this.regionRect = undefined;\n        this.anchorRect = undefined;\n        this.verticalPosition = undefined;\n        this.horizontalPosition = undefined;\n        this.style.opacity = \"0\";\n        this.style.pointerEvents = \"none\";\n        this.forceUpdate = false;\n        this.style.position = this.fixedPlacement ? \"fixed\" : \"absolute\";\n        this.updatePositionClasses();\n        this.updateRegionStyle();\n    }\n}\nFASTAnchoredRegion.intersectionService = new IntersectionService();\n__decorate([\n    attr\n], FASTAnchoredRegion.prototype, \"anchor\", void 0);\n__decorate([\n    attr\n], FASTAnchoredRegion.prototype, \"viewport\", void 0);\n__decorate([\n    attr({ attribute: \"horizontal-positioning-mode\" })\n], FASTAnchoredRegion.prototype, \"horizontalPositioningMode\", void 0);\n__decorate([\n    attr({ attribute: \"horizontal-default-position\" })\n], FASTAnchoredRegion.prototype, \"horizontalDefaultPosition\", void 0);\n__decorate([\n    attr({ attribute: \"horizontal-viewport-lock\", mode: \"boolean\" })\n], FASTAnchoredRegion.prototype, \"horizontalViewportLock\", void 0);\n__decorate([\n    attr({ attribute: \"horizontal-inset\", mode: \"boolean\" })\n], FASTAnchoredRegion.prototype, \"horizontalInset\", void 0);\n__decorate([\n    attr({ attribute: \"horizontal-threshold\" })\n], FASTAnchoredRegion.prototype, \"horizontalThreshold\", void 0);\n__decorate([\n    attr({ attribute: \"horizontal-scaling\" })\n], FASTAnchoredRegion.prototype, \"horizontalScaling\", void 0);\n__decorate([\n    attr({ attribute: \"vertical-positioning-mode\" })\n], FASTAnchoredRegion.prototype, \"verticalPositioningMode\", void 0);\n__decorate([\n    attr({ attribute: \"vertical-default-position\" })\n], FASTAnchoredRegion.prototype, \"verticalDefaultPosition\", void 0);\n__decorate([\n    attr({ attribute: \"vertical-viewport-lock\", mode: \"boolean\" })\n], FASTAnchoredRegion.prototype, \"verticalViewportLock\", void 0);\n__decorate([\n    attr({ attribute: \"vertical-inset\", mode: \"boolean\" })\n], FASTAnchoredRegion.prototype, \"verticalInset\", void 0);\n__decorate([\n    attr({ attribute: \"vertical-threshold\" })\n], FASTAnchoredRegion.prototype, \"verticalThreshold\", void 0);\n__decorate([\n    attr({ attribute: \"vertical-scaling\" })\n], FASTAnchoredRegion.prototype, \"verticalScaling\", void 0);\n__decorate([\n    attr({ attribute: \"fixed-placement\", mode: \"boolean\" })\n], FASTAnchoredRegion.prototype, \"fixedPlacement\", void 0);\n__decorate([\n    attr({ attribute: \"auto-update-mode\" })\n], FASTAnchoredRegion.prototype, \"autoUpdateMode\", void 0);\n__decorate([\n    observable\n], FASTAnchoredRegion.prototype, \"anchorElement\", void 0);\n__decorate([\n    observable\n], FASTAnchoredRegion.prototype, \"viewportElement\", void 0);\n__decorate([\n    observable\n], FASTAnchoredRegion.prototype, \"initialLayoutComplete\", void 0);\n", "import { html, when } from \"@microsoft/fast-element\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTAnchoredRegion:class)} component.\n * @public\n */\nexport function anchoredRegionTemplate() {\n    return html `\n        <template data-loaded=\"${x => (x.initialLayoutComplete ? \"loaded\" : \"\")}\">\n            ${when(x => x.initialLayoutComplete, html `\n                    <slot></slot>\n                `)}\n        </template>\n    `;\n}\n", "import { html } from \"@microsoft/fast-element\";\nimport { staticallyCompose } from \"../utilities/template-helpers.js\";\n/**\n * The template for {@link @microsoft/fast-foundation#FASTAvatar} component.\n * @public\n */\nexport function avatarTemplate(options = {}) {\n    return html `\n        <div class=\"backplate\" part=\"backplate\">\n            <slot name=\"media\">${staticallyCompose(options.media)}</slot>\n            <slot></slot>\n        </div>\n        <slot name=\"badge\"></slot>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\n/**\n * An Avatar Custom HTML Element\n *\n * @slot media - Used for media such as an image\n * @slot - The default slot for avatar text, commonly a name or initials\n * @slot badge - Used to provide a badge, such as a status badge\n * @csspart backplate - The wrapping container for the avatar\n * @csspart content - The default slot\n *\n * @public\n */\nexport class FASTAvatar extends FASTElement {\n}\n", "import { html } from \"@microsoft/fast-element\";\n/**\n * The template for the {@link @microsoft/fast-foundation#FASTBadge} component.\n * @public\n */\nexport function badgeTemplate() {\n    return html `\n        <div class=\"control\" part=\"control\">\n            <slot></slot>\n        </div>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\n/**\n * A Badge Custom HTML Element.\n * @slot - The default slot for the badge\n * @csspart control - The element representing the badge, which wraps the default slot\n *\n * @public\n */\nexport class FASTBadge extends FASTElement {\n}\n", "import { html, when } from \"@microsoft/fast-element\";\nimport { staticallyCompose } from \"../utilities/template-helpers.js\";\nimport { anchorTemplate } from \"../anchor/anchor.template.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTBreadcrumbItem:class)} component.\n * @public\n */\nexport function breadcrumbItemTemplate(options = {}) {\n    return html `\n        <div role=\"listitem\" class=\"listitem\" part=\"listitem\">\n            ${anchorTemplate(options).inline()}\n            ${when(x => x.separator, html `\n                    <span class=\"separator\" part=\"separator\" aria-hidden=\"true\">\n                        <slot name=\"separator\">\n                            ${staticallyCompose(options.separator)}\n                        </slot>\n                    </span>\n                `)}\n        </div>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { observable } from \"@microsoft/fast-element\";\nimport { DelegatesARIALink, FASTAnchor } from \"../anchor/anchor.js\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\n/**\n * A Breadcrumb Item Custom HTML Element.\n *\n * @slot start - Content which can be provided before the breadcrumb content\n * @slot end - Content which can be provided after the breadcrumb content\n * @slot - The default slot for when no href is provided or for providing your own custom elements\n * @slot separator - The slot for providing a custom separator\n * @csspart listitem - The wrapping container for the item, represents a semantic listitem\n * @csspart separator - The wrapping element for the separator\n *\n * @public\n */\nexport class FASTBreadcrumbItem extends FASTAnchor {\n    constructor() {\n        super(...arguments);\n        /**\n         * @internal\n         */\n        this.separator = true;\n    }\n}\n__decorate([\n    observable\n], FASTBreadcrumbItem.prototype, \"separator\", void 0);\napplyMixins(FASTBreadcrumbItem, StartEnd, DelegatesARIALink);\n", "import { elements, html, slotted } from \"@microsoft/fast-element\";\n/**\n * The template for the {@link @microsoft/fast-foundation#FASTBreadcrumb} component.\n * @public\n */\nexport function breadcrumbTemplate() {\n    return html `\n        <template role=\"navigation\">\n            <div role=\"list\" class=\"list\" part=\"list\">\n                <slot\n                    ${slotted({ property: \"slottedBreadcrumbItems\", filter: elements() })}\n                ></slot>\n            </div>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { FASTElement, observable } from \"@microsoft/fast-element\";\nimport { FASTBreadcrumbItem } from \"../breadcrumb-item/breadcrumb-item.js\";\n/**\n * A Breadcrumb Custom HTML Element.\n * @slot - The default slot for the breadcrumb items\n * @csspart list - The element wrapping the slotted items\n *\n * @public\n */\nexport class FASTBreadcrumb extends FASTElement {\n    slottedBreadcrumbItemsChanged() {\n        if (this.$fastController.isConnected) {\n            if (this.slottedBreadcrumbItems === undefined ||\n                this.slottedBreadcrumbItems.length === 0) {\n                return;\n            }\n            const lastNode = this.slottedBreadcrumbItems[this.slottedBreadcrumbItems.length - 1];\n            this.slottedBreadcrumbItems.forEach((item) => {\n                const itemIsLastNode = item === lastNode;\n                this.setItemSeparator(item, itemIsLastNode);\n                this.setAriaCurrent(item, itemIsLastNode);\n            });\n        }\n    }\n    setItemSeparator(item, isLastNode) {\n        if (item instanceof FASTBreadcrumbItem) {\n            item.separator = !isLastNode;\n        }\n    }\n    /**\n     * Finds anchor childnodes in the light DOM or shadow DOM.\n     * We look in the shadow DOM because we use an anchor inside the breadcrumb-item template.\n     */\n    findChildAnchor(node) {\n        var _a, _b;\n        if (node.childElementCount > 0) {\n            return node.querySelector(\"a\");\n        }\n        else if ((_a = node.shadowRoot) === null || _a === void 0 ? void 0 : _a.childElementCount) {\n            return (_b = node.shadowRoot) === null || _b === void 0 ? void 0 : _b.querySelector(\"a\");\n        }\n        else\n            return node;\n    }\n    /**\n     * Sets ARIA Current for the \"current\" node\n     * `aria-current` is not optional and should be set regardless of the href value of a given anchor\n     */\n    setAriaCurrent(item, isLastNode) {\n        const childNode = this.findChildAnchor(item);\n        if (childNode !== null) {\n            isLastNode\n                ? childNode.setAttribute(\"aria-current\", \"page\")\n                : childNode.removeAttribute(\"aria-current\");\n        }\n    }\n}\n__decorate([\n    observable\n], FASTBreadcrumb.prototype, \"slottedBreadcrumbItems\", void 0);\n", "import { attr, booleanConverter, emptyArray, observable, Updates, } from \"@microsoft/fast-element\";\nimport { keyEnter } from \"@microsoft/fast-web-utilities\";\nconst proxySlotName = \"form-associated-proxy\";\nconst ElementInternalsKey = \"ElementInternals\";\n/**\n * @alpha\n */\nexport const supportsElementInternals = ElementInternalsKey in window &&\n    \"setFormValue\" in window[ElementInternalsKey].prototype;\nconst InternalsMap = new WeakMap();\n/**\n * Base function for providing Custom Element Form Association.\n *\n * @beta\n */\nexport function FormAssociated(BaseCtor) {\n    const C = class extends BaseCtor {\n        constructor(...args) {\n            super(...args);\n            /**\n             * Track whether the value has been changed from the initial value\n             */\n            this.dirtyValue = false;\n            /**\n             * Sets the element's disabled state. A disabled element will not be included during form submission.\n             *\n             * @remarks\n             * HTML Attribute: disabled\n             */\n            this.disabled = false;\n            /**\n             * These are events that are still fired by the proxy\n             * element based on user / programmatic interaction.\n             *\n             * The proxy implementation should be transparent to\n             * the app author, so block these events from emitting.\n             */\n            this.proxyEventsToBlock = [\"change\", \"click\"];\n            this.proxyInitialized = false;\n            this.required = false;\n            this.initialValue = this.initialValue || \"\";\n            if (!this.elementInternals) {\n                // When elementInternals is not supported, formResetCallback is\n                // bound to an event listener, so ensure the handler's `this`\n                // context is correct.\n                this.formResetCallback = this.formResetCallback.bind(this);\n            }\n        }\n        /**\n         * Must evaluate to true to enable elementInternals.\n         * Feature detects API support and resolve respectively\n         *\n         * @internal\n         */\n        static get formAssociated() {\n            return supportsElementInternals;\n        }\n        /**\n         * Returns the validity state of the element\n         *\n         * @beta\n         */\n        get validity() {\n            return this.elementInternals\n                ? this.elementInternals.validity\n                : this.proxy.validity;\n        }\n        /**\n         * Retrieve a reference to the associated form.\n         * Returns null if not associated to any form.\n         *\n         * @beta\n         */\n        get form() {\n            return this.elementInternals ? this.elementInternals.form : this.proxy.form;\n        }\n        /**\n         * Retrieve the localized validation message,\n         * or custom validation message if set.\n         *\n         * @beta\n         */\n        get validationMessage() {\n            return this.elementInternals\n                ? this.elementInternals.validationMessage\n                : this.proxy.validationMessage;\n        }\n        /**\n         * Whether the element will be validated when the\n         * form is submitted\n         */\n        get willValidate() {\n            return this.elementInternals\n                ? this.elementInternals.willValidate\n                : this.proxy.willValidate;\n        }\n        /**\n         * A reference to all associated label elements\n         */\n        get labels() {\n            if (this.elementInternals) {\n                return Object.freeze(Array.from(this.elementInternals.labels));\n            }\n            else if (this.proxy instanceof HTMLElement &&\n                this.proxy.ownerDocument &&\n                this.id) {\n                // Labels associated by wrapping the element: <label><custom-element></custom-element></label>\n                const parentLabels = this.proxy.labels;\n                // Labels associated using the `for` attribute\n                const forLabels = Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`));\n                const labels = parentLabels\n                    ? forLabels.concat(Array.from(parentLabels))\n                    : forLabels;\n                return Object.freeze(labels);\n            }\n            else {\n                return emptyArray;\n            }\n        }\n        /**\n         * Invoked when the `value` property changes\n         * @param previous - the previous value\n         * @param next - the new value\n         *\n         * @remarks\n         * If elements extending `FormAssociated` implement a `valueChanged` method\n         * They must be sure to invoke `super.valueChanged(previous, next)` to ensure\n         * proper functioning of `FormAssociated`\n         */\n        valueChanged(previous, next) {\n            this.dirtyValue = true;\n            if (this.proxy instanceof HTMLElement) {\n                this.proxy.value = this.value;\n            }\n            this.currentValue = this.value;\n            this.setFormValue(this.value);\n            this.validate();\n        }\n        currentValueChanged() {\n            this.value = this.currentValue;\n        }\n        /**\n         * Invoked when the `initialValue` property changes\n         *\n         * @param previous - the previous value\n         * @param next - the new value\n         *\n         * @remarks\n         * If elements extending `FormAssociated` implement a `initialValueChanged` method\n         * They must be sure to invoke `super.initialValueChanged(previous, next)` to ensure\n         * proper functioning of `FormAssociated`\n         */\n        initialValueChanged(previous, next) {\n            // If the value is clean and the component is connected to the DOM\n            // then set value equal to the attribute value.\n            if (!this.dirtyValue) {\n                this.value = this.initialValue;\n                this.dirtyValue = false;\n            }\n        }\n        /**\n         * Invoked when the `disabled` property changes\n         *\n         * @param previous - the previous value\n         * @param next - the new value\n         *\n         * @remarks\n         * If elements extending `FormAssociated` implement a `disabledChanged` method\n         * They must be sure to invoke `super.disabledChanged(previous, next)` to ensure\n         * proper functioning of `FormAssociated`\n         */\n        disabledChanged(previous, next) {\n            if (this.proxy instanceof HTMLElement) {\n                this.proxy.disabled = this.disabled;\n            }\n            Updates.enqueue(() => this.classList.toggle(\"disabled\", this.disabled));\n        }\n        /**\n         * Invoked when the `name` property changes\n         *\n         * @param previous - the previous value\n         * @param next - the new value\n         *\n         * @remarks\n         * If elements extending `FormAssociated` implement a `nameChanged` method\n         * They must be sure to invoke `super.nameChanged(previous, next)` to ensure\n         * proper functioning of `FormAssociated`\n         */\n        nameChanged(previous, next) {\n            if (this.proxy instanceof HTMLElement) {\n                this.proxy.name = this.name;\n            }\n        }\n        /**\n         * Invoked when the `required` property changes\n         *\n         * @param previous - the previous value\n         * @param next - the new value\n         *\n         * @remarks\n         * If elements extending `FormAssociated` implement a `requiredChanged` method\n         * They must be sure to invoke `super.requiredChanged(previous, next)` to ensure\n         * proper functioning of `FormAssociated`\n         */\n        requiredChanged(prev, next) {\n            if (this.proxy instanceof HTMLElement) {\n                this.proxy.required = this.required;\n            }\n            Updates.enqueue(() => this.classList.toggle(\"required\", this.required));\n            this.validate();\n        }\n        /**\n         * The element internals object. Will only exist\n         * in browsers supporting the attachInternals API\n         */\n        get elementInternals() {\n            if (!supportsElementInternals) {\n                return null;\n            }\n            let internals = InternalsMap.get(this);\n            if (!internals) {\n                internals = this.attachInternals();\n                InternalsMap.set(this, internals);\n            }\n            return internals;\n        }\n        /**\n         * @internal\n         */\n        connectedCallback() {\n            super.connectedCallback();\n            this.addEventListener(\"keypress\", this._keypressHandler);\n            if (!this.value) {\n                this.value = this.initialValue;\n                this.dirtyValue = false;\n            }\n            if (!this.elementInternals) {\n                this.attachProxy();\n                if (this.form) {\n                    this.form.addEventListener(\"reset\", this.formResetCallback);\n                }\n            }\n        }\n        /**\n         * @internal\n         */\n        disconnectedCallback() {\n            this.proxyEventsToBlock.forEach(name => this.proxy.removeEventListener(name, this.stopPropagation));\n            if (!this.elementInternals && this.form) {\n                this.form.removeEventListener(\"reset\", this.formResetCallback);\n            }\n        }\n        /**\n         * Return the current validity of the element.\n         */\n        checkValidity() {\n            return this.elementInternals\n                ? this.elementInternals.checkValidity()\n                : this.proxy.checkValidity();\n        }\n        /**\n         * Return the current validity of the element.\n         * If false, fires an invalid event at the element.\n         */\n        reportValidity() {\n            return this.elementInternals\n                ? this.elementInternals.reportValidity()\n                : this.proxy.reportValidity();\n        }\n        /**\n         * Set the validity of the control. In cases when the elementInternals object is not\n         * available (and the proxy element is used to report validity), this function will\n         * do nothing unless a message is provided, at which point the setCustomValidity method\n         * of the proxy element will be invoked with the provided message.\n         * @param flags - Validity flags\n         * @param message - Optional message to supply\n         * @param anchor - Optional element used by UA to display an interactive validation UI\n         */\n        setValidity(flags, message, anchor) {\n            if (this.elementInternals) {\n                this.elementInternals.setValidity(flags, message, anchor);\n            }\n            else if (typeof message === \"string\") {\n                this.proxy.setCustomValidity(message);\n            }\n        }\n        /**\n         * Invoked when a connected component's form or fieldset has its disabled\n         * state changed.\n         * @param disabled - the disabled value of the form / fieldset\n         */\n        formDisabledCallback(disabled) {\n            this.disabled = disabled;\n        }\n        formResetCallback() {\n            this.value = this.initialValue;\n            this.dirtyValue = false;\n        }\n        /**\n         * Attach the proxy element to the DOM\n         */\n        attachProxy() {\n            var _a;\n            if (!this.proxyInitialized) {\n                this.proxyInitialized = true;\n                this.proxy.style.display = \"none\";\n                this.proxyEventsToBlock.forEach(name => this.proxy.addEventListener(name, this.stopPropagation));\n                // These are typically mapped to the proxy during\n                // property change callbacks, but during initialization\n                // on the initial call of the callback, the proxy is\n                // still undefined. We should find a better way to address this.\n                this.proxy.disabled = this.disabled;\n                this.proxy.required = this.required;\n                if (typeof this.name === \"string\") {\n                    this.proxy.name = this.name;\n                }\n                if (typeof this.value === \"string\") {\n                    this.proxy.value = this.value;\n                }\n                this.proxy.setAttribute(\"slot\", proxySlotName);\n                this.proxySlot = document.createElement(\"slot\");\n                this.proxySlot.setAttribute(\"name\", proxySlotName);\n            }\n            (_a = this.shadowRoot) === null || _a === void 0 ? void 0 : _a.appendChild(this.proxySlot);\n            this.appendChild(this.proxy);\n        }\n        /**\n         * Detach the proxy element from the DOM\n         */\n        detachProxy() {\n            var _a;\n            this.removeChild(this.proxy);\n            (_a = this.shadowRoot) === null || _a === void 0 ? void 0 : _a.removeChild(this.proxySlot);\n        }\n        /** {@inheritDoc (FormAssociated:interface).validate} */\n        validate(anchor) {\n            if (this.proxy instanceof HTMLElement) {\n                this.setValidity(this.proxy.validity, this.proxy.validationMessage, anchor);\n            }\n        }\n        /**\n         * Associates the provided value (and optional state) with the parent form.\n         * @param value - The value to set\n         * @param state - The state object provided to during session restores and when autofilling.\n         */\n        setFormValue(value, state) {\n            if (this.elementInternals) {\n                this.elementInternals.setFormValue(value, state || value);\n            }\n        }\n        _keypressHandler(e) {\n            switch (e.key) {\n                case keyEnter:\n                    if (this.form instanceof HTMLFormElement) {\n                        // Implicit submission\n                        const defaultButton = this.form.querySelector(\"[type=submit]\");\n                        defaultButton === null || defaultButton === void 0 ? void 0 : defaultButton.click();\n                    }\n                    break;\n            }\n        }\n        /**\n         * Used to stop propagation of proxy element events\n         * @param e - Event object\n         */\n        stopPropagation(e) {\n            e.stopPropagation();\n        }\n    };\n    attr({ mode: \"boolean\" })(C.prototype, \"disabled\");\n    attr({ mode: \"fromView\", attribute: \"value\" })(C.prototype, \"initialValue\");\n    attr({ attribute: \"current-value\" })(C.prototype, \"currentValue\");\n    attr(C.prototype, \"name\");\n    attr({ mode: \"boolean\" })(C.prototype, \"required\");\n    observable(C.prototype, \"value\");\n    return C;\n}\n/**\n * Creates a checkable form associated component.\n * @beta\n */\nexport function CheckableFormAssociated(BaseCtor) {\n    class C extends FormAssociated(BaseCtor) {\n    }\n    class D extends C {\n        constructor(...args) {\n            super(args);\n            /**\n             * Tracks whether the \"checked\" property has been changed.\n             * This is necessary to provide consistent behavior with\n             * normal input checkboxes\n             */\n            this.dirtyChecked = false;\n            /**\n             * Provides the default checkedness of the input element\n             * Passed down to proxy\n             *\n             * @public\n             * @remarks\n             * HTML Attribute: checked\n             */\n            this.checkedAttribute = false;\n            /**\n             * The checked state of the control.\n             *\n             * @public\n             */\n            this.checked = false;\n            // Re-initialize dirtyChecked because initialization of other values\n            // causes it to become true\n            this.dirtyChecked = false;\n        }\n        checkedAttributeChanged() {\n            this.defaultChecked = this.checkedAttribute;\n        }\n        /**\n         * @internal\n         */\n        defaultCheckedChanged() {\n            if (!this.dirtyChecked) {\n                // Setting this.checked will cause us to enter a dirty state,\n                // but if we are clean when defaultChecked is changed, we want to stay\n                // in a clean state, so reset this.dirtyChecked\n                this.checked = this.defaultChecked;\n                this.dirtyChecked = false;\n            }\n        }\n        checkedChanged(prev, next) {\n            if (!this.dirtyChecked) {\n                this.dirtyChecked = true;\n            }\n            this.currentChecked = this.checked;\n            this.updateForm();\n            if (this.proxy instanceof HTMLInputElement) {\n                this.proxy.checked = this.checked;\n            }\n            if (prev !== undefined) {\n                this.$emit(\"change\");\n            }\n            this.validate();\n        }\n        currentCheckedChanged(prev, next) {\n            this.checked = this.currentChecked;\n        }\n        updateForm() {\n            const value = this.checked ? this.value : null;\n            this.setFormValue(value, value);\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            this.updateForm();\n        }\n        formResetCallback() {\n            super.formResetCallback();\n            this.checked = !!this.checkedAttribute;\n            this.dirtyChecked = false;\n        }\n    }\n    attr({ attribute: \"checked\", mode: \"boolean\" })(D.prototype, \"checkedAttribute\");\n    attr({ attribute: \"current-checked\", converter: booleanConverter })(D.prototype, \"currentChecked\");\n    observable(D.prototype, \"defaultChecked\");\n    observable(D.prototype, \"checked\");\n    return D;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\nimport { FormAssociated } from \"../form-associated/form-associated.js\";\nclass _Button extends FASTElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTButton:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedButton extends FormAssociated(_Button) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"input\");\n    }\n}\n", "/**\n * Button type values.\n *\n * @public\n */\nexport const ButtonType = {\n    submit: \"submit\",\n    reset: \"reset\",\n    button: \"button\",\n};\n", "import { __decorate } from \"tslib\";\nimport { attr, observable } from \"@microsoft/fast-element\";\nimport { ARIAGlobalStatesAndProperties, StartEnd } from \"../patterns/index.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { FormAssociatedButton } from \"./button.form-associated.js\";\nimport { ButtonType } from \"./button.options.js\";\n/**\n * A Button Custom HTML Element.\n * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button | <button> element }.\n *\n * @slot start - Content which can be provided before the button content\n * @slot end - Content which can be provided after the button content\n * @slot - The default slot for button content\n * @csspart control - The button element\n * @csspart content - The element wrapping button content\n *\n * @public\n */\nexport class FASTButton extends FormAssociatedButton {\n    constructor() {\n        super(...arguments);\n        /**\n         * Submits the parent form\n         */\n        this.handleSubmission = () => {\n            if (!this.form) {\n                return;\n            }\n            const attached = this.proxy.isConnected;\n            if (!attached) {\n                this.attachProxy();\n            }\n            // Browser support for requestSubmit is not comprehensive\n            // so click the proxy if it isn't supported\n            typeof this.form.requestSubmit === \"function\"\n                ? this.form.requestSubmit(this.proxy)\n                : this.proxy.click();\n            if (!attached) {\n                this.detachProxy();\n            }\n        };\n        /**\n         * Resets the parent form\n         */\n        this.handleFormReset = () => {\n            var _a;\n            (_a = this.form) === null || _a === void 0 ? void 0 : _a.reset();\n        };\n    }\n    formactionChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.formAction = this.formaction;\n        }\n    }\n    formenctypeChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.formEnctype = this.formenctype;\n        }\n    }\n    formmethodChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.formMethod = this.formmethod;\n        }\n    }\n    formnovalidateChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.formNoValidate = this.formnovalidate;\n        }\n    }\n    formtargetChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.formTarget = this.formtarget;\n        }\n    }\n    typeChanged(previous, next) {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.type = this.type;\n        }\n        next === ButtonType.submit &&\n            this.addEventListener(\"click\", this.handleSubmission);\n        previous === ButtonType.submit &&\n            this.removeEventListener(\"click\", this.handleSubmission);\n        next === ButtonType.reset && this.addEventListener(\"click\", this.handleFormReset);\n        previous === ButtonType.reset &&\n            this.removeEventListener(\"click\", this.handleFormReset);\n    }\n    /** {@inheritDoc (FormAssociated:interface).validate} */\n    validate() {\n        super.validate(this.control);\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.proxy.setAttribute(\"type\", this.type);\n    }\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTButton.prototype, \"autofocus\", void 0);\n__decorate([\n    attr({ attribute: \"form\" })\n], FASTButton.prototype, \"formId\", void 0);\n__decorate([\n    attr\n], FASTButton.prototype, \"formaction\", void 0);\n__decorate([\n    attr\n], FASTButton.prototype, \"formenctype\", void 0);\n__decorate([\n    attr\n], FASTButton.prototype, \"formmethod\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTButton.prototype, \"formnovalidate\", void 0);\n__decorate([\n    attr\n], FASTButton.prototype, \"formtarget\", void 0);\n__decorate([\n    attr\n], FASTButton.prototype, \"type\", void 0);\n__decorate([\n    observable\n], FASTButton.prototype, \"defaultSlottedContent\", void 0);\n/**\n * Includes ARIA states and properties relating to the ARIA button role\n *\n * @public\n */\nexport class DelegatesARIAButton {\n}\n__decorate([\n    attr({ attribute: \"aria-expanded\" })\n], DelegatesARIAButton.prototype, \"ariaExpanded\", void 0);\n__decorate([\n    attr({ attribute: \"aria-pressed\" })\n], DelegatesARIAButton.prototype, \"ariaPressed\", void 0);\napplyMixins(DelegatesARIAButton, ARIAGlobalStatesAndProperties);\napplyMixins(FASTButton, StartEnd, DelegatesARIAButton);\n", "import { html, ref, slotted } from \"@microsoft/fast-element\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTButton:class)} component.\n * @public\n */\nexport function buttonTemplate(options = {}) {\n    return html `\n        <button\n            class=\"control\"\n            part=\"control\"\n            ?autofocus=\"${x => x.autofocus}\"\n            ?disabled=\"${x => x.disabled}\"\n            form=\"${x => x.formId}\"\n            formaction=\"${x => x.formaction}\"\n            formenctype=\"${x => x.formenctype}\"\n            formmethod=\"${x => x.formmethod}\"\n            ?formnovalidate=\"${x => x.formnovalidate}\"\n            formtarget=\"${x => x.formtarget}\"\n            name=\"${x => x.name}\"\n            type=\"${x => x.type}\"\n            value=\"${x => x.value}\"\n            aria-atomic=\"${x => x.ariaAtomic}\"\n            aria-busy=\"${x => x.ariaBusy}\"\n            aria-controls=\"${x => x.ariaControls}\"\n            aria-current=\"${x => x.ariaCurrent}\"\n            aria-describedby=\"${x => x.ariaDescribedby}\"\n            aria-details=\"${x => x.ariaDetails}\"\n            aria-disabled=\"${x => x.ariaDisabled}\"\n            aria-errormessage=\"${x => x.ariaErrormessage}\"\n            aria-expanded=\"${x => x.ariaExpanded}\"\n            aria-flowto=\"${x => x.ariaFlowto}\"\n            aria-haspopup=\"${x => x.ariaHaspopup}\"\n            aria-hidden=\"${x => x.ariaHidden}\"\n            aria-invalid=\"${x => x.ariaInvalid}\"\n            aria-keyshortcuts=\"${x => x.ariaKeyshortcuts}\"\n            aria-label=\"${x => x.ariaLabel}\"\n            aria-labelledby=\"${x => x.ariaLabelledby}\"\n            aria-live=\"${x => x.ariaLive}\"\n            aria-owns=\"${x => x.ariaOwns}\"\n            aria-pressed=\"${x => x.ariaPressed}\"\n            aria-relevant=\"${x => x.ariaRelevant}\"\n            aria-roledescription=\"${x => x.ariaRoledescription}\"\n            ${ref(\"control\")}\n        >\n            ${startSlotTemplate(options)}\n            <span class=\"content\" part=\"content\">\n                <slot ${slotted(\"defaultSlottedContent\")}></slot>\n            </span>\n            ${endSlotTemplate(options)}\n        </button>\n    `;\n}\n", "/**\n * Day format values for DateFormatter.\n * @public\n */\nexport const DayFormat = {\n    \"2-digit\": \"2-digit\",\n    numeric: \"numeric\",\n};\n/**\n * Weekday format values for DateFormatter.\n * @public\n */\nexport const WeekdayFormat = {\n    long: \"long\",\n    narrow: \"narrow\",\n    short: \"short\",\n};\n/**\n * Month format values for DateFormatter.\n * @public\n */\nexport const MonthFormat = {\n    \"2-digit\": \"2-digit\",\n    numeric: \"numeric\",\n    short: \"short\",\n    long: \"long\",\n    narrow: \"narrow\",\n};\n/**\n * Year format values for DateFormatter.\n * @public\n */\nexport const YearFormat = {\n    \"2-digit\": \"2-digit\",\n    numeric: \"numeric\",\n};\n", "import { DayFormat, MonthFormat, WeekdayFormat, YearFormat } from \"./calendar.options.js\";\n/**\n * Date formatting utility\n * @public\n */\nexport class DateFormatter {\n    constructor(config) {\n        /**\n         * Formatting for the day\n         * @public\n         */\n        this.dayFormat = DayFormat.numeric;\n        /**\n         * Formatting for the weekday labels\n         * @public\n         */\n        this.weekdayFormat = WeekdayFormat.long;\n        /**\n         * Formatting for the month\n         * @public\n         */\n        this.monthFormat = MonthFormat.long;\n        /**\n         * Formatting for the year\n         * @public\n         */\n        this.yearFormat = YearFormat.numeric;\n        /**\n         * Date used for formatting\n         */\n        this.date = new Date();\n        /**\n         * Add properties on construction\n         */\n        if (config) {\n            for (const key in config) {\n                const value = config[key];\n                if (key === \"date\") {\n                    this.date = this.getDateObject(value);\n                }\n                else {\n                    this[key] = value;\n                }\n            }\n        }\n    }\n    /**\n     * Helper function to make sure that the DateFormatter is working with an instance of Date\n     * @param date - The date as an object, string or Date insance\n     * @returns - A Date instance\n     * @public\n     */\n    getDateObject(date) {\n        if (typeof date === \"string\") {\n            const dates = date.split(/[/-]/);\n            if (dates.length < 3) {\n                return new Date();\n            }\n            return new Date(parseInt(dates[2], 10), parseInt(dates[0], 10) - 1, parseInt(dates[1], 10));\n        }\n        else if (\"day\" in date && \"month\" in date && \"year\" in date) {\n            const { day, month, year } = date;\n            return new Date(year, month - 1, day);\n        }\n        return date;\n    }\n    /**\n     *\n     * @param date - a valide date as either a Date, string, objec or a DateFormatter\n     * @param format - The formatting for the string\n     * @param locale - locale data used for formatting\n     * @returns A localized string of the date provided\n     * @public\n     */\n    getDate(date = this.date, format = {\n        weekday: this.weekdayFormat,\n        month: this.monthFormat,\n        day: this.dayFormat,\n        year: this.yearFormat,\n    }, locale = this.locale) {\n        const dateObj = this.getDateObject(date);\n        if (!dateObj.getTime()) {\n            return \"\";\n        }\n        const optionsWithTimeZone = Object.assign({ timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone }, format);\n        return new Intl.DateTimeFormat(locale, optionsWithTimeZone).format(dateObj);\n    }\n    /**\n     *\n     * @param day - Day to localize\n     * @param format - The formatting for the day\n     * @param locale - The locale data used for formatting\n     * @returns - A localized number for the day\n     * @public\n     */\n    getDay(day = this.date.getDate(), format = this.dayFormat, locale = this.locale) {\n        return this.getDate({ month: 1, day, year: 2020 }, { day: format }, locale);\n    }\n    /**\n     *\n     * @param month - The month to localize\n     * @param format - The formatting for the month\n     * @param locale - The locale data used for formatting\n     * @returns - A localized name of the month\n     * @public\n     */\n    getMonth(month = this.date.getMonth() + 1, format = this.monthFormat, locale = this.locale) {\n        return this.getDate({ month, day: 2, year: 2020 }, { month: format }, locale);\n    }\n    /**\n     *\n     * @param year - The year to localize\n     * @param format - The formatting for the year\n     * @param locale - The locale data used for formatting\n     * @returns - A localized string for the year\n     * @public\n     */\n    getYear(year = this.date.getFullYear(), format = this.yearFormat, locale = this.locale) {\n        return this.getDate({ month: 2, day: 2, year }, { year: format }, locale);\n    }\n    /**\n     *\n     * @param weekday - The number of the weekday, defaults to Sunday\n     * @param format - The formatting for the weekday label\n     * @param locale - The locale data used for formatting\n     * @returns - A formatted weekday label\n     * @public\n     */\n    getWeekday(weekday = 0, format = this.weekdayFormat, locale = this.locale) {\n        const date = `1-${weekday + 1}-2017`;\n        return this.getDate(date, { weekday: format }, locale);\n    }\n    /**\n     *\n     * @param format - The formatting for the weekdays\n     * @param locale - The locale data used for formatting\n     * @returns - An array of the weekday labels\n     * @public\n     */\n    getWeekdays(format = this.weekdayFormat, locale = this.locale) {\n        return Array(7)\n            .fill(null)\n            .map((_, day) => this.getWeekday(day, format, locale));\n    }\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, nullableNumberConverter } from \"@microsoft/fast-element\";\nimport { keyEnter } from \"@microsoft/fast-web-utilities\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { StartEnd } from \"../patterns/index.js\";\nimport { DayFormat, MonthFormat, WeekdayFormat, YearFormat } from \"./calendar.options.js\";\nimport { DateFormatter } from \"./date-formatter.js\";\n/**\n * Calendar component\n *\n * @slot start - Content which can be provided before the calendar content\n * @slot end - Content which can be provided after the calendar content\n * @slot - The default slot for calendar content\n * @fires dateselected - Fires a custom 'dateselected' event when Enter is invoked via keyboard on a date\n *\n * @public\n */\nexport class FASTCalendar extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * date formatter utitlity for getting localized strings\n         * @public\n         */\n        this.dateFormatter = new DateFormatter();\n        /**\n         * Readonly attribute for turning off data-grid\n         * @public\n         */\n        this.readonly = false;\n        /**\n         * String repesentation of the full locale including market, calendar type and numbering system\n         * @public\n         */\n        this.locale = \"en-US\";\n        /**\n         * Weekday that the calendar should start on, defaults to Sunday\n         * @public\n         */\n        this.firstDay = 0;\n        /**\n         * Month to display\n         * @public\n         */\n        this.month = new Date().getMonth() + 1;\n        /**\n         * Year of the month to display\n         * @public\n         */\n        this.year = new Date().getFullYear();\n        /**\n         * Format style for the day\n         * @public\n         */\n        this.dayFormat = DayFormat.numeric;\n        /**\n         * Format style for the week day labels\n         * @public\n         */\n        this.weekdayFormat = WeekdayFormat.short;\n        /**\n         * Format style for the month label\n         * @public\n         */\n        this.monthFormat = MonthFormat.long;\n        /**\n         * Format style for the year used in the title\n         * @public\n         */\n        this.yearFormat = YearFormat.numeric;\n        /**\n         * Minimum number of weeks to show for the month\n         * This can be used to normalize the calendar view\n         *  when changing or across multiple calendars\n         * @public\n         */\n        this.minWeeks = 0;\n        /**\n         * A list of dates that should be shown as disabled\n         * @public\n         */\n        this.disabledDates = \"\";\n        /**\n         * A list of dates that should be shown as highlighted\n         * @public\n         */\n        this.selectedDates = \"\";\n        /**\n         * The number of miliseconds in a day\n         * @internal\n         */\n        this.oneDayInMs = 86400000;\n    }\n    localeChanged() {\n        this.dateFormatter.locale = this.locale;\n    }\n    dayFormatChanged() {\n        this.dateFormatter.dayFormat = this.dayFormat;\n    }\n    weekdayFormatChanged() {\n        this.dateFormatter.weekdayFormat = this.weekdayFormat;\n    }\n    monthFormatChanged() {\n        this.dateFormatter.monthFormat = this.monthFormat;\n    }\n    yearFormatChanged() {\n        this.dateFormatter.yearFormat = this.yearFormat;\n    }\n    /**\n     * Gets data needed to render about a calendar month as well as the previous and next months\n     * @param year - year of the calendar\n     * @param month - month of the calendar\n     * @returns - an object with data about the current and 2 surrounding months\n     * @public\n     */\n    getMonthInfo(month = this.month, year = this.year) {\n        const getFirstDay = (date) => new Date(date.getFullYear(), date.getMonth(), 1).getDay();\n        const getLength = (date) => {\n            const nextMonth = new Date(date.getFullYear(), date.getMonth() + 1, 1);\n            return new Date(nextMonth.getTime() - this.oneDayInMs).getDate();\n        };\n        const thisMonth = new Date(year, month - 1);\n        const nextMonth = new Date(year, month);\n        const previousMonth = new Date(year, month - 2);\n        return {\n            length: getLength(thisMonth),\n            month,\n            start: getFirstDay(thisMonth),\n            year,\n            previous: {\n                length: getLength(previousMonth),\n                month: previousMonth.getMonth() + 1,\n                start: getFirstDay(previousMonth),\n                year: previousMonth.getFullYear(),\n            },\n            next: {\n                length: getLength(nextMonth),\n                month: nextMonth.getMonth() + 1,\n                start: getFirstDay(nextMonth),\n                year: nextMonth.getFullYear(),\n            },\n        };\n    }\n    /**\n     * A list of calendar days\n     * @param info - an object containing the information needed to render a calendar month\n     * @param minWeeks - minimum number of weeks to show\n     * @returns a list of days in a calendar month\n     * @public\n     */\n    getDays(info = this.getMonthInfo(), minWeeks = this.minWeeks) {\n        minWeeks = minWeeks > 10 ? 10 : minWeeks;\n        const { length, previous, next } = info;\n        let start = info.start - Math.min(Math.max(0, this.firstDay), 6);\n        start = start < 0 ? 7 + start : start;\n        const days = [];\n        let dayCount = 1 - start;\n        while (dayCount < length + 1 ||\n            days.length < minWeeks ||\n            days[days.length - 1].length % 7 !== 0) {\n            const { month, year } = dayCount < 1 ? previous : dayCount > length ? next : info;\n            const day = dayCount < 1\n                ? previous.length + dayCount\n                : dayCount > length\n                    ? dayCount - length\n                    : dayCount;\n            const dateString = `${month}-${day}-${year}`;\n            const disabled = this.dateInString(dateString, this.disabledDates);\n            const selected = this.dateInString(dateString, this.selectedDates);\n            const date = {\n                day,\n                month,\n                year,\n                disabled,\n                selected,\n            };\n            const target = days[days.length - 1];\n            if (days.length === 0 || target.length % 7 === 0) {\n                days.push([date]);\n            }\n            else {\n                target.push(date);\n            }\n            dayCount++;\n        }\n        return days;\n    }\n    /**\n     * A helper function that checks if a date exists in a list of dates\n     * @param date - A date objec that includes the day, month and year\n     * @param datesString - a comma separated list of dates\n     * @returns - Returns true if it found the date in the list of dates\n     * @public\n     */\n    dateInString(date, datesString) {\n        const dates = datesString.split(\",\").map(str => str.trim());\n        date =\n            typeof date === \"string\"\n                ? date\n                : `${date.getMonth() + 1}-${date.getDate()}-${date.getFullYear()}`;\n        return dates.some(d => d === date);\n    }\n    /**\n     * Creates a class string for the day container\n     * @param date - date of the calendar cell\n     * @returns - string of class names\n     * @public\n     */\n    getDayClassNames(date, todayString) {\n        const { day, month, year, disabled, selected } = date;\n        const today = todayString === `${month}-${day}-${year}`;\n        const inactive = this.month !== month;\n        return [\n            \"day\",\n            today && \"today\",\n            inactive && \"inactive\",\n            disabled && \"disabled\",\n            selected && \"selected\",\n        ]\n            .filter(Boolean)\n            .join(\" \");\n    }\n    /**\n     * Returns a list of weekday labels\n     * @returns An array of weekday text and full text if abbreviated\n     * @public\n     */\n    getWeekdayText() {\n        const weekdayText = this.dateFormatter.getWeekdays().map(text => ({ text }));\n        if (this.weekdayFormat !== \"long\") {\n            const longText = this.dateFormatter.getWeekdays(\"long\");\n            weekdayText.forEach((weekday, index) => {\n                weekday.abbr = longText[index];\n            });\n        }\n        const firstDay = Math.min(Math.max(0, this.firstDay), 6);\n        return [...weekdayText.slice(firstDay), ...weekdayText.slice(0, firstDay)];\n    }\n    /**\n     * Emits the \"date-select\" event with the day, month and year.\n     * @param date - Date cell\n     * @public\n     */\n    handleDateSelect(event, day) {\n        event.preventDefault;\n        this.$emit(\"dateselected\", day);\n    }\n    /**\n     * Handles keyboard events on a cell\n     * @param event - Keyboard event\n     * @param date - Date of the cell selected\n     */\n    handleKeydown(event, date) {\n        if (event.key === keyEnter) {\n            this.handleDateSelect(event, date);\n        }\n        return true;\n    }\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTCalendar.prototype, \"readonly\", void 0);\n__decorate([\n    attr\n], FASTCalendar.prototype, \"locale\", void 0);\n__decorate([\n    attr({ attribute: \"first-day\", converter: nullableNumberConverter })\n], FASTCalendar.prototype, \"firstDay\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTCalendar.prototype, \"month\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTCalendar.prototype, \"year\", void 0);\n__decorate([\n    attr({ attribute: \"day-format\", mode: \"fromView\" })\n], FASTCalendar.prototype, \"dayFormat\", void 0);\n__decorate([\n    attr({ attribute: \"weekday-format\", mode: \"fromView\" })\n], FASTCalendar.prototype, \"weekdayFormat\", void 0);\n__decorate([\n    attr({ attribute: \"month-format\", mode: \"fromView\" })\n], FASTCalendar.prototype, \"monthFormat\", void 0);\n__decorate([\n    attr({ attribute: \"year-format\", mode: \"fromView\" })\n], FASTCalendar.prototype, \"yearFormat\", void 0);\n__decorate([\n    attr({ attribute: \"min-weeks\", converter: nullableNumberConverter })\n], FASTCalendar.prototype, \"minWeeks\", void 0);\n__decorate([\n    attr({ attribute: \"disabled-dates\" })\n], FASTCalendar.prototype, \"disabledDates\", void 0);\n__decorate([\n    attr({ attribute: \"selected-dates\" })\n], FASTCalendar.prototype, \"selectedDates\", void 0);\napplyMixins(FASTCalendar, StartEnd);\n", "import { html, repeat, when } from \"@microsoft/fast-element\";\nimport { endSlotTemplate, startSlotTemplate, tagFor } from \"../patterns/index.js\";\nimport { staticallyCompose } from \"../utilities/template-helpers.js\";\n/**\n * A basic Calendar title template that includes the month and year\n * @returns - A calendar title template\n * @public\n */\nexport function calendarTitleTemplate() {\n    return html `\n        <div\n            class=\"title\"\n            part=\"title\"\n            aria-label=\"${(x) => x.dateFormatter.getDate(`${x.month}-2-${x.year}`, {\n        month: \"long\",\n        year: \"numeric\",\n    })}\"\n        >\n            <span part=\"month\">${(x) => x.dateFormatter.getMonth(x.month)}</span>\n            <span part=\"year\">${(x) => x.dateFormatter.getYear(x.year)}</span>\n        </div>\n    `;\n}\n/**\n * Calendar weekday label template\n * @returns - The weekday labels template\n * @public\n */\nexport function calendarWeekdayTemplate(options) {\n    const cellTag = html.partial(tagFor(options.dataGridCell));\n    return html `\n        <${cellTag}\n            class=\"week-day\"\n            part=\"week-day\"\n            tabindex=\"-1\"\n            grid-column=\"${(x, c) => c.index + 1}\"\n            abbr=\"${x => x.abbr}\"\n        >\n            ${x => x.text}\n        </${cellTag}>\n    `;\n}\n/**\n * A calendar day template\n * @param context - Element definition context for getting the cell tag for calendar-cell\n * @param todayString - A string representation for todays date\n * @returns - A calendar cell template for a given date\n * @public\n */\nexport function calendarCellTemplate(options, todayString) {\n    const cellTag = html.partial(tagFor(options.dataGridCell));\n    return html `\n        <${cellTag}\n            class=\"${(x, c) => c.parentContext.parent.getDayClassNames(x, todayString)}\"\n            part=\"day\"\n            tabindex=\"-1\"\n            role=\"gridcell\"\n            grid-column=\"${(x, c) => c.index + 1}\"\n            @click=\"${(x, c) => c.parentContext.parent.handleDateSelect(c.event, x)}\"\n            @keydown=\"${(x, c) => c.parentContext.parent.handleKeydown(c.event, x)}\"\n            aria-label=\"${(x, c) => c.parentContext.parent.dateFormatter.getDate(`${x.month}-${x.day}-${x.year}`, { month: \"long\", day: \"numeric\" })}\"\n        >\n            <div\n                class=\"date\"\n                part=\"${x => todayString === `${x.month}-${x.day}-${x.year}` ? \"today\" : \"date\"}\"\n            >\n                ${(x, c) => c.parentContext.parent.dateFormatter.getDay(x.day)}\n            </div>\n            <slot name=\"${x => x.month}-${x => x.day}-${x => x.year}\"></slot>\n        </${cellTag}>\n    `;\n}\n/**\n *\n * @param context - Element definition context for getting the cell tag for calendar-cell\n * @param todayString - A string representation for todays date\n * @returns - A template for a week of days\n * @public\n */\nexport function calendarRowTemplate(options, todayString) {\n    const rowTag = html.partial(tagFor(options.dataGridRow));\n    return html `\n        <${rowTag}\n            class=\"week\"\n            part=\"week\"\n            role=\"row\"\n            role-type=\"default\"\n            grid-template-columns=\"1fr 1fr 1fr 1fr 1fr 1fr 1fr\"\n        >\n        ${repeat(x => x, calendarCellTemplate(options, todayString), {\n        positioning: true,\n    })}\n        </${rowTag}>\n    `;\n}\n/**\n * Interactive template using DataGrid\n * @param context - The templates context\n * @param todayString - string representation of todays date\n * @returns - interactive calendar template\n *\n * @internal\n */\nexport function interactiveCalendarGridTemplate(options, todayString) {\n    const gridTag = html.partial(tagFor(options.dataGrid));\n    const rowTag = html.partial(tagFor(options.dataGridRow));\n    return html `\n    <${gridTag} class=\"days interact\" part=\"days\" generate-header=\"none\">\n        <${rowTag}\n            class=\"week-days\"\n            part=\"week-days\"\n            role=\"row\"\n            row-type=\"header\"\n            grid-template-columns=\"1fr 1fr 1fr 1fr 1fr 1fr 1fr\"\n        >\n            ${repeat(x => x.getWeekdayText(), calendarWeekdayTemplate(options), {\n        positioning: true,\n    })}\n        </${rowTag}>\n        ${repeat(x => x.getDays(), calendarRowTemplate(options, todayString))}\n    </${gridTag}>\n    `;\n}\n/**\n * Non-interactive calendar template used for a readonly calendar\n * @param todayString - string representation of todays date\n * @returns - non-interactive calendar template\n *\n * @internal\n */\nexport function noninteractiveCalendarTemplate(options, todayString) {\n    return html `\n        <div class=\"days\" part=\"days\">\n            <div class=\"week-days\" part=\"week-days\">\n                ${repeat(x => x.getWeekdayText(), html `\n                        <div class=\"week-day\" part=\"week-day\" abbr=\"${x => x.abbr}\">\n                            ${x => x.text}\n                        </div>\n                    `)}\n            </div>\n            ${repeat(x => x.getDays(), html `\n                    <div class=\"week\">\n                        ${repeat(x => x, html `\n                                <div\n                                    class=\"${(x, c) => c.parentContext.parent.getDayClassNames(x, todayString)}\"\n                                    part=\"day\"\n                                    aria-label=\"${(x, c) => c.parentContext.parent.dateFormatter.getDate(`${x.month}-${x.day}-${x.year}`, { month: \"long\", day: \"numeric\" })}\"\n                                >\n                                    <div\n                                        class=\"date\"\n                                        part=\"${x => todayString ===\n        `${x.month}-${x.day}-${x.year}`\n        ? \"today\"\n        : \"date\"}\"\n                                    >\n                                        ${(x, c) => c.parentContext.parent.dateFormatter.getDay(x.day)}\n                                    </div>\n                                    <slot\n                                        name=\"${x => x.month}-${x => x.day}-${x => x.year}\"\n                                    ></slot>\n                                </div>\n                            `)}\n                    </div>\n                `)}\n        </div>\n    `;\n}\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTCalendar:class)} component.\n *\n * @param context - Element definition context for getting the cell tag for calendar-cell\n * @param definition - Foundation element definition\n * @returns - a template for a calendar month\n * @public\n */\nexport function calendarTemplate(options) {\n    const today = new Date();\n    const todayString = `${today.getMonth() + 1}-${today.getDate()}-${today.getFullYear()}`;\n    return html `\n        ${startSlotTemplate(options)} ${staticallyCompose(options.title)}\n        <slot></slot>\n        ${when(x => x.readonly, noninteractiveCalendarTemplate(options, todayString), interactiveCalendarGridTemplate(options, todayString))}\n        ${endSlotTemplate(options)}\n    `;\n}\n", "import { html } from \"@microsoft/fast-element\";\n/**\n * The template for the {@link @microsoft/fast-foundation#FASTCard} component.\n * @public\n */\nexport function cardTemplate() {\n    return html `\n        <slot></slot>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\n/**\n * An Card Custom HTML Element.\n *\n * @slot - The default slot for the card content\n *\n * @public\n */\nexport class FASTCard extends FASTElement {\n}\n", "import { html, slotted } from \"@microsoft/fast-element\";\nimport { staticallyCompose } from \"../utilities/template-helpers.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTCheckbox:class)} component.\n * @public\n */\nexport function checkboxTemplate(options = {}) {\n    return html `\n        <template\n            role=\"checkbox\"\n            aria-checked=\"${x => (x.indeterminate ? \"mixed\" : x.checked)}\"\n            aria-required=\"${x => x.required}\"\n            aria-disabled=\"${x => x.disabled}\"\n            tabindex=\"${x => (x.disabled ? null : 0)}\"\n            @keypress=\"${(x, c) => x.keypressHandler(c.event)}\"\n            @click=\"${(x, c) => x.clickHandler(c.event)}\"\n        >\n            <div part=\"control\" class=\"control\">\n                <slot name=\"checked-indicator\">\n                    ${staticallyCompose(options.checkedIndicator)}\n                </slot>\n                <slot name=\"indeterminate-indicator\">\n                    ${staticallyCompose(options.indeterminateIndicator)}\n                </slot>\n            </div>\n            <label\n                part=\"label\"\n                class=\"${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length\n        ? \"label\"\n        : \"label label__hidden\"}\"\n            >\n                <slot ${slotted(\"defaultSlottedNodes\")}></slot>\n            </label>\n        </template>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\nimport { CheckableFormAssociated } from \"../form-associated/form-associated.js\";\nclass _Checkbox extends FASTElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(Checkbox:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedCheckbox extends CheckableFormAssociated(_Checkbox) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"input\");\n    }\n}\n", "import { __decorate } from \"tslib\";\nimport { observable } from \"@microsoft/fast-element\";\nimport { keySpace } from \"@microsoft/fast-web-utilities\";\nimport { FormAssociatedCheckbox } from \"./checkbox.form-associated.js\";\n/**\n * A Checkbox Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#checkbox | ARIA checkbox }.\n *\n * @slot checked-indicator - The checked indicator\n * @slot indeterminate-indicator - The indeterminate indicator\n * @slot - The default slot for the label\n * @csspart control - The element representing the visual checkbox control\n * @csspart label - The label\n * @fires change - Emits a custom change event when the checked state changes\n *\n * @public\n */\nexport class FASTCheckbox extends FormAssociatedCheckbox {\n    constructor() {\n        super();\n        /**\n         * The element's value to be included in form submission when checked.\n         * Default to \"on\" to reach parity with input[type=\"checkbox\"]\n         *\n         * @internal\n         */\n        this.initialValue = \"on\";\n        /**\n         * The indeterminate state of the control\n         */\n        this.indeterminate = false;\n        /**\n         * @internal\n         */\n        this.keypressHandler = (e) => {\n            if (this.disabled) {\n                return;\n            }\n            switch (e.key) {\n                case keySpace:\n                    this.toggleChecked();\n                    break;\n            }\n        };\n        /**\n         * @internal\n         */\n        this.clickHandler = (e) => {\n            if (!this.disabled) {\n                this.toggleChecked();\n            }\n        };\n        this.proxy.setAttribute(\"type\", \"checkbox\");\n    }\n    toggleChecked() {\n        if (this.indeterminate) {\n            this.indeterminate = false;\n        }\n        this.checked = !this.checked;\n    }\n}\n__decorate([\n    observable\n], FASTCheckbox.prototype, \"defaultSlottedNodes\", void 0);\n__decorate([\n    observable\n], FASTCheckbox.prototype, \"indeterminate\", void 0);\n", "/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n", "import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element \u2014\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n", "function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n", "import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getContainingBlock, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentIFrame = win.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== win) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentIFrame = getWindow(currentIFrame).frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction topLayer(floating) {\n  let isTopLayer = false;\n  let x = 0;\n  let y = 0;\n  function setIsTopLayer(selector) {\n    try {\n      isTopLayer = isTopLayer || floating.matches(selector);\n    } catch (e) {}\n  }\n  topLayerSelectors.forEach(selector => {\n    setIsTopLayer(selector);\n  });\n  const containingBlock = getContainingBlock(floating);\n  if (isTopLayer && containingBlock) {\n    const rect = containingBlock.getBoundingClientRect();\n    x = rect.x;\n    y = rect.y;\n  }\n  return [isTopLayer, x, y];\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const documentElement = getDocumentElement(offsetParent);\n  const [isTopLayer] = elements ? topLayer(elements.floating) : [false];\n  if (offsetParent === documentElement || isTopLayer) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy, floating) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  let x = rect.left + scroll.scrollLeft - offsets.x;\n  let y = rect.top + scroll.scrollTop - offsets.y;\n  const [isTopLayer, topLayerX, topLayerY] = topLayer(floating);\n  if (isTopLayer) {\n    x += topLayerX;\n    y += topLayerY;\n    if (isOffsetParentAnElement) {\n      x += offsetParent.clientLeft;\n      y += offsetParent.clientTop;\n    }\n  }\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy, data.floating),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element \u2014\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, observable, Observable } from \"@microsoft/fast-element\";\nimport { isHTMLElement } from \"@microsoft/fast-web-utilities\";\nimport { ARIAGlobalStatesAndProperties, StartEnd } from \"../patterns/index.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\n/**\n * Determines if the element is a {@link (FASTListboxOption:class)}\n *\n * @param element - the element to test.\n * @public\n */\nexport function isListboxOption(el) {\n    return (isHTMLElement(el) &&\n        (el.getAttribute(\"role\") === \"option\" ||\n            el instanceof HTMLOptionElement));\n}\n/**\n * An Option Custom HTML Element.\n * Implements {@link https://www.w3.org/TR/wai-aria-1.1/#option | ARIA option }.\n *\n * @slot start - Content which can be provided before the listbox option content\n * @slot end - Content which can be provided after the listbox option content\n * @slot - The default slot for listbox option content\n * @csspart content - Wraps the listbox option content\n *\n * @public\n */\nexport class FASTListboxOption extends FASTElement {\n    constructor(text, value, defaultSelected, selected) {\n        super();\n        /**\n         * The defaultSelected state of the option.\n         * @public\n         */\n        this.defaultSelected = false;\n        /**\n         * Tracks whether the \"selected\" property has been changed.\n         * @internal\n         */\n        this.dirtySelected = false;\n        /**\n         * The checked state of the control.\n         *\n         * @public\n         */\n        this.selected = this.defaultSelected;\n        /**\n         * Track whether the value has been changed from the initial value\n         */\n        this.dirtyValue = false;\n        if (text) {\n            this.textContent = text;\n        }\n        if (value) {\n            this.initialValue = value;\n        }\n        if (defaultSelected) {\n            this.defaultSelected = defaultSelected;\n        }\n        if (selected) {\n            this.selected = selected;\n        }\n        this.proxy = new Option(`${this.textContent}`, this.initialValue, this.defaultSelected, this.selected);\n        this.proxy.disabled = this.disabled;\n    }\n    /**\n     * Updates the ariaChecked property when the checked property changes.\n     *\n     * @param prev - the previous checked value\n     * @param next - the current checked value\n     *\n     * @public\n     */\n    checkedChanged(prev, next) {\n        if (typeof next === \"boolean\") {\n            this.ariaChecked = next ? \"true\" : \"false\";\n            return;\n        }\n        this.ariaChecked = null;\n    }\n    /**\n     * Updates the proxy's text content when the default slot changes.\n     * @param prev - the previous content value\n     * @param next - the current content value\n     *\n     * @internal\n     */\n    contentChanged(prev, next) {\n        if (this.proxy instanceof HTMLOptionElement) {\n            this.proxy.textContent = this.textContent;\n        }\n        this.$emit(\"contentchange\", null, { bubbles: true });\n    }\n    defaultSelectedChanged() {\n        if (!this.dirtySelected) {\n            this.selected = this.defaultSelected;\n            if (this.proxy instanceof HTMLOptionElement) {\n                this.proxy.selected = this.defaultSelected;\n            }\n        }\n    }\n    disabledChanged(prev, next) {\n        this.ariaDisabled = this.disabled ? \"true\" : \"false\";\n        if (this.proxy instanceof HTMLOptionElement) {\n            this.proxy.disabled = this.disabled;\n        }\n    }\n    selectedAttributeChanged() {\n        this.defaultSelected = this.selectedAttribute;\n        if (this.proxy instanceof HTMLOptionElement) {\n            this.proxy.defaultSelected = this.defaultSelected;\n        }\n    }\n    selectedChanged() {\n        this.ariaSelected = this.selected ? \"true\" : \"false\";\n        if (!this.dirtySelected) {\n            this.dirtySelected = true;\n        }\n        if (this.proxy instanceof HTMLOptionElement) {\n            this.proxy.selected = this.selected;\n        }\n    }\n    initialValueChanged(previous, next) {\n        // If the value is clean and the component is connected to the DOM\n        // then set value equal to the attribute value.\n        if (!this.dirtyValue) {\n            this.value = this.initialValue;\n            this.dirtyValue = false;\n        }\n    }\n    get label() {\n        var _a;\n        return (_a = this.value) !== null && _a !== void 0 ? _a : this.text;\n    }\n    get text() {\n        var _a, _b;\n        return (_b = (_a = this.textContent) === null || _a === void 0 ? void 0 : _a.replace(/\\s+/g, \" \").trim()) !== null && _b !== void 0 ? _b : \"\";\n    }\n    set value(next) {\n        const newValue = `${next !== null && next !== void 0 ? next : \"\"}`;\n        this._value = newValue;\n        this.dirtyValue = true;\n        if (this.proxy instanceof HTMLOptionElement) {\n            this.proxy.value = newValue;\n        }\n        Observable.notify(this, \"value\");\n    }\n    get value() {\n        var _a;\n        Observable.track(this, \"value\");\n        return (_a = this._value) !== null && _a !== void 0 ? _a : this.text;\n    }\n    get form() {\n        return this.proxy ? this.proxy.form : null;\n    }\n}\n__decorate([\n    observable\n], FASTListboxOption.prototype, \"checked\", void 0);\n__decorate([\n    observable\n], FASTListboxOption.prototype, \"content\", void 0);\n__decorate([\n    observable\n], FASTListboxOption.prototype, \"defaultSelected\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTListboxOption.prototype, \"disabled\", void 0);\n__decorate([\n    attr({ attribute: \"selected\", mode: \"boolean\" })\n], FASTListboxOption.prototype, \"selectedAttribute\", void 0);\n__decorate([\n    observable\n], FASTListboxOption.prototype, \"selected\", void 0);\n__decorate([\n    attr({ attribute: \"value\", mode: \"fromView\" })\n], FASTListboxOption.prototype, \"initialValue\", void 0);\n/**\n * States and properties relating to the ARIA `option` role.\n *\n * @public\n */\nexport class DelegatesARIAListboxOption {\n}\n__decorate([\n    observable\n], DelegatesARIAListboxOption.prototype, \"ariaChecked\", void 0);\n__decorate([\n    observable\n], DelegatesARIAListboxOption.prototype, \"ariaPosInSet\", void 0);\n__decorate([\n    observable\n], DelegatesARIAListboxOption.prototype, \"ariaSelected\", void 0);\n__decorate([\n    observable\n], DelegatesARIAListboxOption.prototype, \"ariaSetSize\", void 0);\napplyMixins(DelegatesARIAListboxOption, ARIAGlobalStatesAndProperties);\napplyMixins(FASTListboxOption, StartEnd, DelegatesARIAListboxOption);\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, observable, Observable } from \"@microsoft/fast-element\";\nimport { findLastIndex, keyArrowDown, keyArrowUp, keyEnd, keyEnter, keyEscape, keyHome, keySpace, keyTab, uniqueId, } from \"@microsoft/fast-web-utilities\";\nimport { isListboxOption } from \"../listbox-option/listbox-option.js\";\nimport { ARIAGlobalStatesAndProperties } from \"../patterns/index.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\n/**\n * A Listbox Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#listbox | ARIA listbox }.\n *\n * @slot - The default slot for the listbox options\n *\n * @public\n */\nexport class FASTListbox extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The internal unfiltered list of selectable options.\n         *\n         * @internal\n         */\n        this._options = [];\n        /**\n         * The index of the selected option.\n         *\n         * @public\n         */\n        this.selectedIndex = -1;\n        /**\n         * A collection of the selected options.\n         *\n         * @public\n         */\n        this.selectedOptions = [];\n        /**\n         * A standard `click` event creates a `focus` event before firing, so a\n         * `mousedown` event is used to skip that initial focus.\n         *\n         * @internal\n         */\n        this.shouldSkipFocus = false;\n        /**\n         * The current typeahead buffer string.\n         *\n         * @internal\n         */\n        this.typeaheadBuffer = \"\";\n        /**\n         * Flag for the typeahead timeout expiration.\n         *\n         * @internal\n         */\n        this.typeaheadExpired = true;\n        /**\n         * The timeout ID for the typeahead handler.\n         *\n         * @internal\n         */\n        this.typeaheadTimeout = -1;\n    }\n    /**\n     * The first selected option.\n     *\n     * @internal\n     */\n    get firstSelectedOption() {\n        var _a;\n        return (_a = this.selectedOptions[0]) !== null && _a !== void 0 ? _a : null;\n    }\n    /**\n     * Returns true if there is one or more selectable option.\n     *\n     * @internal\n     */\n    get hasSelectableOptions() {\n        return this.options.length > 0 && !this.options.every(o => o.disabled);\n    }\n    /**\n     * The number of options.\n     *\n     * @public\n     */\n    get length() {\n        var _a, _b;\n        return (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0;\n    }\n    /**\n     * The list of options.\n     *\n     * @public\n     */\n    get options() {\n        Observable.track(this, \"options\");\n        return this._options;\n    }\n    set options(value) {\n        this._options = value;\n        Observable.notify(this, \"options\");\n    }\n    /**\n     * Flag for the typeahead timeout expiration.\n     *\n     * @deprecated use `Listbox.typeaheadExpired`\n     * @internal\n     */\n    get typeAheadExpired() {\n        return this.typeaheadExpired;\n    }\n    set typeAheadExpired(value) {\n        this.typeaheadExpired = value;\n    }\n    /**\n     * A static filter to include only selectable options.\n     *\n     * @param n - element to filter\n     * @public\n     */\n    static slottedOptionFilter(n) {\n        return isListboxOption(n) && !n.hidden;\n    }\n    /**\n     * Handle click events for listbox options.\n     *\n     * @internal\n     */\n    clickHandler(e) {\n        const captured = e.target.closest(`option,[role=option]`);\n        if (captured && !captured.disabled) {\n            this.selectedIndex = this.options.indexOf(captured);\n            return true;\n        }\n    }\n    /**\n     * Ensures that the provided option is focused and scrolled into view.\n     *\n     * @param optionToFocus - The option to focus\n     * @internal\n     */\n    focusAndScrollOptionIntoView(optionToFocus = this.firstSelectedOption) {\n        // To ensure that the browser handles both `focus()` and `scrollIntoView()`, the\n        // timing here needs to guarantee that they happen on different frames. Since this\n        // function is typically called from the `openChanged` observer, `DOM.queueUpdate`\n        // causes the calls to be grouped into the same frame. To prevent this,\n        // `requestAnimationFrame` is used instead of `DOM.queueUpdate`.\n        if (this.contains(document.activeElement) && optionToFocus !== null) {\n            optionToFocus.focus();\n            requestAnimationFrame(() => {\n                optionToFocus.scrollIntoView({ block: \"nearest\" });\n            });\n        }\n    }\n    /**\n     * Handles `focusin` actions for the component. When the component receives focus,\n     * the list of selected options is refreshed and the first selected option is scrolled\n     * into view.\n     *\n     * @internal\n     */\n    focusinHandler(e) {\n        if (!this.shouldSkipFocus && e.target === e.currentTarget) {\n            this.setSelectedOptions();\n            this.focusAndScrollOptionIntoView();\n        }\n        this.shouldSkipFocus = false;\n    }\n    /**\n     * Returns the options which match the current typeahead buffer.\n     *\n     * @internal\n     */\n    getTypeaheadMatches() {\n        const pattern = this.typeaheadBuffer.replace(/[.*+\\-?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n        const re = new RegExp(`^${pattern}`, \"gi\");\n        return this.options.filter((o) => o.text.trim().match(re));\n    }\n    /**\n     * Determines the index of the next option which is selectable, if any.\n     *\n     * @param prev - the previous selected index\n     * @param next - the next index to select\n     *\n     * @internal\n     */\n    getSelectableIndex(prev = this.selectedIndex, next) {\n        const direction = prev > next ? -1 : prev < next ? 1 : 0;\n        const potentialDirection = prev + direction;\n        let nextSelectableOption = null;\n        switch (direction) {\n            case -1: {\n                nextSelectableOption = this.options.reduceRight((nextSelectableOption, thisOption, index) => !nextSelectableOption &&\n                    !thisOption.disabled &&\n                    index < potentialDirection\n                    ? thisOption\n                    : nextSelectableOption, nextSelectableOption);\n                break;\n            }\n            case 1: {\n                nextSelectableOption = this.options.reduce((nextSelectableOption, thisOption, index) => !nextSelectableOption &&\n                    !thisOption.disabled &&\n                    index > potentialDirection\n                    ? thisOption\n                    : nextSelectableOption, nextSelectableOption);\n                break;\n            }\n        }\n        return this.options.indexOf(nextSelectableOption);\n    }\n    /**\n     * Handles external changes to child options.\n     *\n     * @param source - the source object\n     * @param propertyName - the property\n     *\n     * @internal\n     */\n    handleChange(source, propertyName) {\n        switch (propertyName) {\n            case \"selected\": {\n                if (FASTListbox.slottedOptionFilter(source)) {\n                    this.selectedIndex = this.options.indexOf(source);\n                }\n                this.setSelectedOptions();\n                break;\n            }\n        }\n    }\n    /**\n     * Moves focus to an option whose label matches characters typed by the user.\n     * Consecutive keystrokes are batched into a buffer of search text used\n     * to match against the set of options.  If `TYPE_AHEAD_TIMEOUT_MS` passes\n     * between consecutive keystrokes, the search restarts.\n     *\n     * @param key - the key to be evaluated\n     *\n     * @internal\n     */\n    handleTypeAhead(key) {\n        if (this.typeaheadTimeout) {\n            window.clearTimeout(this.typeaheadTimeout);\n        }\n        this.typeaheadTimeout = window.setTimeout(() => (this.typeaheadExpired = true), FASTListbox.TYPE_AHEAD_TIMEOUT_MS);\n        if (key.length > 1) {\n            return;\n        }\n        this.typeaheadBuffer = `${this.typeaheadExpired ? \"\" : this.typeaheadBuffer}${key}`;\n    }\n    /**\n     * Handles `keydown` actions for listbox navigation and typeahead.\n     *\n     * @internal\n     */\n    keydownHandler(e) {\n        if (this.disabled) {\n            return true;\n        }\n        this.shouldSkipFocus = false;\n        const key = e.key;\n        switch (key) {\n            // Select the first available option\n            case keyHome: {\n                if (!e.shiftKey) {\n                    e.preventDefault();\n                    this.selectFirstOption();\n                }\n                break;\n            }\n            // Select the next selectable option\n            case keyArrowDown: {\n                if (!e.shiftKey) {\n                    e.preventDefault();\n                    this.selectNextOption();\n                }\n                break;\n            }\n            // Select the previous selectable option\n            case keyArrowUp: {\n                if (!e.shiftKey) {\n                    e.preventDefault();\n                    this.selectPreviousOption();\n                }\n                break;\n            }\n            // Select the last available option\n            case keyEnd: {\n                e.preventDefault();\n                this.selectLastOption();\n                break;\n            }\n            case keyTab: {\n                this.focusAndScrollOptionIntoView();\n                return true;\n            }\n            case keyEnter:\n            case keyEscape: {\n                return true;\n            }\n            case keySpace: {\n                if (this.typeaheadExpired) {\n                    return true;\n                }\n            }\n            // Send key to Typeahead handler\n            default: {\n                if (key.length === 1) {\n                    this.handleTypeAhead(`${key}`);\n                }\n                return true;\n            }\n        }\n    }\n    /**\n     * Prevents `focusin` events from firing before `click` events when the\n     * element is unfocused.\n     *\n     * @internal\n     */\n    mousedownHandler(e) {\n        this.shouldSkipFocus = !this.contains(document.activeElement);\n        return true;\n    }\n    /**\n     * Switches between single-selection and multi-selection mode.\n     *\n     * @param prev - the previous value of the `multiple` attribute\n     * @param next - the next value of the `multiple` attribute\n     *\n     * @internal\n     */\n    multipleChanged(prev, next) {\n        this.ariaMultiSelectable = next ? \"true\" : null;\n    }\n    /**\n     * Updates the list of selected options when the `selectedIndex` changes.\n     *\n     * @param prev - the previous selected index value\n     * @param next - the current selected index value\n     *\n     * @internal\n     */\n    selectedIndexChanged(prev, next) {\n        var _a;\n        if (!this.hasSelectableOptions) {\n            this.selectedIndex = -1;\n            return;\n        }\n        if (((_a = this.options[this.selectedIndex]) === null || _a === void 0 ? void 0 : _a.disabled) && typeof prev === \"number\") {\n            const selectableIndex = this.getSelectableIndex(prev, next);\n            const newNext = selectableIndex > -1 ? selectableIndex : prev;\n            this.selectedIndex = newNext;\n            if (next === newNext) {\n                this.selectedIndexChanged(next, newNext);\n            }\n            return;\n        }\n        this.setSelectedOptions();\n    }\n    /**\n     * Updates the selectedness of each option when the list of selected options changes.\n     *\n     * @param prev - the previous list of selected options\n     * @param next - the current list of selected options\n     *\n     * @internal\n     */\n    selectedOptionsChanged(prev, next) {\n        var _a;\n        const filteredNext = next.filter(FASTListbox.slottedOptionFilter);\n        (_a = this.options) === null || _a === void 0 ? void 0 : _a.forEach(o => {\n            const notifier = Observable.getNotifier(o);\n            notifier.unsubscribe(this, \"selected\");\n            o.selected = filteredNext.includes(o);\n            notifier.subscribe(this, \"selected\");\n        });\n    }\n    /**\n     * Moves focus to the first selectable option.\n     *\n     * @public\n     */\n    selectFirstOption() {\n        var _a, _b;\n        if (!this.disabled) {\n            this.selectedIndex = (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.findIndex(o => !o.disabled)) !== null && _b !== void 0 ? _b : -1;\n        }\n    }\n    /**\n     * Moves focus to the last selectable option.\n     *\n     * @internal\n     */\n    selectLastOption() {\n        if (!this.disabled) {\n            this.selectedIndex = findLastIndex(this.options, o => !o.disabled);\n        }\n    }\n    /**\n     * Moves focus to the next selectable option.\n     *\n     * @internal\n     */\n    selectNextOption() {\n        if (!this.disabled && this.selectedIndex < this.options.length - 1) {\n            this.selectedIndex += 1;\n        }\n    }\n    /**\n     * Moves focus to the previous selectable option.\n     *\n     * @internal\n     */\n    selectPreviousOption() {\n        if (!this.disabled && this.selectedIndex > 0) {\n            this.selectedIndex = this.selectedIndex - 1;\n        }\n    }\n    /**\n     * Updates the selected index to match the first selected option.\n     *\n     * @internal\n     */\n    setDefaultSelectedOption() {\n        var _a, _b;\n        this.selectedIndex = (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.findIndex(el => el.defaultSelected)) !== null && _b !== void 0 ? _b : -1;\n    }\n    /**\n     * Sets an option as selected and gives it focus.\n     *\n     * @public\n     */\n    setSelectedOptions() {\n        var _a, _b, _c;\n        if ((_a = this.options) === null || _a === void 0 ? void 0 : _a.length) {\n            this.selectedOptions = [this.options[this.selectedIndex]];\n            this.ariaActiveDescendant = (_c = (_b = this.firstSelectedOption) === null || _b === void 0 ? void 0 : _b.id) !== null && _c !== void 0 ? _c : \"\";\n            this.focusAndScrollOptionIntoView();\n        }\n    }\n    /**\n     * Updates the list of options and resets the selected option when the slotted option content changes.\n     *\n     * @param prev - the previous list of slotted options\n     * @param next - the current list of slotted options\n     *\n     * @internal\n     */\n    slottedOptionsChanged(prev, next) {\n        this.options = next.reduce((options, item) => {\n            if (isListboxOption(item)) {\n                options.push(item);\n            }\n            return options;\n        }, []);\n        const setSize = `${this.options.length}`;\n        this.options.forEach((option, index) => {\n            if (!option.id) {\n                option.id = uniqueId(\"option-\");\n            }\n            option.ariaPosInSet = `${index + 1}`;\n            option.ariaSetSize = setSize;\n        });\n        if (this.$fastController.isConnected) {\n            this.setSelectedOptions();\n            this.setDefaultSelectedOption();\n        }\n    }\n    /**\n     * Updates the filtered list of options when the typeahead buffer changes.\n     *\n     * @param prev - the previous typeahead buffer value\n     * @param next - the current typeahead buffer value\n     *\n     * @internal\n     */\n    typeaheadBufferChanged(prev, next) {\n        if (this.$fastController.isConnected) {\n            const typeaheadMatches = this.getTypeaheadMatches();\n            if (typeaheadMatches.length) {\n                const selectedIndex = this.options.indexOf(typeaheadMatches[0]);\n                if (selectedIndex > -1) {\n                    this.selectedIndex = selectedIndex;\n                }\n            }\n            this.typeaheadExpired = false;\n        }\n    }\n}\n/**\n * Typeahead timeout in milliseconds.\n *\n * @internal\n */\nFASTListbox.TYPE_AHEAD_TIMEOUT_MS = 1000;\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTListbox.prototype, \"disabled\", void 0);\n__decorate([\n    observable\n], FASTListbox.prototype, \"selectedIndex\", void 0);\n__decorate([\n    observable\n], FASTListbox.prototype, \"selectedOptions\", void 0);\n__decorate([\n    observable\n], FASTListbox.prototype, \"slottedOptions\", void 0);\n__decorate([\n    observable\n], FASTListbox.prototype, \"typeaheadBuffer\", void 0);\n/**\n * Includes ARIA states and properties relating to the ARIA listbox role\n *\n * @public\n */\nexport class DelegatesARIAListbox {\n}\n__decorate([\n    observable\n], DelegatesARIAListbox.prototype, \"ariaActiveDescendant\", void 0);\n__decorate([\n    observable\n], DelegatesARIAListbox.prototype, \"ariaDisabled\", void 0);\n__decorate([\n    observable\n], DelegatesARIAListbox.prototype, \"ariaExpanded\", void 0);\n__decorate([\n    observable\n], DelegatesARIAListbox.prototype, \"ariaMultiSelectable\", void 0);\napplyMixins(DelegatesARIAListbox, ARIAGlobalStatesAndProperties);\napplyMixins(FASTListbox, DelegatesARIAListbox);\n", "import { FormAssociated } from \"../form-associated/form-associated.js\";\nimport { FASTListbox } from \"../listbox/listbox.js\";\nclass _Combobox extends FASTListbox {\n}\n/**\n * A form-associated base class for the {@link (Combobox:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedCombobox extends FormAssociated(_Combobox) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"input\");\n    }\n}\n", "/**\n * Autocomplete values for combobox.\n * @public\n */\nexport const ComboboxAutocomplete = {\n    inline: \"inline\",\n    list: \"list\",\n    both: \"both\",\n    none: \"none\",\n};\n", "import { __awaiter, __decorate } from \"tslib\";\nimport { autoUpdate, computePosition, flip, hide, size } from \"@floating-ui/dom\";\nimport { attr, Observable, observable, Updates } from \"@microsoft/fast-element\";\nimport { limit, uniqueId } from \"@microsoft/fast-web-utilities\";\nimport { DelegatesARIAListbox } from \"../listbox/listbox.js\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { FormAssociatedCombobox } from \"./combobox.form-associated.js\";\nimport { ComboboxAutocomplete } from \"./combobox.options.js\";\n/**\n * A Combobox Custom HTML Element.\n * Implements the {@link https://w3c.github.io/aria-practices/#combobox | ARIA combobox }.\n *\n * @slot start - Content which can be provided before the input\n * @slot end - Content which can be provided after the input\n * @slot control - Used to replace the input element representing the combobox\n * @slot indicator - The visual indicator representing the expanded state\n * @slot - The default slot for the options\n * @csspart control - The wrapper element containing the input area, including start and end\n * @csspart selected-value - The input element representing the selected value\n * @csspart indicator - The element wrapping the indicator slot\n * @csspart listbox - The wrapper for the listbox slotted options\n * @fires change - Fires a custom 'change' event when the value updates\n *\n * @public\n */\nexport class FASTCombobox extends FormAssociatedCombobox {\n    constructor() {\n        super(...arguments);\n        /**\n         * The internal value property.\n         *\n         * @internal\n         */\n        this._value = \"\";\n        /**\n         * The collection of currently filtered options.\n         *\n         * @public\n         */\n        this.filteredOptions = [];\n        /**\n         * The current filter value.\n         *\n         * @internal\n         */\n        this.filter = \"\";\n        /**\n         * The unique id for the internal listbox element.\n         *\n         * @internal\n         */\n        this.listboxId = uniqueId(\"listbox-\");\n        /**\n         * The open attribute.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: open\n         */\n        this.open = false;\n    }\n    /**\n     * Reset the element to its first selectable option when its parent form is reset.\n     *\n     * @internal\n     */\n    formResetCallback() {\n        var _a;\n        super.formResetCallback();\n        this.setDefaultSelectedOption();\n        if (!this.firstSelectedOption) {\n            this.value = (_a = this.initialValue) !== null && _a !== void 0 ? _a : \"\";\n            return;\n        }\n        this.updateValue();\n    }\n    /** {@inheritDoc (FormAssociated:interface).validate} */\n    validate() {\n        super.validate(this.control);\n    }\n    get isAutocompleteInline() {\n        return (this.autocomplete === ComboboxAutocomplete.inline || this.isAutocompleteBoth);\n    }\n    get isAutocompleteList() {\n        return this.autocomplete === ComboboxAutocomplete.list || this.isAutocompleteBoth;\n    }\n    get isAutocompleteBoth() {\n        return this.autocomplete === ComboboxAutocomplete.both;\n    }\n    /**\n     * Sets focus and synchronize ARIA attributes when the open property changes.\n     *\n     * @param prev - the previous open value\n     * @param next - the current open value\n     *\n     * @internal\n     */\n    openChanged() {\n        if (this.open) {\n            this.ariaControls = this.listboxId;\n            this.ariaExpanded = \"true\";\n            Updates.enqueue(() => this.setPositioning());\n            this.focusAndScrollOptionIntoView();\n            // focus is directed to the element when `open` is changed programmatically\n            Updates.enqueue(() => this.focus());\n            return;\n        }\n        this.ariaControls = \"\";\n        this.ariaExpanded = \"false\";\n    }\n    /**\n     * The list of options.\n     *\n     * @public\n     * @remarks\n     * Overrides `Listbox.options`.\n     */\n    get options() {\n        Observable.track(this, \"options\");\n        return this.filteredOptions.length ? this.filteredOptions : this._options;\n    }\n    set options(value) {\n        this._options = value;\n        Observable.notify(this, \"options\");\n    }\n    /**\n     * Updates the placeholder on the proxy element.\n     * @internal\n     */\n    placeholderChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.placeholder = this.placeholder;\n        }\n    }\n    /**\n     * The value property.\n     *\n     * @public\n     */\n    get value() {\n        Observable.track(this, \"value\");\n        return this._value;\n    }\n    set value(next) {\n        var _a, _b, _c;\n        const prev = `${this._value}`;\n        if (this.$fastController.isConnected && this.options) {\n            const selectedIndex = this.options.findIndex(el => el.text.toLowerCase() === next.toLowerCase());\n            const prevSelectedValue = (_a = this.options[this.selectedIndex]) === null || _a === void 0 ? void 0 : _a.text;\n            const nextSelectedValue = (_b = this.options[selectedIndex]) === null || _b === void 0 ? void 0 : _b.text;\n            this.selectedIndex =\n                prevSelectedValue !== nextSelectedValue\n                    ? selectedIndex\n                    : this.selectedIndex;\n            next = ((_c = this.firstSelectedOption) === null || _c === void 0 ? void 0 : _c.text) || next;\n        }\n        if (prev !== next) {\n            this._value = next;\n            super.valueChanged(prev, next);\n            Observable.notify(this, \"value\");\n        }\n    }\n    /**\n     * Handle opening and closing the listbox when the combobox is clicked.\n     *\n     * @param e - the mouse event\n     * @internal\n     */\n    clickHandler(e) {\n        if (this.disabled) {\n            return;\n        }\n        if (this.open) {\n            const captured = e.target.closest(`option,[role=option]`);\n            if (!captured || captured.disabled) {\n                return;\n            }\n            this.selectedOptions = [captured];\n            this.control.value = captured.text;\n            this.clearSelectionRange();\n            this.updateValue(true);\n        }\n        this.open = !this.open;\n        if (this.open) {\n            this.control.focus();\n        }\n        return true;\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        if (this.value) {\n            this.initialValue = this.value;\n        }\n    }\n    /**\n     * Synchronize the `aria-disabled` property when the `disabled` property changes.\n     *\n     * @param prev - The previous disabled value\n     * @param next - The next disabled value\n     *\n     * @internal\n     */\n    disabledChanged(prev, next) {\n        if (super.disabledChanged) {\n            super.disabledChanged(prev, next);\n        }\n        this.ariaDisabled = this.disabled ? \"true\" : \"false\";\n    }\n    disconnectedCallback() {\n        var _a;\n        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);\n        super.disconnectedCallback();\n    }\n    /**\n     * Filter available options by text value.\n     *\n     * @public\n     */\n    filterOptions() {\n        if (!this.autocomplete || this.autocomplete === ComboboxAutocomplete.none) {\n            this.filter = \"\";\n        }\n        const filter = this.filter.toLowerCase();\n        this.filteredOptions = this._options.filter(o => o.text.toLowerCase().startsWith(this.filter.toLowerCase()));\n        if (this.isAutocompleteList) {\n            if (!this.filteredOptions.length && !filter) {\n                this.filteredOptions = this._options;\n            }\n            this._options.forEach(o => {\n                o.hidden = !this.filteredOptions.includes(o);\n            });\n        }\n    }\n    /**\n     * Focus the control and scroll the first selected option into view.\n     *\n     * @internal\n     * @remarks\n     * Overrides: `Listbox.focusAndScrollOptionIntoView`\n     */\n    focusAndScrollOptionIntoView() {\n        if (this.contains(document.activeElement)) {\n            this.control.focus();\n            if (this.firstSelectedOption) {\n                requestAnimationFrame(() => {\n                    var _a;\n                    (_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.scrollIntoView({ block: \"nearest\" });\n                });\n            }\n        }\n    }\n    /**\n     * Handle focus state when the element or its children lose focus.\n     *\n     * @param e - The focus event\n     * @internal\n     */\n    focusoutHandler(e) {\n        this.updateValue();\n        if (!this.open) {\n            return true;\n        }\n        const focusTarget = e.relatedTarget;\n        if (this.isSameNode(focusTarget)) {\n            this.focus();\n            return;\n        }\n        if (!this.options || !this.options.includes(focusTarget)) {\n            this.open = false;\n        }\n    }\n    /**\n     * Handle content changes on the control input.\n     *\n     * @param e - the input event\n     * @internal\n     */\n    inputHandler(e) {\n        this.filter = this.control.value;\n        this.filterOptions();\n        if (e.inputType === \"deleteContentBackward\" || !this.filter.length) {\n            return true;\n        }\n        if (this.isAutocompleteList && !this.open) {\n            this.open = true;\n        }\n        if (this.isAutocompleteInline && this.filteredOptions.length) {\n            this.selectedOptions = [this.filteredOptions[0]];\n            this.selectedIndex = this.options.indexOf(this.firstSelectedOption);\n            this.setInlineSelection();\n        }\n        return;\n    }\n    /**\n     * Handle keydown actions for listbox navigation.\n     *\n     * @param e - the keyboard event\n     * @internal\n     */\n    keydownHandler(e) {\n        const key = e.key;\n        if (e.ctrlKey || e.shiftKey) {\n            return true;\n        }\n        switch (key) {\n            case \"Enter\": {\n                this.updateValue(true);\n                if (this.isAutocompleteInline) {\n                    this.filter = this.value;\n                }\n                this.open = false;\n                this.clearSelectionRange();\n                break;\n            }\n            case \"Escape\": {\n                if (!this.isAutocompleteInline) {\n                    this.selectedIndex = -1;\n                }\n                if (this.open) {\n                    this.open = false;\n                    break;\n                }\n                this.value = \"\";\n                this.control.value = \"\";\n                this.filter = \"\";\n                this.filterOptions();\n                break;\n            }\n            case \"Tab\": {\n                this.updateValue();\n                if (!this.open) {\n                    return true;\n                }\n                e.preventDefault();\n                this.open = false;\n                break;\n            }\n            case \"ArrowUp\":\n            case \"ArrowDown\": {\n                this.filterOptions();\n                if (!this.open) {\n                    this.open = true;\n                    break;\n                }\n                if (this.filteredOptions.length > 0) {\n                    super.keydownHandler(e);\n                }\n                if (this.isAutocompleteInline) {\n                    this.updateValue();\n                    this.setInlineSelection();\n                }\n                break;\n            }\n            default: {\n                return true;\n            }\n        }\n    }\n    /**\n     * Handle keyup actions for value input and text field manipulations.\n     *\n     * @param e - the keyboard event\n     * @internal\n     */\n    keyupHandler(e) {\n        const key = e.key;\n        switch (key) {\n            case \"ArrowLeft\":\n            case \"ArrowRight\":\n            case \"Backspace\":\n            case \"Delete\":\n            case \"Home\":\n            case \"End\": {\n                this.filter = this.control.value;\n                this.selectedIndex = -1;\n                this.filterOptions();\n                break;\n            }\n        }\n    }\n    /**\n     * Ensure that the selectedIndex is within the current allowable filtered range.\n     *\n     * @param prev - the previous selected index value\n     * @param next - the current selected index value\n     *\n     * @internal\n     */\n    selectedIndexChanged(prev, next) {\n        if (this.$fastController.isConnected) {\n            next = limit(-1, this.options.length - 1, next);\n            // we only want to call the super method when the selectedIndex is in range\n            if (next !== this.selectedIndex) {\n                this.selectedIndex = next;\n                return;\n            }\n            super.selectedIndexChanged(prev, next);\n        }\n    }\n    /**\n     * Move focus to the previous selectable option.\n     *\n     * @internal\n     * @remarks\n     * Overrides `Listbox.selectPreviousOption`\n     */\n    selectPreviousOption() {\n        if (!this.disabled && this.selectedIndex >= 0) {\n            this.selectedIndex = this.selectedIndex - 1;\n        }\n    }\n    /**\n     * Set the default selected options at initialization or reset.\n     *\n     * @internal\n     * @remarks\n     * Overrides `Listbox.setDefaultSelectedOption`\n     */\n    setDefaultSelectedOption() {\n        if (this.$fastController.isConnected && this.options) {\n            const selectedIndex = this.options.findIndex(el => el.getAttribute(\"selected\") !== null || el.selected);\n            this.selectedIndex = selectedIndex;\n            if (!this.dirtyValue && this.firstSelectedOption) {\n                this.value = this.firstSelectedOption.text;\n            }\n            else {\n                this.value = \"\";\n            }\n            this.setSelectedOptions();\n        }\n    }\n    /**\n     * Focus and select the content of the control based on the first selected option.\n     *\n     * @param start - The index for the starting range\n     * @internal\n     */\n    setInlineSelection() {\n        if (this.firstSelectedOption) {\n            this.control.value = this.firstSelectedOption.text;\n            this.control.focus();\n            this.control.setSelectionRange(this.filter.length, this.control.value.length, \"backward\");\n        }\n    }\n    /**\n     * Calculate and apply listbox positioning based on available viewport space.\n     *\n     * @public\n     */\n    setPositioning() {\n        if (this.$fastController.isConnected) {\n            this.cleanup = autoUpdate(this, this.listbox, () => __awaiter(this, void 0, void 0, function* () {\n                var _a;\n                const { middlewareData, x, y } = yield computePosition(this, this.listbox, {\n                    placement: \"bottom\",\n                    strategy: \"fixed\",\n                    middleware: [\n                        flip(),\n                        size({\n                            apply: ({ availableHeight, rects }) => {\n                                Object.assign(this.listbox.style, {\n                                    maxHeight: `${availableHeight}px`,\n                                    width: `${rects.reference.width}px`,\n                                });\n                            },\n                        }),\n                        hide(),\n                    ],\n                });\n                if ((_a = middlewareData.hide) === null || _a === void 0 ? void 0 : _a.referenceHidden) {\n                    this.open = false;\n                    this.cleanup();\n                    return;\n                }\n                Object.assign(this.listbox.style, {\n                    position: \"fixed\",\n                    top: \"0\",\n                    left: \"0\",\n                    transform: `translate(${x}px, ${y}px)`,\n                });\n            }));\n        }\n    }\n    /**\n     * Ensure that the entire list of options is used when setting the selected property.\n     *\n     * @param prev - the previous list of selected options\n     * @param next - the current list of selected options\n     *\n     * @internal\n     * @remarks\n     * Overrides: `Listbox.selectedOptionsChanged`\n     */\n    selectedOptionsChanged(prev, next) {\n        if (this.$fastController.isConnected) {\n            this._options.forEach(o => {\n                o.selected = next.includes(o);\n            });\n        }\n    }\n    /**\n     * Synchronize the form-associated proxy and update the value property of the element.\n     *\n     * @param prev - the previous collection of slotted option elements\n     * @param next - the next collection of slotted option elements\n     *\n     * @internal\n     */\n    slottedOptionsChanged(prev, next) {\n        super.slottedOptionsChanged(prev, next);\n        this.updateValue();\n    }\n    /**\n     * Sets the value and to match the first selected option.\n     *\n     * @param shouldEmit - if true, the change event will be emitted\n     *\n     * @internal\n     */\n    updateValue(shouldEmit) {\n        var _a;\n        if (this.$fastController.isConnected) {\n            this.value = ((_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.text) || this.control.value;\n        }\n        if (shouldEmit) {\n            this.$emit(\"change\");\n        }\n    }\n    /**\n     * @internal\n     */\n    clearSelectionRange() {\n        const controlValueLength = this.control.value.length;\n        this.control.setSelectionRange(controlValueLength, controlValueLength);\n    }\n}\n__decorate([\n    attr({ attribute: \"autocomplete\", mode: \"fromView\" })\n], FASTCombobox.prototype, \"autocomplete\", void 0);\n__decorate([\n    attr({ attribute: \"open\", mode: \"boolean\" })\n], FASTCombobox.prototype, \"open\", void 0);\n__decorate([\n    attr\n], FASTCombobox.prototype, \"placeholder\", void 0);\n/**\n * Includes ARIA states and properties relating to the ARIA combobox role.\n *\n * @public\n */\nexport class DelegatesARIACombobox {\n}\n__decorate([\n    observable\n], DelegatesARIACombobox.prototype, \"ariaAutoComplete\", void 0);\n__decorate([\n    observable\n], DelegatesARIACombobox.prototype, \"ariaControls\", void 0);\napplyMixins(DelegatesARIACombobox, DelegatesARIAListbox);\napplyMixins(FASTCombobox, StartEnd, DelegatesARIACombobox);\n", "import { html, ref, slotted } from \"@microsoft/fast-element\";\nimport { staticallyCompose } from \"../utilities/template-helpers.js\";\nimport { FASTListbox } from \"../listbox/listbox.js\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTCombobox:class)} component.\n * @public\n */\nexport function comboboxTemplate(options = {}) {\n    return html `\n        <template\n            aria-disabled=\"${x => x.ariaDisabled}\"\n            autocomplete=\"${x => x.autocomplete}\"\n            ?open=\"${x => x.open}\"\n            tabindex=\"${x => (!x.disabled ? \"0\" : null)}\"\n            @click=\"${(x, c) => x.clickHandler(c.event)}\"\n            @focusout=\"${(x, c) => x.focusoutHandler(c.event)}\"\n            @keydown=\"${(x, c) => x.keydownHandler(c.event)}\"\n        >\n            <div class=\"control\" part=\"control\">\n                ${startSlotTemplate(options)}\n                <slot name=\"control\">\n                    <input\n                        aria-activedescendant=\"${x => x.open ? x.ariaActiveDescendant : null}\"\n                        aria-autocomplete=\"${x => x.ariaAutoComplete}\"\n                        aria-controls=\"${x => x.ariaControls}\"\n                        aria-disabled=\"${x => x.ariaDisabled}\"\n                        aria-expanded=\"${x => x.ariaExpanded}\"\n                        aria-haspopup=\"listbox\"\n                        class=\"selected-value\"\n                        part=\"selected-value\"\n                        placeholder=\"${x => x.placeholder}\"\n                        role=\"combobox\"\n                        type=\"text\"\n                        ?disabled=\"${x => x.disabled}\"\n                        :value=\"${x => x.value}\"\n                        @input=\"${(x, c) => x.inputHandler(c.event)}\"\n                        @keyup=\"${(x, c) => x.keyupHandler(c.event)}\"\n                        ${ref(\"control\")}\n                    />\n                    <div class=\"indicator\" part=\"indicator\" aria-hidden=\"true\">\n                        <slot name=\"indicator\">\n                            ${staticallyCompose(options.indicator)}\n                        </slot>\n                    </div>\n                </slot>\n                ${endSlotTemplate(options)}\n            </div>\n            <div\n                class=\"listbox\"\n                id=\"${x => x.listboxId}\"\n                part=\"listbox\"\n                role=\"listbox\"\n                ?disabled=\"${x => x.disabled}\"\n                ?hidden=\"${x => !x.open}\"\n                ${ref(\"listbox\")}\n            >\n                <slot\n                    ${slotted({\n        filter: FASTListbox.slottedOptionFilter,\n        flatten: true,\n        property: \"slottedOptions\",\n    })}\n                ></slot>\n            </div>\n        </template>\n    `;\n}\n", "import { children, elements, html } from \"@microsoft/fast-element\";\nimport { tagFor } from \"../patterns/tag-for.js\";\nfunction rowItemTemplate(options) {\n    const rowTag = html.partial(tagFor(options.dataGridRow));\n    return html `\n    <${rowTag}\n        :rowData=\"${x => x}\"\n        :cellItemTemplate=\"${(x, c) => c.parent.cellItemTemplate}\"\n        :headerCellItemTemplate=\"${(x, c) => c.parent.headerCellItemTemplate}\"\n    ></${rowTag}>\n`;\n}\n/**\n * Generates a template for the {@link @microsoft/fast-foundation#FASTDataGrid} component using\n * the provided prefix.\n *\n * @public\n */\nexport function dataGridTemplate(options) {\n    const rowTag = tagFor(options.dataGridRow);\n    return html `\n        <template\n            role=\"grid\"\n            tabindex=\"0\"\n            :rowElementTag=\"${rowTag}\"\n            :defaultRowItemTemplate=\"${rowItemTemplate(options)}\"\n            ${children({\n        property: \"rowElements\",\n        filter: elements(\"[role=row]\"),\n    })}\n        >\n            <slot></slot>\n        </template>\n    `;\n}\n", "import { DOM } from \"./dom.js\";\nimport { ExecutionContext } from \"./observation/observable.js\";\nimport { nextId } from \"./templating/markup.js\";\n/**\n * Retrieves the \"composed parent\" element of a node, ignoring DOM tree boundaries.\n * When the parent of a node is a shadow-root, it will return the host\n * element of the shadow root. Otherwise it will return the parent node or null if\n * no parent node exists.\n * @param element - The element for which to retrieve the composed parent\n *\n * @public\n */\nexport function composedParent(element) {\n    const parentNode = element.parentElement;\n    if (parentNode) {\n        return parentNode;\n    }\n    else {\n        const rootNode = element.getRootNode();\n        if (rootNode.host instanceof HTMLElement) {\n            // this is shadow-root\n            return rootNode.host;\n        }\n    }\n    return null;\n}\n/**\n * Determines if the reference element contains the test element in a \"composed\" DOM tree that\n * ignores shadow DOM boundaries.\n *\n * Returns true of the test element is a descendent of the reference, or exists in\n * a shadow DOM that is a logical descendent of the reference. Otherwise returns false.\n * @param reference - The element to test for containment against.\n * @param test - The element being tested for containment.\n *\n * @public\n */\nexport function composedContains(reference, test) {\n    let current = test;\n    while (current !== null) {\n        if (current === reference) {\n            return true;\n        }\n        current = composedParent(current);\n    }\n    return false;\n}\n/**\n * An extension of MutationObserver that supports unobserving nodes.\n * @internal\n */\nexport class UnobservableMutationObserver extends MutationObserver {\n    /**\n     * Creates an instance of UnobservableMutationObserver.\n     * @param callback - The callback to invoke when observed nodes are changed.\n     */\n    constructor(callback) {\n        function handler(mutations) {\n            this.callback.call(null, mutations.filter(record => this.observedNodes.has(record.target)));\n        }\n        super(handler);\n        this.callback = callback;\n        this.observedNodes = new Set();\n    }\n    observe(target, options) {\n        this.observedNodes.add(target);\n        super.observe(target, options);\n    }\n    unobserve(target) {\n        this.observedNodes.delete(target);\n        if (this.observedNodes.size < 1) {\n            this.disconnect();\n        }\n    }\n}\n/**\n * Bridges between ViewBehaviors and HostBehaviors, enabling a host to\n * control ViewBehaviors.\n * @public\n */\nexport const ViewBehaviorOrchestrator = Object.freeze({\n    /**\n     * Creates a ViewBehaviorOrchestrator.\n     * @param source - The source to to associate behaviors with.\n     * @returns A ViewBehaviorOrchestrator.\n     */\n    create(source) {\n        const behaviors = [];\n        const targets = {};\n        let unbindables = null;\n        let isConnected = false;\n        return {\n            source,\n            context: ExecutionContext.default,\n            targets,\n            get isBound() {\n                return isConnected;\n            },\n            addBehaviorFactory(factory, target) {\n                var _a, _b, _c, _d;\n                const compiled = factory;\n                compiled.id = (_a = compiled.id) !== null && _a !== void 0 ? _a : nextId();\n                compiled.targetNodeId = (_b = compiled.targetNodeId) !== null && _b !== void 0 ? _b : nextId();\n                compiled.targetTagName = (_c = target.tagName) !== null && _c !== void 0 ? _c : null;\n                compiled.policy = (_d = compiled.policy) !== null && _d !== void 0 ? _d : DOM.policy;\n                this.addTarget(compiled.targetNodeId, target);\n                this.addBehavior(compiled.createBehavior());\n            },\n            addTarget(nodeId, target) {\n                targets[nodeId] = target;\n            },\n            addBehavior(behavior) {\n                behaviors.push(behavior);\n                if (isConnected) {\n                    behavior.bind(this);\n                }\n            },\n            onUnbind(unbindable) {\n                if (unbindables === null) {\n                    unbindables = [];\n                }\n                unbindables.push(unbindable);\n            },\n            connectedCallback(controller) {\n                if (!isConnected) {\n                    isConnected = true;\n                    behaviors.forEach(x => x.bind(this));\n                }\n            },\n            disconnectedCallback(controller) {\n                if (isConnected) {\n                    isConnected = false;\n                    if (unbindables !== null) {\n                        unbindables.forEach(x => x.unbind(this));\n                    }\n                }\n            },\n        };\n    },\n});\n", "/**\n * Enumerates the data grid auto generated header options\n * default option generates a non-sticky header row\n *\n * @public\n */\nexport const GenerateHeaderOptions = {\n    none: \"none\",\n    default: \"default\",\n    sticky: \"sticky\",\n};\n/**\n * Enumerates possible data grid cell types.\n *\n * @public\n */\nexport const DataGridCellTypes = {\n    default: \"default\",\n    columnHeader: \"columnheader\",\n    rowHeader: \"rowheader\",\n};\n/**\n * Enumerates possible data grid row types\n *\n * @public\n */\nexport const DataGridRowTypes = {\n    default: \"default\",\n    header: \"header\",\n    stickyHeader: \"sticky-header\",\n};\n/**\n * Class names for the data grid cell\n * @public\n */\nexport const DataGridCellTypeClass = {\n    columnheader: \"column-header\",\n    default: \"\",\n    rowheader: \"row-header\",\n};\n/**\n * Roles for the data grid cell\n *\n * @public\n */\nexport const DataGridCellRole = {\n    columnheader: \"columnheader\",\n    rowheader: \"rowheader\",\n    default: \"gridcell\",\n};\n/**\n * Enumerates the data grid selection mode options\n *\n * @public\n */\nexport const DataGridSelectionMode = {\n    none: \"none\",\n    singleRow: \"single-row\",\n    multiRow: \"multi-row\",\n};\n/**\n * Enumerates the data grid selection behavior options\n *\n * @public\n */\nexport const DataGridSelectionBehavior = {\n    programmatic: \"programmatic\",\n    keyboardOnly: \"keyboard-only\",\n    auto: \"auto\",\n};\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, nullableNumberConverter, observable, oneWay, RepeatDirective, Updates, } from \"@microsoft/fast-element\";\nimport { ViewBehaviorOrchestrator } from \"@microsoft/fast-element/utilities.js\";\nimport { eventFocus, eventFocusOut, eventKeyDown, keyArrowDown, keyArrowUp, keyEnd, keyHome, keyPageDown, keyPageUp, } from \"@microsoft/fast-web-utilities\";\nimport { DataGridRowTypes, DataGridSelectionBehavior, DataGridSelectionMode, GenerateHeaderOptions, } from \"./data-grid.options.js\";\nexport { DataGridRowTypes, DataGridSelectionBehavior, DataGridSelectionMode, GenerateHeaderOptions, };\n/**\n * A Data Grid Custom HTML Element.\n *\n * @slot - The default slot for custom row elements\n * @public\n */\nexport class FASTDataGrid extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * When true the component will not add itself to the tab queue.\n         * Default is false.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: no-tabbing\n         */\n        this.noTabbing = false;\n        /**\n         *  Whether the grid should automatically generate a header row and its type\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: generate-header\n         */\n        this.generateHeader = GenerateHeaderOptions.default;\n        /**\n         * Defines how the grid handles row or cell selection.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: selection-mode\n         */\n        this.selectionMode = DataGridSelectionMode.none;\n        /**\n         * Controls selection behavior\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: selection-behavior\n         */\n        this.selectionBehavior = DataGridSelectionBehavior.auto;\n        /**\n         * Callback that determines whether a particular row is selectable or not (depends on selectionMode also)\n         * By default all rows except header rows are selectable.\n         *\n         * @public\n         */\n        this.rowSelectableCallback = FASTDataGrid.defaultRowSelectableCallback;\n        /**\n         * The data being displayed in the grid\n         *\n         * @public\n         */\n        this.rowsData = [];\n        /**\n         * The column definitions of the grid\n         *\n         * @public\n         */\n        this.columnDefinitions = null;\n        /**\n         * The index of the row that will receive focus the next time the\n         * grid is focused. This value changes as focus moves to different\n         * rows within the grid.  Changing this value when focus is already\n         * within the grid moves focus to the specified row.\n         *\n         * @public\n         */\n        this.focusRowIndex = 0;\n        /**\n         * The index of the column that will receive focus the next time the\n         * grid is focused. This value changes as focus moves to different rows\n         * within the grid.  Changing this value when focus is already within\n         * the grid moves focus to the specified column.\n         *\n         * @public\n         */\n        this.focusColumnIndex = 0;\n        /**\n         * Selected row indexes\n         *\n         */\n        this._selectedRowIndexes = [];\n        this.rowsPlaceholder = null;\n        this.behaviorOrchestrator = null;\n        this.generatedHeader = null;\n        // flag to indicate whether the grid is actively updating focus\n        // (so we don't self-trigger changes)\n        this.isUpdatingFocus = false;\n        this.pendingFocusUpdate = false;\n        this.rowindexUpdateQueued = false;\n        this.columnDefinitionsStale = true;\n        this.generatedGridTemplateColumns = \"\";\n        this.lastNotShiftSelectedRowIndex = -1;\n        this.preShiftRowSelection = null;\n        this.selectionUpdated = false;\n        this.focusOnCell = (rowIndex, columnIndex, alignment) => {\n            if (this.rowElements.length === 0) {\n                this.focusRowIndex = 0;\n                this.focusColumnIndex = 0;\n                return;\n            }\n            const focusRowIndex = Math.max(0, Math.min(this.rowElements.length - 1, rowIndex));\n            const focusRow = this.rowElements[focusRowIndex];\n            const cells = focusRow.querySelectorAll('[role=\"cell\"], [role=\"gridcell\"], [role=\"columnheader\"], [role=\"rowheader\"]');\n            const focusColumnIndex = Math.max(0, Math.min(cells.length - 1, columnIndex));\n            const focusTarget = cells[focusColumnIndex];\n            if (focusTarget) {\n                focusTarget.scrollIntoView({ block: alignment });\n                focusTarget.focus();\n            }\n        };\n        this.onChildListChange = (mutations, \n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\n        observer) => {\n            this.deselectAllRows();\n            if (mutations && mutations.length) {\n                mutations.forEach((mutation) => {\n                    mutation.addedNodes.forEach((newNode) => {\n                        if (newNode.nodeType === 1 &&\n                            newNode.getAttribute(\"role\") === \"row\") {\n                            newNode.columnDefinitions =\n                                this.columnDefinitions;\n                        }\n                    });\n                });\n                this.queueRowIndexUpdate();\n            }\n        };\n        this.queueRowIndexUpdate = () => {\n            if (!this.rowindexUpdateQueued) {\n                this.rowindexUpdateQueued = true;\n                Updates.enqueue(this.updateRowIndexes);\n            }\n        };\n        this.updateRowIndexes = () => {\n            let newGridTemplateColumns = this.gridTemplateColumns;\n            if (newGridTemplateColumns === undefined) {\n                // try to generate columns based on manual rows\n                if (this.generatedGridTemplateColumns === \"\" && this.rowElements.length > 0) {\n                    const firstRow = this.rowElements[0];\n                    this.generatedGridTemplateColumns = new Array(firstRow.cellElements.length)\n                        .fill(\"1fr\")\n                        .join(\" \");\n                }\n                newGridTemplateColumns = this.generatedGridTemplateColumns;\n            }\n            this.rowElements.forEach((element, index) => {\n                const thisRow = element;\n                thisRow.rowIndex = index;\n                thisRow.gridTemplateColumns = newGridTemplateColumns;\n                thisRow.selectionBehavior = this.selectionBehavior;\n                if (this.selectionMode === DataGridSelectionMode.singleRow ||\n                    this.selectionMode === DataGridSelectionMode.multiRow) {\n                    thisRow.selected = this._selectedRowIndexes.includes(index)\n                        ? true\n                        : false;\n                }\n                if (this.columnDefinitionsStale) {\n                    thisRow.columnDefinitions = this.columnDefinitions;\n                }\n            });\n            this.rowindexUpdateQueued = false;\n            this.columnDefinitionsStale = false;\n            if (this.selectionUpdated) {\n                this.selectionUpdated = false;\n                this.$emit(\"selectionchange\");\n            }\n        };\n    }\n    /**\n     *  generates a basic column definition by examining sample row data\n     */\n    static generateColumns(row) {\n        return Object.getOwnPropertyNames(row).map((property, index) => {\n            return {\n                columnDataKey: property,\n                gridColumn: `${index}`,\n            };\n        });\n    }\n    /**\n     *  generates a gridTemplateColumns based on columndefinitions\n     */\n    static generateTemplateColumns(columnDefinitions) {\n        let templateColumns = \"\";\n        columnDefinitions.forEach((column) => {\n            templateColumns = `${templateColumns}${templateColumns === \"\" ? \"\" : \" \"}${\"1fr\"}`;\n        });\n        return templateColumns;\n    }\n    /**\n     * Default callback to determine if a row is selectable (also depends on selectionMode)\n     * By default all rows except for header rows are selectable\n     */\n    static defaultRowSelectableCallback(rowIndex, grid) {\n        if (grid.rowElements.length < rowIndex ||\n            grid.rowElements[rowIndex].rowType !==\n                DataGridRowTypes.default) {\n            return false;\n        }\n        return true;\n    }\n    noTabbingChanged() {\n        if (this.$fastController.isConnected) {\n            if (this.noTabbing) {\n                this.setAttribute(\"tabIndex\", \"-1\");\n            }\n            else {\n                this.setAttribute(\"tabIndex\", this.contains(document.activeElement) ||\n                    this === document.activeElement\n                    ? \"-1\"\n                    : \"0\");\n            }\n        }\n    }\n    generateHeaderChanged() {\n        if (this.$fastController.isConnected) {\n            this.toggleGeneratedHeader();\n        }\n    }\n    gridTemplateColumnsChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateRowIndexes();\n        }\n    }\n    selectionModeChanged(prev, next) {\n        if (this.$fastController.isConnected) {\n            if (prev === \"single-row\" || prev === \"multi-row\") {\n                this.removeEventListener(\"rowselectionchange\", this.handleRowSelectedChange);\n            }\n            if (next === \"single-row\" || next === \"multi-row\") {\n                this.addEventListener(\"rowselectionchange\", this.handleRowSelectedChange);\n            }\n            this.deselectAllRows();\n        }\n    }\n    rowsDataChanged() {\n        if (this.columnDefinitions === null && this.rowsData.length > 0) {\n            this.columnDefinitions = FASTDataGrid.generateColumns(this.rowsData[0]);\n        }\n        if (this.$fastController.isConnected) {\n            this.toggleGeneratedHeader();\n            this.deselectAllRows();\n        }\n    }\n    columnDefinitionsChanged() {\n        if (!this.columnDefinitions) {\n            return;\n        }\n        this.generatedGridTemplateColumns = FASTDataGrid.generateTemplateColumns(this.columnDefinitions);\n        if (this.$fastController.isConnected) {\n            this.columnDefinitionsStale = true;\n            this.queueRowIndexUpdate();\n        }\n    }\n    headerCellItemTemplateChanged() {\n        if (this.$fastController.isConnected) {\n            if (this.generatedHeader !== null) {\n                this.generatedHeader.headerCellItemTemplate = this.headerCellItemTemplate;\n            }\n        }\n    }\n    focusRowIndexChanged() {\n        if (this.$fastController.isConnected) {\n            this.queueFocusUpdate();\n        }\n    }\n    focusColumnIndexChanged() {\n        if (this.$fastController.isConnected) {\n            this.queueFocusUpdate();\n        }\n    }\n    /**\n     * The selectedRowIndexes property.\n     *\n     * @public\n     */\n    get selectedRowIndexes() {\n        return this._selectedRowIndexes.slice();\n    }\n    set selectedRowIndexes(next) {\n        if (this.selectionMode !== DataGridSelectionMode.multiRow &&\n            this.selectionMode !== DataGridSelectionMode.singleRow) {\n            return;\n        }\n        // cull unselectable rows\n        next = next.filter(rowIndex => this.rowSelectableCallback(rowIndex, this));\n        if (this.selectionMode === DataGridSelectionMode.singleRow && next.length > 1) {\n            this._selectedRowIndexes.splice(0, this.selectedRowIndexes.length, next[0]);\n        }\n        else {\n            this._selectedRowIndexes.splice(0, this.selectedRowIndexes.length, ...next);\n        }\n        this.selectionUpdated = true;\n        this.queueRowIndexUpdate();\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        if (this.rowItemTemplate === undefined) {\n            this.rowItemTemplate = this.defaultRowItemTemplate;\n        }\n        if (this.behaviorOrchestrator === null) {\n            this.behaviorOrchestrator = ViewBehaviorOrchestrator.create(this);\n            this.$fastController.addBehavior(this.behaviorOrchestrator);\n            this.behaviorOrchestrator.addBehaviorFactory(new RepeatDirective(oneWay(x => x.rowsData), oneWay(x => x.rowItemTemplate), { positioning: true }), this.appendChild((this.rowsPlaceholder = document.createComment(\"\"))));\n        }\n        this.toggleGeneratedHeader();\n        this.addEventListener(\"row-focused\", this.handleRowFocus);\n        this.addEventListener(eventFocus, this.handleFocus);\n        this.addEventListener(eventKeyDown, this.handleKeydown);\n        this.addEventListener(eventFocusOut, this.handleFocusOut);\n        if (this.selectionMode === DataGridSelectionMode.singleRow ||\n            this.selectionMode === DataGridSelectionMode.multiRow) {\n            this.addEventListener(\"rowselectionchange\", this.handleRowSelectedChange);\n        }\n        this.observer = new MutationObserver(this.onChildListChange);\n        // only observe if nodes are added or removed\n        this.observer.observe(this, { childList: true });\n        if (this.noTabbing) {\n            this.setAttribute(\"tabindex\", \"-1\");\n        }\n        // apply initial selection after the grid is populated\n        Updates.enqueue(() => {\n            if (this.selectionMode !== DataGridSelectionMode.none &&\n                this.initialRowSelection) {\n                const selectionAsArray = this.initialRowSelection.split(\",\");\n                const initialSelection = [];\n                selectionAsArray.forEach((element) => {\n                    initialSelection.push(parseInt(element.trim()));\n                });\n                this.updateSelectedRows(initialSelection);\n            }\n        });\n        this.queueRowIndexUpdate();\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.removeEventListener(\"row-focused\", this.handleRowFocus);\n        this.removeEventListener(eventFocus, this.handleFocus);\n        this.removeEventListener(eventKeyDown, this.handleKeydown);\n        this.removeEventListener(eventFocusOut, this.handleFocusOut);\n        if (this.selectionMode === DataGridSelectionMode.singleRow ||\n            this.selectionMode === DataGridSelectionMode.multiRow) {\n            this.removeEventListener(\"rowselectionchange\", this.handleRowSelectedChange);\n        }\n        this.observer.disconnect();\n        if (this.generatedHeader !== null) {\n            this.removeChild(this.generatedHeader);\n            this.generatedHeader = null;\n        }\n    }\n    /**\n     * @internal\n     */\n    handleRowFocus(e) {\n        this.isUpdatingFocus = true;\n        const focusRow = e.target;\n        this.focusRowIndex = this.rowElements.indexOf(focusRow);\n        this.focusColumnIndex = focusRow.focusColumnIndex;\n        this.setAttribute(\"tabIndex\", \"-1\");\n        this.isUpdatingFocus = false;\n    }\n    /**\n     * @internal\n     */\n    handleFocus(e) {\n        this.focusOnCell(this.focusRowIndex, this.focusColumnIndex, \"nearest\");\n    }\n    /**\n     * @internal\n     */\n    handleFocusOut(e) {\n        if (e.relatedTarget === null || !this.contains(e.relatedTarget)) {\n            this.setAttribute(\"tabIndex\", this.noTabbing ? \"-1\" : \"0\");\n        }\n    }\n    /**\n     * @internal\n     */\n    handleKeydown(e) {\n        if (e.defaultPrevented) {\n            return;\n        }\n        let newFocusRowIndex;\n        switch (e.key) {\n            case keyArrowUp:\n                e.preventDefault();\n                // focus up one row\n                this.focusOnCell(this.focusRowIndex - 1, this.focusColumnIndex, \"nearest\");\n                break;\n            case keyArrowDown:\n                e.preventDefault();\n                // focus down one row\n                this.focusOnCell(this.focusRowIndex + 1, this.focusColumnIndex, \"nearest\");\n                break;\n            case keyPageUp:\n                e.preventDefault();\n                if (this.rowElements.length === 0) {\n                    this.focusOnCell(0, 0, \"nearest\");\n                    break;\n                }\n                newFocusRowIndex = Math.max(0, this.focusRowIndex - this.getPageSize());\n                this.focusOnCell(newFocusRowIndex, this.focusColumnIndex, \"start\");\n                break;\n            case keyPageDown:\n                e.preventDefault();\n                if (this.rowElements.length === 0) {\n                    this.focusOnCell(0, 0, \"nearest\");\n                    break;\n                }\n                newFocusRowIndex = Math.min(this.rowElements.length - 1, this.focusRowIndex + this.getPageSize());\n                this.focusOnCell(newFocusRowIndex, this.focusColumnIndex, \"end\");\n                break;\n            case keyHome:\n                if (e.ctrlKey) {\n                    e.preventDefault();\n                    // focus first cell of first row\n                    this.focusOnCell(0, 0, \"nearest\");\n                }\n                break;\n            case keyEnd:\n                if (e.ctrlKey && this.columnDefinitions !== null) {\n                    e.preventDefault();\n                    // focus last cell of last row\n                    this.focusOnCell(this.rowElements.length - 1, this.columnDefinitions.length - 1, \"nearest\");\n                }\n                break;\n            case \"a\":\n                if (!e.ctrlKey) {\n                    return;\n                }\n                switch (this.selectionMode) {\n                    case \"multi-row\":\n                        this.selectAllRows();\n                        e.preventDefault();\n                        return;\n                }\n                break;\n        }\n    }\n    handleRowSelectedChange(e) {\n        if (e.defaultPrevented || this.selectionMode === DataGridSelectionMode.none) {\n            return;\n        }\n        const path = e.composedPath();\n        const rowMatch = path.find((target) => {\n            return this.rowElements.indexOf(target) !== -1;\n        });\n        if (rowMatch) {\n            e.preventDefault();\n            const changedRow = rowMatch;\n            const changeEventDetail = e.detail;\n            switch (this.selectionMode) {\n                case DataGridSelectionMode.singleRow:\n                    this.handleSingleRowSelection(changedRow, changeEventDetail);\n                    break;\n                case DataGridSelectionMode.multiRow:\n                    if (changeEventDetail.isKeyboardEvent) {\n                        this.handleMultiRowKeyboardSelection(changedRow, changeEventDetail);\n                    }\n                    else {\n                        this.handleMultiRowPointerSelection(changedRow, changeEventDetail);\n                    }\n                    break;\n            }\n        }\n    }\n    handleMultiRowPointerSelection(changedRow, changeEventDetail) {\n        let newSelection = this.selectedRowIndexes.slice();\n        if (changeEventDetail.shiftKey) {\n            if (this.lastNotShiftSelectedRowIndex === -1) {\n                this.handleSingleRowSelection(changedRow, changeEventDetail);\n            }\n            else {\n                if (this.preShiftRowSelection !== null) {\n                    // undo the last thing\n                    newSelection = this.preShiftRowSelection.slice();\n                }\n                else {\n                    this.preShiftRowSelection = newSelection.slice();\n                }\n                const dirMod = changedRow.rowIndex > this.lastNotShiftSelectedRowIndex ? 1 : -1;\n                let i = this.lastNotShiftSelectedRowIndex + dirMod;\n                for (i; i !== changedRow.rowIndex + dirMod; i = i + dirMod) {\n                    const selectedRowIndex = newSelection.indexOf(i);\n                    if (!newSelection.includes(changedRow.rowIndex) &&\n                        selectedRowIndex === -1) {\n                        newSelection.push(i);\n                    }\n                }\n            }\n            this.updateSelectedRows(newSelection);\n        }\n        else if (changeEventDetail.ctrlKey) {\n            if (changeEventDetail.newValue &&\n                !newSelection.includes(changedRow.rowIndex)) {\n                newSelection.push(changedRow.rowIndex);\n                this.lastNotShiftSelectedRowIndex = changedRow.rowIndex;\n            }\n            if (!changeEventDetail.newValue &&\n                newSelection.includes(changedRow.rowIndex)) {\n                newSelection.splice(newSelection.indexOf(changedRow.rowIndex), 1);\n                this.lastNotShiftSelectedRowIndex = -1;\n            }\n            this.preShiftRowSelection = null;\n            this.updateSelectedRows(newSelection);\n        }\n        else {\n            this.handleSingleRowSelection(changedRow, changeEventDetail);\n            this.preShiftRowSelection = null;\n        }\n    }\n    handleMultiRowKeyboardSelection(changedRow, changeEventDetail) {\n        if (changeEventDetail.isKeyboardEvent && !changeEventDetail.shiftKey) {\n            return;\n        }\n        this.preShiftRowSelection = null;\n        this.lastNotShiftSelectedRowIndex = -1;\n        const newSelection = this.selectedRowIndexes.slice();\n        if (newSelection.includes(changedRow.rowIndex)) {\n            newSelection.splice(newSelection.indexOf(changedRow.rowIndex), 1);\n        }\n        else {\n            newSelection.push(changedRow.rowIndex);\n        }\n        this.updateSelectedRows(newSelection);\n    }\n    handleSingleRowSelection(changedRow, changeEventDetail) {\n        if (changeEventDetail.isKeyboardEvent && !changeEventDetail.shiftKey) {\n            return;\n        }\n        if (changeEventDetail.newValue) {\n            this.updateSelectedRows([changedRow.rowIndex]);\n            this.lastNotShiftSelectedRowIndex = changedRow.rowIndex;\n        }\n        else {\n            this.updateSelectedRows([]);\n            this.lastNotShiftSelectedRowIndex = -1;\n        }\n    }\n    getPageSize() {\n        if (this.pageSize) {\n            return this.pageSize;\n        }\n        let rowHeight = 50;\n        this.rowElements.forEach(element => {\n            var _a;\n            if (!element.hasAttribute(\"rowType\") ||\n                !((_a = element.getAttribute(\"rowType\")) === null || _a === void 0 ? void 0 : _a.includes(\"header\"))) {\n                rowHeight = element.clientHeight;\n            }\n        });\n        let pageSize = 1;\n        if (rowHeight === 0) {\n            return pageSize;\n        }\n        if (this.clientHeight < this.scrollHeight) {\n            pageSize = this.clientHeight / rowHeight;\n        }\n        else {\n            pageSize = document.body.clientHeight / rowHeight;\n        }\n        pageSize = Math.max(Math.round(pageSize), 1);\n        return pageSize;\n    }\n    /**\n     * Validates that new selected rows are selectable and updates the selectedRowIndexes prop\n     */\n    updateSelectedRows(newSelection) {\n        this.selectedRowIndexes = newSelection;\n    }\n    selectAllRows() {\n        if (this.selectionMode !== DataGridSelectionMode.multiRow ||\n            this.rowElements.length === 0) {\n            return;\n        }\n        const unselectableRowIndexes = [];\n        for (let index = 0, maxIndex = this.rowElements.length; index < maxIndex; index++) {\n            if (!this.rowSelectableCallback(index, this)) {\n                unselectableRowIndexes.push(index);\n            }\n        }\n        const selectableRowCount = Math.max(this.rowElements.length - unselectableRowIndexes.length, 0);\n        if (this._selectedRowIndexes.length === selectableRowCount) {\n            // deselect all if all are already selected\n            this.updateSelectedRows([]);\n            return;\n        }\n        const newSelection = [];\n        this.rowElements.forEach(element => {\n            newSelection.push(element.rowIndex);\n        });\n        this.lastNotShiftSelectedRowIndex = -1;\n        this.updateSelectedRows(newSelection);\n    }\n    deselectAllRows() {\n        this.updateSelectedRows([]);\n        this.lastNotShiftSelectedRowIndex = -1;\n    }\n    queueFocusUpdate() {\n        if (this.isUpdatingFocus &&\n            (this.contains(document.activeElement) || this === document.activeElement)) {\n            return;\n        }\n        if (this.pendingFocusUpdate === false) {\n            this.pendingFocusUpdate = true;\n            Updates.enqueue(() => this.updateFocus());\n        }\n    }\n    updateFocus() {\n        this.pendingFocusUpdate = false;\n        this.focusOnCell(this.focusRowIndex, this.focusColumnIndex, \"nearest\");\n    }\n    toggleGeneratedHeader() {\n        if (this.generatedHeader !== null) {\n            this.removeChild(this.generatedHeader);\n            this.generatedHeader = null;\n        }\n        if (this.generateHeader !== GenerateHeaderOptions.none &&\n            this.columnDefinitions &&\n            this.columnDefinitions.length) {\n            const generatedHeaderElement = document.createElement(this.rowElementTag);\n            this.generatedHeader = generatedHeaderElement;\n            this.generatedHeader.columnDefinitions = this.columnDefinitions;\n            this.generatedHeader.gridTemplateColumns = this.gridTemplateColumns;\n            this.generatedHeader.rowType =\n                this.generateHeader === GenerateHeaderOptions.sticky\n                    ? DataGridRowTypes.stickyHeader\n                    : DataGridRowTypes.header;\n            if (this.firstChild !== null || this.rowsPlaceholder !== null) {\n                this.insertBefore(generatedHeaderElement, this.firstChild !== null ? this.firstChild : this.rowsPlaceholder);\n            }\n            return;\n        }\n    }\n}\n__decorate([\n    attr({ attribute: \"no-tabbing\", mode: \"boolean\" })\n], FASTDataGrid.prototype, \"noTabbing\", void 0);\n__decorate([\n    attr({ attribute: \"generate-header\" })\n], FASTDataGrid.prototype, \"generateHeader\", void 0);\n__decorate([\n    attr({ attribute: \"grid-template-columns\" })\n], FASTDataGrid.prototype, \"gridTemplateColumns\", void 0);\n__decorate([\n    attr({ attribute: \"page-size\", converter: nullableNumberConverter })\n], FASTDataGrid.prototype, \"pageSize\", void 0);\n__decorate([\n    attr({ attribute: \"selection-mode\" })\n], FASTDataGrid.prototype, \"selectionMode\", void 0);\n__decorate([\n    attr({ attribute: \"selection-behavior\" })\n], FASTDataGrid.prototype, \"selectionBehavior\", void 0);\n__decorate([\n    attr({ attribute: \"initial-row-selection\" })\n], FASTDataGrid.prototype, \"initialRowSelection\", void 0);\n__decorate([\n    observable\n], FASTDataGrid.prototype, \"rowSelectableCallback\", void 0);\n__decorate([\n    observable\n], FASTDataGrid.prototype, \"rowsData\", void 0);\n__decorate([\n    observable\n], FASTDataGrid.prototype, \"columnDefinitions\", void 0);\n__decorate([\n    observable\n], FASTDataGrid.prototype, \"rowItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTDataGrid.prototype, \"cellItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTDataGrid.prototype, \"headerCellItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTDataGrid.prototype, \"focusRowIndex\", void 0);\n__decorate([\n    observable\n], FASTDataGrid.prototype, \"focusColumnIndex\", void 0);\n__decorate([\n    observable\n], FASTDataGrid.prototype, \"defaultRowItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTDataGrid.prototype, \"rowElementTag\", void 0);\n__decorate([\n    observable\n], FASTDataGrid.prototype, \"rowElements\", void 0);\n", "import { children, elements, html, slotted, } from \"@microsoft/fast-element\";\nimport { tagFor } from \"../patterns/index.js\";\nfunction cellItemTemplate(options) {\n    const cellTag = html.partial(tagFor(options.dataGridCell));\n    return html `\n    <${cellTag}\n        cell-type=\"${x => (x.isRowHeader ? \"rowheader\" : undefined)}\"\n        grid-column=\"${(x, c) => c.index + 1}\"\n        :rowData=\"${(x, c) => c.parent.rowData}\"\n        :columnDefinition=\"${x => x}\"\n    ></${cellTag}>\n`;\n}\nfunction headerCellItemTemplate(options) {\n    const cellTag = html.partial(tagFor(options.dataGridCell));\n    return html `\n    <${cellTag}\n        cell-type=\"columnheader\"\n        grid-column=\"${(x, c) => c.index + 1}\"\n        :columnDefinition=\"${x => x}\"\n    ></${cellTag}>\n`;\n}\n/**\n * Generates a template for the {@link @microsoft/fast-foundation#FASTDataGridRow} component using\n * the provided prefix.\n *\n * @public\n */\nexport function dataGridRowTemplate(options) {\n    return html `\n        <template\n            role=\"row\"\n            :defaultCellItemTemplate=\"${cellItemTemplate(options)}\"\n            :defaultHeaderCellItemTemplate=\"${headerCellItemTemplate(options)}\"\n            aria-selected=\"${x => (x.selected !== undefined ? x.selected : void 0)}\"\n            ${children({\n        property: \"cellElements\",\n        filter: elements('[role=\"cell\"],[role=\"gridcell\"],[role=\"columnheader\"],[role=\"rowheader\"]'),\n    })}\n        >\n            <slot ${slotted(\"slottedCellElements\")}></slot>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, observable, oneWay, RepeatDirective, } from \"@microsoft/fast-element\";\nimport { ViewBehaviorOrchestrator } from \"@microsoft/fast-element/utilities.js\";\nimport { eventClick, eventFocusOut, eventKeyDown, keyArrowLeft, keyArrowRight, keyEnd, keyHome, keySpace, } from \"@microsoft/fast-web-utilities\";\nimport { DataGridRowTypes, DataGridSelectionBehavior, } from \"./data-grid.options.js\";\n/**\n * A Data Grid Row Custom HTML Element.\n *\n * @fires row-focused - Fires a custom 'row-focused' event when focus is on an element (usually a cell or its contents) in the row\n * @slot - The default slot for custom cell elements\n * @public\n */\nexport class FASTDataGridRow extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The type of row\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: row-type\n         */\n        this.rowType = DataGridRowTypes.default;\n        /**\n         * The base data for this row\n         *\n         * @public\n         */\n        this.rowData = null;\n        /**\n         * The column definitions of the row\n         *\n         * @public\n         */\n        this.columnDefinitions = null;\n        /**\n         * Whether focus is on/in a cell within this row.\n         *\n         * @internal\n         */\n        this.isActiveRow = false;\n        this.behaviorOrchestrator = null;\n        /**\n         * Selection behavior\n         *\n         * @internal\n         */\n        this.selectionBehavior = DataGridSelectionBehavior.auto;\n        /**\n         * @internal\n         */\n        this.focusColumnIndex = 0;\n        this.refocusOnLoad = false;\n        this.updateRowStyle = () => {\n            this.style.gridTemplateColumns = this.gridTemplateColumns;\n        };\n    }\n    gridTemplateColumnsChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateRowStyle();\n        }\n    }\n    rowTypeChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateItemTemplate();\n        }\n    }\n    rowDataChanged() {\n        if (this.rowData !== null && this.isActiveRow) {\n            this.refocusOnLoad = true;\n            return;\n        }\n    }\n    cellItemTemplateChanged() {\n        this.updateItemTemplate();\n    }\n    headerCellItemTemplateChanged() {\n        this.updateItemTemplate();\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        // note that row elements can be reused with a different data object\n        // as the parent grid's repeat behavior reacts to changes in the data set.\n        if (this.behaviorOrchestrator === null) {\n            this.updateItemTemplate();\n            this.behaviorOrchestrator = ViewBehaviorOrchestrator.create(this);\n            this.$fastController.addBehavior(this.behaviorOrchestrator);\n            this.behaviorOrchestrator.addBehaviorFactory(new RepeatDirective(oneWay(x => x.columnDefinitions), oneWay(x => x.activeCellItemTemplate), { positioning: true }), this.appendChild(document.createComment(\"\")));\n        }\n        this.addEventListener(\"cell-focused\", this.handleCellFocus);\n        this.addEventListener(eventFocusOut, this.handleFocusout);\n        this.addEventListener(eventKeyDown, this.handleKeydown);\n        this.addEventListener(eventClick, this.handleClick);\n        this.updateRowStyle();\n        if (this.refocusOnLoad) {\n            // if focus was on the row when data changed try to refocus on same cell\n            this.refocusOnLoad = false;\n            if (this.cellElements.length > this.focusColumnIndex) {\n                this.cellElements[this.focusColumnIndex].focus();\n            }\n        }\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.removeEventListener(\"cell-focused\", this.handleCellFocus);\n        this.removeEventListener(eventFocusOut, this.handleFocusout);\n        this.removeEventListener(eventKeyDown, this.handleKeydown);\n        this.removeEventListener(eventClick, this.handleClick);\n    }\n    /**\n     * Attempts to set the selected state of the row\n     *\n     * @public\n     */\n    toggleSelected(detail) {\n        this.$emit(\"rowselectionchange\", detail);\n    }\n    handleFocusout(e) {\n        if (!this.contains(e.target)) {\n            this.isActiveRow = false;\n            this.focusColumnIndex = 0;\n        }\n    }\n    /**\n     * @internal\n     */\n    handleCellFocus(e) {\n        this.isActiveRow = true;\n        this.focusColumnIndex = this.cellElements.indexOf(e.target);\n        this.$emit(\"row-focused\", this);\n    }\n    /**\n     * @internal\n     */\n    handleKeydown(e) {\n        if (e.defaultPrevented) {\n            return;\n        }\n        let newFocusColumnIndex = 0;\n        switch (e.key) {\n            case keyArrowLeft:\n                // focus left one cell\n                newFocusColumnIndex = Math.max(0, this.focusColumnIndex - 1);\n                this.cellElements[newFocusColumnIndex].focus();\n                e.preventDefault();\n                break;\n            case keyArrowRight:\n                // focus right one cell\n                newFocusColumnIndex = Math.min(this.cellElements.length - 1, this.focusColumnIndex + 1);\n                this.cellElements[newFocusColumnIndex].focus();\n                e.preventDefault();\n                break;\n            case keyHome:\n                if (!e.ctrlKey) {\n                    this.cellElements[0].focus();\n                    e.preventDefault();\n                }\n                break;\n            case keyEnd:\n                if (!e.ctrlKey) {\n                    // focus last cell of the row\n                    this.cellElements[this.cellElements.length - 1].focus();\n                    e.preventDefault();\n                }\n                break;\n            case keySpace:\n                if (this.selected !== undefined &&\n                    this.selectionBehavior !== DataGridSelectionBehavior.programmatic) {\n                    e.preventDefault();\n                    this.toggleSelected({\n                        newValue: !this.isSelected(),\n                        shiftKey: e.shiftKey,\n                        ctrlKey: e.ctrlKey,\n                        isKeyboardEvent: true,\n                    });\n                }\n                break;\n        }\n    }\n    isSelected() {\n        return this.selected;\n    }\n    /**\n     * @internal\n     */\n    handleClick(e) {\n        if (e.defaultPrevented ||\n            this.selectionBehavior !== DataGridSelectionBehavior.auto ||\n            this.selected === undefined) {\n            return;\n        }\n        e.preventDefault();\n        this.toggleSelected({\n            newValue: !this.isSelected(),\n            shiftKey: e.shiftKey,\n            ctrlKey: e.ctrlKey,\n            isKeyboardEvent: false,\n        });\n    }\n    updateItemTemplate() {\n        this.activeCellItemTemplate =\n            this.rowType === DataGridRowTypes.default &&\n                this.cellItemTemplate !== undefined\n                ? this.cellItemTemplate\n                : this.rowType === DataGridRowTypes.default &&\n                    this.cellItemTemplate === undefined\n                    ? this.defaultCellItemTemplate\n                    : this.headerCellItemTemplate !== undefined\n                        ? this.headerCellItemTemplate\n                        : this.defaultHeaderCellItemTemplate;\n    }\n}\n__decorate([\n    attr({ attribute: \"grid-template-columns\" })\n], FASTDataGridRow.prototype, \"gridTemplateColumns\", void 0);\n__decorate([\n    attr({ attribute: \"row-type\" })\n], FASTDataGridRow.prototype, \"rowType\", void 0);\n__decorate([\n    observable\n], FASTDataGridRow.prototype, \"rowData\", void 0);\n__decorate([\n    observable\n], FASTDataGridRow.prototype, \"columnDefinitions\", void 0);\n__decorate([\n    observable\n], FASTDataGridRow.prototype, \"cellItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTDataGridRow.prototype, \"headerCellItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTDataGridRow.prototype, \"rowIndex\", void 0);\n__decorate([\n    observable\n], FASTDataGridRow.prototype, \"isActiveRow\", void 0);\n__decorate([\n    observable\n], FASTDataGridRow.prototype, \"activeCellItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTDataGridRow.prototype, \"defaultCellItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTDataGridRow.prototype, \"defaultHeaderCellItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTDataGridRow.prototype, \"cellElements\", void 0);\n__decorate([\n    observable\n], FASTDataGridRow.prototype, \"selected\", void 0);\n", "import { html } from \"@microsoft/fast-element\";\nimport { DataGridCellRole } from \"./data-grid.options.js\";\n/**\n * Generates a template for the {@link @microsoft/fast-foundation#FASTDataGridCell} component using\n * the provided prefix.\n * @public\n */\nexport function dataGridCellTemplate() {\n    return html `\n        <template\n            tabindex=\"-1\"\n            role=\"${x => { var _a; return (_a = DataGridCellRole[x.cellType]) !== null && _a !== void 0 ? _a : DataGridCellRole.default; }}\"\n        >\n            <slot></slot>\n        </template>\n    `;\n}\n", "const candidateSelectors = [\n  'input',\n  'select',\n  'textarea',\n  'a[href]',\n  'button',\n  '[tabindex]:not(slot)',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]:not([contenteditable=\"false\"])',\n  'details>summary:first-of-type',\n  'details',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst NoElement = typeof Element === 'undefined';\n\nconst matches = NoElement\n  ? function () {}\n  : Element.prototype.matches ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\nconst getRootNode =\n  !NoElement && Element.prototype.getRootNode\n    ? (element) => element.getRootNode()\n    : (element) => element.ownerDocument;\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nconst getCandidates = function (el, includeContainer, filter) {\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidatesScope\n * @property {Element} scope contains inner candidates\n * @property {Element[]} candidates\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidatesScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidatesScope>}\n */\nconst getCandidatesIteratively = function (\n  elements,\n  includeContainer,\n  options\n) {\n  const candidates = [];\n  const elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    const element = elementsToCheck.shift();\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      const assigned = element.assignedElements();\n      const content = assigned.length ? assigned : element.children;\n      const nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push(...nestedCandidates);\n      } else {\n        candidates.push({\n          scope: element,\n          candidates: nestedCandidates,\n        });\n      }\n    } else {\n      // check candidate element\n      const validCandidate = matches.call(element, candidateSelector);\n      if (\n        validCandidate &&\n        options.filter(element) &&\n        (includeContainer || !elements.includes(element))\n      ) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      const shadowRoot =\n        element.shadowRoot ||\n        // check for an undisclosed shadow\n        (typeof options.getShadowRoot === 'function' &&\n          options.getShadowRoot(element));\n\n      const validShadowRoot =\n        !options.shadowRootFilter || options.shadowRootFilter(element);\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        const nestedCandidates = getCandidatesIteratively(\n          shadowRoot === true ? element.children : shadowRoot.children,\n          true,\n          options\n        );\n\n        if (options.flatten) {\n          candidates.push(...nestedCandidates);\n        } else {\n          candidates.push({\n            scope: element,\n            candidates: nestedCandidates,\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift(...element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\nconst getTabindex = function (node, isScope) {\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    //\n    // isScope is positive for custom element with shadow root or slot that by default\n    // have tabIndex -1, but need to be sorted by document order in order for their\n    // content to be inserted in the correct position\n    if (\n      (isScope ||\n        /^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) ||\n        node.isContentEditable) &&\n      isNaN(parseInt(node.getAttribute('tabindex'), 10))\n    ) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || getRootNode(node);\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nconst isZeroArea = function (node) {\n  const { width, height } = node.getBoundingClientRect();\n  return width === 0 && height === 0;\n};\nconst isHidden = function (node, { displayCheck, getShadowRoot }) {\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  const nodeRootHost = getRootNode(node).host;\n  const nodeIsAttached =\n    nodeRootHost?.ownerDocument.contains(nodeRootHost) ||\n    node.ownerDocument.contains(node);\n\n  if (!displayCheck || displayCheck === 'full') {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      const originalNode = node;\n      while (node) {\n        const parentElement = node.parentElement;\n        const rootNode = getRootNode(node);\n        if (\n          parentElement &&\n          !parentElement.shadowRoot &&\n          getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (nodeIsAttached) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck` mode\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    let parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *')\n              ? true\n              : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    isHiddenInput(node) ||\n    isHidden(node, options) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    isNonTabbableRadio(node) ||\n    getTabindex(node) < 0 ||\n    !isNodeMatchingSelectorFocusable(options, node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isValidShadowRootTabbable = function (shadowHostNode) {\n  const tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidatesScope>} candidates\n * @returns Element[]\n */\nconst sortByOrder = function (candidates) {\n  const regularTabbables = [];\n  const orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    const isScope = !!item.scope;\n    const element = isScope ? item.scope : item;\n    const candidateTabindex = getTabindex(element, isScope);\n    const elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope\n        ? regularTabbables.push(...elements)\n        : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements,\n      });\n    }\n  });\n\n  return orderedTabbables\n    .sort(sortOrderedTabbables)\n    .reduce((acc, sortable) => {\n      sortable.isScope\n        ? acc.push(...sortable.content)\n        : acc.push(sortable.content);\n      return acc;\n    }, [])\n    .concat(regularTabbables);\n};\n\nconst tabbable = function (el, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot,\n      shadowRootFilter: isValidShadowRootTabbable,\n    });\n  } else {\n    candidates = getCandidates(\n      el,\n      options.includeContainer,\n      isNodeMatchingSelectorTabbable.bind(null, options)\n    );\n  }\n  return sortByOrder(candidates);\n};\n\nconst focusable = function (el, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot,\n    });\n  } else {\n    candidates = getCandidates(\n      el,\n      options.includeContainer,\n      isNodeMatchingSelectorFocusable.bind(null, options)\n    );\n  }\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable };\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, html, observable } from \"@microsoft/fast-element\";\nimport { eventFocusIn, eventFocusOut, eventKeyDown, keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnd, keyEnter, keyEscape, keyFunction2, keyHome, keyPageDown, keyPageUp, } from \"@microsoft/fast-web-utilities\";\nimport { isFocusable } from \"tabbable\";\nimport { DataGridCellTypes } from \"./data-grid.options.js\";\nexport { DataGridCellTypes };\nconst defaultCellContentsTemplate = html `\n    <template>\n        ${x => x.rowData === null ||\n    x.columnDefinition === null ||\n    x.columnDefinition.columnDataKey === null\n    ? null\n    : x.rowData[x.columnDefinition.columnDataKey]}\n    </template>\n`;\nconst defaultHeaderCellContentsTemplate = html `\n    <template>\n        ${x => x.columnDefinition === null\n    ? null\n    : x.columnDefinition.title === undefined\n        ? x.columnDefinition.columnDataKey\n        : x.columnDefinition.title}\n    </template>\n`;\n// basic focusTargetCallback that returns the first child of the cell\nexport const defaultCellFocusTargetCallback = (cell) => {\n    for (let i = 0; i < cell.children.length; i++) {\n        if (isFocusable(cell.children[i])) {\n            return cell.children[i];\n        }\n    }\n    return null;\n};\n/**\n * A Data Grid Cell Custom HTML Element.\n *\n * @fires cell-focused - Fires a custom 'cell-focused' event when focus is on the cell or its contents\n * @slot - The default slot for cell contents.  The \"cell contents template\" renders here.\n * @public\n */\nexport class FASTDataGridCell extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The type of cell\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: cell-type\n         */\n        this.cellType = DataGridCellTypes.default;\n        /**\n         * The base data for the parent row\n         *\n         * @public\n         */\n        this.rowData = null;\n        /**\n         * The base data for the column\n         *\n         * @public\n         */\n        this.columnDefinition = null;\n        this.isActiveCell = false;\n        this.customCellView = null;\n        this.updateCellStyle = () => {\n            this.style.gridColumn = this.gridColumn;\n        };\n    }\n    cellTypeChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateCellView();\n        }\n    }\n    gridColumnChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateCellStyle();\n        }\n    }\n    columnDefinitionChanged(oldValue, newValue) {\n        if (this.$fastController.isConnected) {\n            this.updateCellView();\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        var _a;\n        super.connectedCallback();\n        this.addEventListener(eventFocusIn, this.handleFocusin);\n        this.addEventListener(eventFocusOut, this.handleFocusout);\n        this.addEventListener(eventKeyDown, this.handleKeydown);\n        this.style.gridColumn = `${((_a = this.columnDefinition) === null || _a === void 0 ? void 0 : _a.gridColumn) === undefined\n            ? 0\n            : this.columnDefinition.gridColumn}`;\n        this.updateCellView();\n        this.updateCellStyle();\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.removeEventListener(eventFocusIn, this.handleFocusin);\n        this.removeEventListener(eventFocusOut, this.handleFocusout);\n        this.removeEventListener(eventKeyDown, this.handleKeydown);\n        this.disconnectCellView();\n    }\n    handleFocusin(e) {\n        if (this.isActiveCell) {\n            return;\n        }\n        this.isActiveCell = true;\n        switch (this.cellType) {\n            case DataGridCellTypes.columnHeader:\n                if (this.columnDefinition !== null &&\n                    this.columnDefinition.headerCellInternalFocusQueue !== true &&\n                    typeof this.columnDefinition.headerCellFocusTargetCallback ===\n                        \"function\") {\n                    // move focus to the focus target\n                    const focusTarget = this.columnDefinition.headerCellFocusTargetCallback(this);\n                    if (focusTarget !== null) {\n                        focusTarget.focus();\n                    }\n                }\n                break;\n            default:\n                if (this.columnDefinition !== null &&\n                    this.columnDefinition.cellInternalFocusQueue !== true &&\n                    typeof this.columnDefinition.cellFocusTargetCallback === \"function\") {\n                    // move focus to the focus target\n                    const focusTarget = this.columnDefinition.cellFocusTargetCallback(this);\n                    if (focusTarget !== null) {\n                        focusTarget.focus();\n                    }\n                }\n                break;\n        }\n        this.$emit(\"cell-focused\", this);\n    }\n    handleFocusout(e) {\n        if (this !== document.activeElement && !this.contains(document.activeElement)) {\n            this.isActiveCell = false;\n        }\n    }\n    hasInternalFocusQueue() {\n        if (this.columnDefinition === null) {\n            return false;\n        }\n        if ((this.cellType === DataGridCellTypes.default &&\n            this.columnDefinition.cellInternalFocusQueue) ||\n            (this.cellType === DataGridCellTypes.columnHeader &&\n                this.columnDefinition.headerCellInternalFocusQueue)) {\n            return true;\n        }\n        return false;\n    }\n    handleKeydown(e) {\n        // if the cell does not have an internal focus queue we can ignore keystrokes\n        if (e.defaultPrevented ||\n            this.columnDefinition === null ||\n            !this.hasInternalFocusQueue()) {\n            return;\n        }\n        const rootActiveElement = this.getRootActiveElement();\n        switch (e.key) {\n            case keyEnter:\n            case keyFunction2:\n                if (this.contains(rootActiveElement) && rootActiveElement !== this) {\n                    return;\n                }\n                switch (this.cellType) {\n                    case DataGridCellTypes.columnHeader:\n                        if (this.columnDefinition.headerCellFocusTargetCallback !==\n                            undefined) {\n                            const focusTarget = this.columnDefinition.headerCellFocusTargetCallback(this);\n                            if (focusTarget !== null) {\n                                focusTarget.focus();\n                            }\n                            e.preventDefault();\n                        }\n                        break;\n                    default:\n                        if (this.columnDefinition.cellFocusTargetCallback !== undefined) {\n                            const focusTarget = this.columnDefinition.cellFocusTargetCallback(this);\n                            if (focusTarget !== null) {\n                                focusTarget.focus();\n                            }\n                            e.preventDefault();\n                        }\n                        break;\n                }\n                break;\n            case keyEscape:\n                if (this.contains(rootActiveElement) && rootActiveElement !== this) {\n                    this.focus();\n                    e.preventDefault();\n                }\n                break;\n            // stop any unhandled grid nav events that may bubble from the cell\n            // when internal navigation is active.\n            // note: preventDefault would also block arrow keys in input elements\n            case keyArrowDown:\n            case keyArrowLeft:\n            case keyArrowRight:\n            case keyArrowUp:\n            case keyEnd:\n            case keyHome:\n            case keyPageDown:\n            case keyPageUp:\n                if (this.contains(rootActiveElement) && rootActiveElement !== this) {\n                    e.stopPropagation();\n                }\n                break;\n        }\n    }\n    getRootActiveElement() {\n        const rootNode = this.getRootNode();\n        if (rootNode instanceof ShadowRoot) {\n            return rootNode.activeElement;\n        }\n        return document.activeElement;\n    }\n    updateCellView() {\n        var _a, _b;\n        this.disconnectCellView();\n        if (this.columnDefinition === null) {\n            return;\n        }\n        switch (this.cellType) {\n            case DataGridCellTypes.columnHeader:\n                this.customCellView = html `\n                    ${(_a = this.columnDefinition.headerCellTemplate) !== null && _a !== void 0 ? _a : defaultHeaderCellContentsTemplate}\n                `.render(this, this);\n                break;\n            case undefined:\n            case DataGridCellTypes.rowHeader:\n            case DataGridCellTypes.default:\n                this.customCellView = html `\n                    ${(_b = this.columnDefinition.cellTemplate) !== null && _b !== void 0 ? _b : defaultCellContentsTemplate}\n                `.render(this, this);\n                break;\n        }\n    }\n    disconnectCellView() {\n        if (this.customCellView !== null) {\n            this.customCellView.dispose();\n            this.customCellView = null;\n        }\n    }\n}\n__decorate([\n    attr({ attribute: \"cell-type\" })\n], FASTDataGridCell.prototype, \"cellType\", void 0);\n__decorate([\n    attr({ attribute: \"grid-column\" })\n], FASTDataGridCell.prototype, \"gridColumn\", void 0);\n__decorate([\n    observable\n], FASTDataGridCell.prototype, \"rowData\", void 0);\n__decorate([\n    observable\n], FASTDataGridCell.prototype, \"columnDefinition\", void 0);\n", "import { Observable } from \"@microsoft/fast-element\";\nclass DerivedValueEvaluator {\n    constructor(value) {\n        this.value = value;\n        this.notifier = Observable.getNotifier(this);\n        this.dependencies = new Set();\n        this.binding = Observable.binding(value, this);\n        this.binding.setMode(false);\n    }\n    static getOrCreate(value) {\n        let v = DerivedValueEvaluator.cache.get(value);\n        if (v) {\n            return v;\n        }\n        v = new DerivedValueEvaluator(value);\n        DerivedValueEvaluator.cache.set(value, v);\n        return v;\n    }\n    evaluate(node, tokenContext) {\n        const resolve = (token) => {\n            this.dependencies.add(token);\n            if (tokenContext === token) {\n                if (node.parent) {\n                    return node.parent.getTokenValue(token);\n                }\n                throw new Error(\"DesignTokenNode has encountered a circular token reference. Avoid this by setting the token value for an ancestor node.\");\n            }\n            else {\n                return node.getTokenValue(token);\n            }\n        };\n        return this.binding.observe(resolve);\n    }\n    handleChange() {\n        this.notifier.notify(undefined);\n    }\n}\nDerivedValueEvaluator.cache = new WeakMap();\nclass DerivedValue {\n    constructor(token, evaluator, node, subscriber) {\n        this.token = token;\n        this.evaluator = evaluator;\n        this.node = node;\n        this.subscriber = subscriber;\n        this.value = evaluator.evaluate(node, token);\n        if (this.subscriber) {\n            Observable.getNotifier(this.evaluator).subscribe(this.subscriber);\n        }\n    }\n    dispose() {\n        if (this.subscriber) {\n            Observable.getNotifier(this.evaluator).unsubscribe(this.subscriber);\n        }\n    }\n    update() {\n        this.value = this.evaluator.evaluate(this.node, this.token);\n        return this;\n    }\n}\n/**\n * @internal\n */\nexport class DesignTokenChangeRecordImpl {\n    constructor(target, type, token, value) {\n        this.target = target;\n        this.type = type;\n        this.token = token;\n        this.value = value;\n    }\n    notify() {\n        Observable.getNotifier(this.token).notify(this);\n    }\n}\n/**\n * @public\n */\nexport class DesignTokenNode {\n    constructor() {\n        this._parent = null;\n        this._children = new Set();\n        this._values = new Map();\n        this._derived = new Map();\n        this.dependencyGraph = new Map();\n    }\n    /**\n     * Determines if a value is a {@link DerivedDesignTokenValue}\n     * @param value - The value to test\n     */\n    static isDerivedTokenValue(value) {\n        return typeof value === \"function\";\n    }\n    /**\n     * Determines if a token has a derived value for a node.\n     */\n    static isDerivedFor(node, token) {\n        return node._derived.has(token);\n    }\n    /**\n     * Collects token/value pairs for all derived token / values set on upstream nodes.\n     */\n    static collectDerivedContext(node) {\n        const collected = new Map();\n        // Exit early if  there is no parent\n        if (node.parent === null) {\n            return collected;\n        }\n        let ignored = DesignTokenNode.getAssignedTokensForNode(node);\n        let current = node.parent;\n        do {\n            const assigned = DesignTokenNode.getAssignedTokensForNode(current);\n            for (let i = 0, l = assigned.length; i < l; i++) {\n                const token = assigned[i];\n                if (!ignored.includes(token) &&\n                    DesignTokenNode.isDerivedFor(current, token)) {\n                    collected.set(token, current._derived.get(token));\n                }\n            }\n            ignored = Array.from(new Set(ignored.concat(assigned)));\n            current = current.parent;\n        } while (current !== null);\n        return collected;\n    }\n    /**\n     * Resolves the local value for a token if it is assigned, otherwise returns undefined.\n     */\n    static getLocalTokenValue(node, token) {\n        return !DesignTokenNode.isAssigned(node, token)\n            ? undefined\n            : DesignTokenNode.isDerivedFor(node, token)\n                ? node._derived.get(token).value\n                : node._values.get(token);\n    }\n    static getOrCreateDependencyGraph(node, token) {\n        let dependents = node.dependencyGraph.get(token);\n        if (dependents) {\n            return dependents;\n        }\n        dependents = new Set();\n        node.dependencyGraph.set(token, dependents);\n        return dependents;\n    }\n    /**\n     * Emit all queued notifications\n     */\n    static notify() {\n        const notifications = this._notifications;\n        this._notifications = [];\n        for (const record of notifications) {\n            record.notify();\n        }\n    }\n    static queueNotification(...records) {\n        this._notifications.push(...records);\n    }\n    /**\n     * Retrieves all tokens assigned directly to a node.\n     * @param node - the node to retrieve assigned tokens for\n     * @returns\n     */\n    static getAssignedTokensForNode(node) {\n        return Array.from(node._values.keys());\n    }\n    /**\n     * Retrieves all tokens assigned to the node and ancestor nodes.\n     * @param node - the node to compose assigned tokens for\n     */\n    static composeAssignedTokensForNode(node) {\n        const tokens = new Set(DesignTokenNode.getAssignedTokensForNode(node));\n        let current = node.parent;\n        while (current !== null) {\n            const assignedTokens = DesignTokenNode.getAssignedTokensForNode(current);\n            for (const token of assignedTokens) {\n                tokens.add(token);\n            }\n            current = current.parent;\n        }\n        return Array.from(tokens);\n    }\n    /**\n     * Tests if a token is assigned directly to a node\n     * @param node - The node to test\n     * @param token  - The token to test\n     * @returns\n     */\n    static isAssigned(node, token) {\n        return node._values.has(token);\n    }\n    /**\n     * The parent node\n     */\n    get parent() {\n        return this._parent;\n    }\n    get children() {\n        return Array.from(this._children);\n    }\n    /**\n     * Appends a child to the node, notifying for any tokens set for the node's context.\n     */\n    appendChild(child) {\n        var _a, _b;\n        let prevContext = null;\n        // If this node is already attached, get it's context so change record\n        // types can be determined\n        if (child.parent !== null) {\n            prevContext = DesignTokenNode.composeAssignedTokensForNode(child.parent);\n            child.parent._children.delete(child);\n        }\n        const context = DesignTokenNode.composeAssignedTokensForNode(this);\n        const derivedContext = DesignTokenNode.collectDerivedContext(this);\n        child._parent = this;\n        this._children.add(child);\n        for (const token of context) {\n            let type = 0 /* DesignTokenMutationType.add */;\n            if (prevContext !== null) {\n                const prevContextIndex = prevContext.indexOf(token);\n                if (prevContextIndex !== -1) {\n                    type = 1 /* DesignTokenMutationType.change */;\n                    prevContext.splice(prevContextIndex, 1);\n                }\n            }\n            child.dispatch(new DesignTokenChangeRecordImpl(this, type, token, (_a = derivedContext.get(token)) === null || _a === void 0 ? void 0 : _a.evaluator.value));\n        }\n        if (prevContext !== null && prevContext.length > 0) {\n            for (const token of prevContext) {\n                child.dispatch(new DesignTokenChangeRecordImpl(this, 2 /* DesignTokenMutationType.delete */, token, (_b = derivedContext.get(token)) === null || _b === void 0 ? void 0 : _b.evaluator.value));\n            }\n        }\n        DesignTokenNode.notify();\n    }\n    /**\n     * Appends a child to the node, notifying for any tokens set for the node's context.\n     */\n    removeChild(child) {\n        if (child.parent === this) {\n            const context = DesignTokenNode.composeAssignedTokensForNode(this);\n            child._parent = null;\n            this._children.delete(child);\n            for (const token of context) {\n                child.dispatch(new DesignTokenChangeRecordImpl(this, 2 /* DesignTokenMutationType.delete */, token));\n            }\n            DesignTokenNode.notify();\n        }\n    }\n    /**\n     * Dispose of the node, removing parent/child relationships and\n     * unsubscribing all observable binding subscribers. Does not emit\n     * notifications.\n     */\n    dispose() {\n        if (this.parent) {\n            this.parent._children.delete(this);\n            this._parent = null;\n        }\n        for (const [, derived] of this._derived) {\n            derived.dispose();\n        }\n    }\n    /**\n     * Sets a token to a value\n     */\n    setTokenValue(token, value) {\n        const changeType = DesignTokenNode.isAssigned(this, token) ||\n            DesignTokenNode.isDerivedFor(this, token)\n            ? 1 /* DesignTokenMutationType.change */\n            : 0 /* DesignTokenMutationType.add */;\n        const prev = DesignTokenNode.getLocalTokenValue(this, token);\n        this._values.set(token, value);\n        if (DesignTokenNode.isDerivedFor(this, token)) {\n            this.tearDownDerivedTokenValue(token);\n        }\n        const isDerived = DesignTokenNode.isDerivedTokenValue(value);\n        const derivedContext = DesignTokenNode.collectDerivedContext(this);\n        let result;\n        if (isDerived) {\n            const evaluator = this.setupDerivedTokenValue(token, value, true);\n            result = evaluator.value;\n        }\n        else {\n            result = value;\n        }\n        if (prev !== result) {\n            DesignTokenNode.queueNotification(new DesignTokenChangeRecordImpl(this, changeType, token, value));\n        }\n        this.dispatch(new DesignTokenChangeRecordImpl(this, changeType, token, value));\n        derivedContext.forEach((derivedValue, token) => {\n            // Skip over any derived values already established locally, because\n            // those will get updated via this.notifyDerived and this.notifyStatic\n            if (!DesignTokenNode.isDerivedFor(this, token)) {\n                const prev = DesignTokenNode.getLocalTokenValue(this, token);\n                derivedValue = this.setupDerivedTokenValue(token, derivedValue.evaluator.value);\n                const result = derivedValue.value;\n                if (prev !== result) {\n                    DesignTokenNode.queueNotification(new DesignTokenChangeRecordImpl(this, 1 /* DesignTokenMutationType.change */, token, derivedValue.evaluator.value));\n                }\n                this.dispatch(new DesignTokenChangeRecordImpl(this, 0 /* DesignTokenMutationType.add */, token, derivedValue.evaluator.value));\n            }\n        });\n        DesignTokenNode.notify();\n    }\n    /**\n     * Returns the resolve value for a token\n     */\n    getTokenValue(token) {\n        /* eslint-disable-next-line */\n        let node = this;\n        let value;\n        while (node !== null) {\n            if (DesignTokenNode.isDerivedFor(node, token)) {\n                value = node._derived.get(token).value;\n                break;\n            }\n            if (DesignTokenNode.isAssigned(node, token)) {\n                value = node._values.get(token);\n                break;\n            }\n            node = node._parent;\n        }\n        if (value !== undefined) {\n            return value;\n        }\n        else {\n            throw new Error(`No value set for token ${token} in node tree.`);\n        }\n    }\n    /**\n     * Deletes the token value for a node\n     */\n    deleteTokenValue(token) {\n        if (DesignTokenNode.isAssigned(this, token)) {\n            const prev = DesignTokenNode.getLocalTokenValue(this, token);\n            this._values.delete(token);\n            this.tearDownDerivedTokenValue(token);\n            let newValue;\n            try {\n                newValue = this.getTokenValue(token);\n            }\n            catch (e) {\n                newValue = undefined;\n            }\n            DesignTokenNode.queueNotification(new DesignTokenChangeRecordImpl(this, 2 /* DesignTokenMutationType.delete */, token));\n            if (prev !== newValue) {\n                this.dispatch(new DesignTokenChangeRecordImpl(this, 2 /* DesignTokenMutationType.delete */, token));\n            }\n            DesignTokenNode.notify();\n        }\n    }\n    /**\n     * Notifies that a token has been mutated\n     */\n    dispatch(record) {\n        var _a, _b, _c;\n        if (this !== record.target) {\n            const { token } = record;\n            // If the node is assigned the token being dispatched and the assigned value does not depend on the token\n            // (circular token reference) then terminate the dispatch.\n            const isAssigned = DesignTokenNode.isAssigned(this, token);\n            const containsCircularForToken = isAssigned && ((_a = this._derived.get(token)) === null || _a === void 0 ? void 0 : _a.evaluator.dependencies.has(token));\n            if (isAssigned && !containsCircularForToken) {\n                return;\n            }\n            // Delete token evaluations if the token is not assigned explicitly but is derived for the node and\n            // the record is a delete type.\n            if (record.type === 2 /* DesignTokenMutationType.delete */ &&\n                !isAssigned &&\n                DesignTokenNode.isDerivedFor(this, token)) {\n                this.tearDownDerivedTokenValue(token);\n                DesignTokenNode.queueNotification(new DesignTokenChangeRecordImpl(this, 2 /* DesignTokenMutationType.delete */, token));\n            }\n            if (containsCircularForToken) {\n                record = new DesignTokenChangeRecordImpl(this, 1 /* DesignTokenMutationType.change */, token, (_b = this._derived.get(token)) === null || _b === void 0 ? void 0 : _b.evaluator.value);\n            }\n            const { value } = record;\n            if (value && DesignTokenNode.isDerivedTokenValue(value)) {\n                const dependencies = DerivedValueEvaluator.getOrCreate(value).dependencies;\n                // If this is not the originator, check to see if this node\n                // has any dependencies of the token value. If so, we need to evaluate for this node\n                let evaluate = false;\n                for (const dependency of dependencies) {\n                    if (DesignTokenNode.isAssigned(this, dependency)) {\n                        evaluate = true;\n                        break;\n                    }\n                }\n                if (evaluate) {\n                    const prev = (_c = this._derived.get(token)) === null || _c === void 0 ? void 0 : _c.value;\n                    const derivedValue = this.setupDerivedTokenValue(token, value);\n                    if (prev !== derivedValue.value) {\n                        const type = prev === undefined\n                            ? 0 /* DesignTokenMutationType.add */\n                            : 1 /* DesignTokenMutationType.change */;\n                        const notification = new DesignTokenChangeRecordImpl(this, type, token, derivedValue.evaluator.value);\n                        DesignTokenNode.queueNotification(notification);\n                        record = notification;\n                    }\n                }\n            }\n        }\n        this.collectLocalChangeRecords(record).forEach(_record => {\n            DesignTokenNode.queueNotification(_record);\n            this.dispatch(_record);\n        });\n        this.notifyChildren(record);\n    }\n    /**\n     * Generate change-records for local dependencies of a change record\n     */\n    collectLocalChangeRecords(record) {\n        const collected = new Map();\n        for (const dependent of DesignTokenNode.getOrCreateDependencyGraph(this, record.token)) {\n            if (dependent.value !== dependent.update().value) {\n                collected.set(dependent.token, new DesignTokenChangeRecordImpl(this, 1 /* DesignTokenMutationType.change */, dependent.token, dependent.evaluator.value));\n            }\n        }\n        return collected;\n    }\n    /**\n     *\n     * Notify children of changes to the node\n     */\n    notifyChildren(...records) {\n        if (this.children.length) {\n            for (let i = 0, l = this.children.length; i < l; i++) {\n                for (let j = 0; j < records.length; j++) {\n                    this.children[i].dispatch(records[j]);\n                }\n            }\n        }\n    }\n    tearDownDerivedTokenValue(token) {\n        if (DesignTokenNode.isDerivedFor(this, token)) {\n            const value = this._derived.get(token);\n            value.dispose();\n            this._derived.delete(token);\n            value.evaluator.dependencies.forEach(dependency => {\n                DesignTokenNode.getOrCreateDependencyGraph(this, dependency).delete(value);\n            });\n        }\n    }\n    setupDerivedTokenValue(token, value, subscribeNode = false) {\n        const deriver = new DerivedValue(token, DerivedValueEvaluator.getOrCreate(value), this, subscribeNode\n            ? {\n                handleChange: () => {\n                    if (deriver.value !== deriver.update().value) {\n                        const record = new DesignTokenChangeRecordImpl(this, 1 /* DesignTokenMutationType.change */, deriver.token, deriver.evaluator.value);\n                        DesignTokenNode.queueNotification(record);\n                        this.dispatch(record);\n                        DesignTokenNode.notify();\n                    }\n                },\n            }\n            : undefined);\n        this._derived.set(token, deriver);\n        deriver.evaluator.dependencies.forEach(dependency => {\n            if (dependency !== token) {\n                DesignTokenNode.getOrCreateDependencyGraph(this, dependency).add(deriver);\n            }\n        });\n        return deriver;\n    }\n}\nDesignTokenNode._notifications = [];\n", "import { __decorate } from \"tslib\";\nimport { ElementStyles, observable, Observable, Updates } from \"@microsoft/fast-element\";\nclass QueuedStyleSheetTarget {\n    setProperty(name, value) {\n        Updates.enqueue(() => this.target.setProperty(name, value));\n    }\n    removeProperty(name) {\n        Updates.enqueue(() => this.target.removeProperty(name));\n    }\n}\n/**\n * Handles setting properties for a FASTElement using Constructable Stylesheets\n */\nclass ConstructableStyleSheetTarget extends QueuedStyleSheetTarget {\n    constructor(source) {\n        super();\n        const sheet = new CSSStyleSheet();\n        this.target = sheet.cssRules[sheet.insertRule(\":host{}\")].style;\n        source.$fastController.addStyles(new ElementStyles([sheet]));\n    }\n}\nclass DocumentStyleSheetTarget extends QueuedStyleSheetTarget {\n    constructor() {\n        super();\n        const sheet = new CSSStyleSheet();\n        this.target = sheet.cssRules[sheet.insertRule(\":root{}\")].style;\n        document.adoptedStyleSheets = [\n            ...document.adoptedStyleSheets,\n            sheet,\n        ];\n    }\n}\nclass HeadStyleElementStyleSheetTarget extends QueuedStyleSheetTarget {\n    constructor() {\n        super();\n        this.style = document.createElement(\"style\");\n        document.head.appendChild(this.style);\n        const { sheet } = this.style;\n        // Because the HTMLStyleElement has been appended,\n        // there shouldn't exist a case where `sheet` is null,\n        // but if-check it just in case.\n        if (sheet) {\n            // https://github.com/jsdom/jsdom uses https://github.com/NV/CSSOM for it's CSSOM implementation,\n            // which implements the DOM Level 2 spec for CSSStyleSheet where insertRule() requires an index argument.\n            const index = sheet.insertRule(\":root{}\", sheet.cssRules.length);\n            this.target = sheet.cssRules[index].style;\n        }\n    }\n}\n/**\n * Handles setting properties for a FASTElement using an HTMLStyleElement\n */\nclass StyleElementStyleSheetTarget {\n    constructor(target) {\n        this.store = new Map();\n        this.target = null;\n        const controller = target.$fastController;\n        this.style = document.createElement(\"style\");\n        controller.addStyles(this.style);\n        Observable.getNotifier(controller).subscribe(this, \"isConnected\");\n        this.handleChange(controller, \"isConnected\");\n    }\n    targetChanged() {\n        if (this.target !== null) {\n            for (const [key, value] of this.store.entries()) {\n                this.target.setProperty(key, value);\n            }\n        }\n    }\n    setProperty(name, value) {\n        this.store.set(name, value);\n        Updates.enqueue(() => {\n            if (this.target !== null) {\n                this.target.setProperty(name, value);\n            }\n        });\n    }\n    removeProperty(name) {\n        this.store.delete(name);\n        Updates.enqueue(() => {\n            if (this.target !== null) {\n                this.target.removeProperty(name);\n            }\n        });\n    }\n    handleChange(source, key) {\n        // HTMLStyleElement.sheet is null if the element isn't connected to the DOM,\n        // so this method reacts to changes in DOM connection for the element hosting\n        // the HTMLStyleElement.\n        //\n        // All rules applied via the CSSOM also get cleared when the element disconnects,\n        // so we need to add a new rule each time and populate it with the stored properties\n        const { sheet } = this.style;\n        if (sheet) {\n            // Safari will throw if we try to use the return result of insertRule()\n            // to index the rule inline, so store as a const prior to indexing.\n            // https://github.com/jsdom/jsdom uses https://github.com/NV/CSSOM for it's CSSOM implementation,\n            // which implements the DOM Level 2 spec for CSSStyleSheet where insertRule() requires an index argument.\n            const index = sheet.insertRule(\":host{}\", sheet.cssRules.length);\n            this.target = sheet.cssRules[index].style;\n        }\n        else {\n            this.target = null;\n        }\n    }\n}\n__decorate([\n    observable\n], StyleElementStyleSheetTarget.prototype, \"target\", void 0);\n/**\n * Controls emission for default values. This control is capable\n * of emitting to multiple {@link PropertyTarget | PropertyTargets},\n * and only emits if it has at least one root.\n *\n * @internal\n */\nexport class RootStyleSheetTarget {\n    setProperty(name, value) {\n        RootStyleSheetTarget.properties[name] = value;\n        for (const target of RootStyleSheetTarget.roots.values()) {\n            target.setProperty(name, value);\n        }\n    }\n    removeProperty(name) {\n        delete RootStyleSheetTarget.properties[name];\n        for (const target of RootStyleSheetTarget.roots.values()) {\n            target.removeProperty(name);\n        }\n    }\n    static registerRoot(root) {\n        const { roots } = RootStyleSheetTarget;\n        if (!roots.has(root)) {\n            roots.add(root);\n            for (const key in RootStyleSheetTarget.properties) {\n                root.setProperty(key, RootStyleSheetTarget.properties[key]);\n            }\n        }\n    }\n    static unregisterRoot(root) {\n        const { roots } = RootStyleSheetTarget;\n        if (roots.has(root)) {\n            roots.delete(root);\n            for (const key in RootStyleSheetTarget.properties) {\n                root.removeProperty(key);\n            }\n        }\n    }\n}\nRootStyleSheetTarget.roots = new Set();\nRootStyleSheetTarget.properties = {};\n// Caches PropertyTarget instances\nconst propertyTargetCache = new WeakMap();\n// Use Constructable StyleSheets for FAST elements when supported, otherwise use\n// HTMLStyleElement instances\nconst propertyTargetCtor = ElementStyles.supportsAdoptedStyleSheets\n    ? ConstructableStyleSheetTarget\n    : StyleElementStyleSheetTarget;\n/**\n * Manages creation and caching of PropertyTarget instances.\n *\n * @internal\n */\nexport const PropertyTargetManager = Object.freeze({\n    getOrCreate(source) {\n        if (propertyTargetCache.has(source)) {\n            /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n            return propertyTargetCache.get(source);\n        }\n        let target;\n        if (source instanceof Document) {\n            target = ElementStyles.supportsAdoptedStyleSheets\n                ? new DocumentStyleSheetTarget()\n                : new HeadStyleElementStyleSheetTarget();\n        }\n        else {\n            target = new propertyTargetCtor(source);\n        }\n        propertyTargetCache.set(source, target);\n        return target;\n    },\n});\n", "import { __decorate } from \"tslib\";\nimport { htmlDirective, } from \"@microsoft/fast-element\";\nimport { cssDirective, FASTElement, Observable, SubscriberSet, } from \"@microsoft/fast-element\";\nimport { composedContains, composedParent } from \"@microsoft/fast-element/utilities.js\";\nimport { DesignTokenNode } from \"./core/design-token-node.js\";\nimport { PropertyTargetManager, RootStyleSheetTarget, } from \"./custom-property-manager.js\";\n/**\n * @public\n */\nexport class DesignToken {\n    constructor(configuration) {\n        this.subscriberNotifier = {\n            handleChange: (source, change) => {\n                const record = {\n                    target: change.target === FASTDesignTokenNode.defaultNode\n                        ? \"default\"\n                        : change.target.target,\n                    token: this,\n                };\n                this.subscribers.notify(record);\n            },\n        };\n        this.name = configuration.name;\n        Observable.getNotifier(this).subscribe(this.subscriberNotifier);\n    }\n    /**\n     * The default value of the token (alias of {@link DesignToken.default})\n     */\n    get $value() {\n        return this.default;\n    }\n    /**\n     * The default value of the token, or undefined if it has not been set.\n     */\n    get default() {\n        return FASTDesignTokenNode.defaultNode.getTokenValue(this);\n    }\n    get subscribers() {\n        if (this._subscribers) {\n            return this._subscribers;\n        }\n        this._subscribers = new SubscriberSet(this);\n        return this._subscribers;\n    }\n    static isCSSDesignTokenConfiguration(config) {\n        return (typeof config.cssCustomPropertyName ===\n            \"string\");\n    }\n    static create(config) {\n        if (typeof config === \"string\") {\n            return new CSSDesignToken({ name: config, cssCustomPropertyName: config });\n        }\n        else {\n            return DesignToken.isCSSDesignTokenConfiguration(config)\n                ? new CSSDesignToken(config)\n                : new DesignToken(config);\n        }\n    }\n    /**\n     * Configures the strategy for resolving hierarchical relationships between FASTElement targets.\n     */\n    static withStrategy(strategy) {\n        FASTDesignTokenNode.withStrategy(strategy);\n    }\n    /**\n     * Registers a target for emitting default style values.\n     * {@link CSSDesignToken | CSSDesignTokens} with default values assigned via\n     * {@link DesignToken.withDefault} will emit CSS custom properties to all\n     * registered targets.\n     * @param target - The target to register, defaults to the document\n     */\n    static registerDefaultStyleTarget(target = document) {\n        if (target instanceof FASTElement || target instanceof Document) {\n            target = PropertyTargetManager.getOrCreate(target);\n        }\n        RootStyleSheetTarget.registerRoot(target);\n    }\n    /**\n     * Unregister a target for default style emission.\n     * @param target - The root to deregister, defaults to the document\n     */\n    static unregisterDefaultStyleTarget(target = document) {\n        if (target instanceof FASTElement || target instanceof Document) {\n            target = PropertyTargetManager.getOrCreate(target);\n        }\n        RootStyleSheetTarget.unregisterRoot(target);\n    }\n    /**\n     * Retrieves the value of the token for a target element.\n     */\n    getValueFor(target) {\n        return FASTDesignTokenNode.getOrCreate(target).getTokenValue(this);\n    }\n    /**\n     * Sets the value of the token for a target element.\n     */\n    setValueFor(target, value) {\n        FASTDesignTokenNode.getOrCreate(target).setTokenValue(this, this.normalizeValue(value));\n    }\n    /**\n     * Deletes the value of the token for a target element.\n     */\n    deleteValueFor(target) {\n        FASTDesignTokenNode.getOrCreate(target).deleteTokenValue(this);\n        return this;\n    }\n    /**\n     * Sets the default value of the token.\n     */\n    withDefault(value) {\n        FASTDesignTokenNode.defaultNode.setTokenValue(this, this.normalizeValue(value));\n        return this;\n    }\n    /**\n     * Subscribes a subscriber to notifications for the token.\n     */\n    subscribe(subscriber) {\n        this.subscribers.subscribe(subscriber);\n    }\n    /**\n     * Unsubscribes a subscriber to notifications for the token.\n     */\n    unsubscribe(subscriber) {\n        this.subscribers.unsubscribe(subscriber);\n    }\n    /**\n     * Alias the token to the provided token.\n     * @param token - the token to alias to\n     */\n    alias(token) {\n        return ((resolve) => resolve(token));\n    }\n    normalizeValue(value) {\n        if (value instanceof DesignToken) {\n            value = this.alias(value);\n        }\n        return value;\n    }\n}\n/**\n * @public\n */\nlet CSSDesignToken = class CSSDesignToken extends DesignToken {\n    constructor(configuration) {\n        super(configuration);\n        this.cssReflector = {\n            handleChange: (source, record) => {\n                const target = record.target === FASTDesignTokenNode.defaultNode\n                    ? FASTDesignTokenNode.rootStyleSheetTarget\n                    : record.target instanceof FASTDesignTokenNode\n                        ? PropertyTargetManager.getOrCreate(record.target.target)\n                        : null;\n                if (target) {\n                    if (record.type === 2 /* DesignTokenMutationType.delete */) {\n                        target.removeProperty(this.cssCustomProperty);\n                    }\n                    else {\n                        target.setProperty(this.cssCustomProperty, this.resolveCSSValue(record.target.getTokenValue(this)));\n                    }\n                }\n            },\n        };\n        this.cssCustomProperty = `--${configuration.cssCustomPropertyName}`;\n        this.cssVar = `var(${this.cssCustomProperty})`;\n        Observable.getNotifier(this).subscribe(this.cssReflector);\n    }\n    /**\n     * The DesignToken represented as a string that can be used in CSS.\n     */\n    createCSS() {\n        return this.cssVar;\n    }\n    /**\n     * Creates HTML to be used within a template.\n     */\n    createHTML() {\n        return this.cssVar;\n    }\n    resolveCSSValue(value) {\n        return value && typeof value.createCSS === \"function\" ? value.createCSS() : value;\n    }\n};\nCSSDesignToken = __decorate([\n    cssDirective(),\n    htmlDirective()\n], CSSDesignToken);\nexport { CSSDesignToken };\nconst defaultDesignTokenResolutionStrategy = {\n    contains: composedContains,\n    parent(element) {\n        let parent = composedParent(element);\n        while (parent !== null) {\n            if (parent instanceof FASTElement) {\n                return parent;\n            }\n            parent = composedParent(parent);\n        }\n        return null;\n    },\n};\nclass FASTDesignTokenNode extends DesignTokenNode {\n    constructor(target) {\n        super();\n        this.target = target;\n        // By default, nodes are not attached to the defaultNode for performance\n        // reasons. However, that behavior can throw if retrieval for a node\n        // happens before the bind() method is called. To guard against that,\n        //  lazily attach to the defaultNode when get/set/delete methods are called.\n        this.setTokenValue = this.lazyAttachToDefault(super.setTokenValue);\n        this.getTokenValue = this.lazyAttachToDefault(super.getTokenValue);\n        this.deleteTokenValue = this.lazyAttachToDefault(super.deleteTokenValue);\n    }\n    static get strategy() {\n        if (this._strategy === undefined) {\n            FASTDesignTokenNode.withStrategy(defaultDesignTokenResolutionStrategy);\n        }\n        return this._strategy;\n    }\n    connectedCallback(controller) {\n        let parent = FASTDesignTokenNode.findParent(controller.source);\n        if (parent === null) {\n            parent = FASTDesignTokenNode.defaultNode;\n        }\n        if (parent !== this.parent) {\n            const reparent = [];\n            for (const child of parent.children) {\n                if (child instanceof FASTDesignTokenNode &&\n                    FASTDesignTokenNode.strategy.contains(controller.source, child.target)) {\n                    reparent.push(child);\n                }\n            }\n            parent.appendChild(this);\n            for (const child of reparent) {\n                this.appendChild(child);\n            }\n        }\n    }\n    disconnectedCallback(controller) {\n        FASTDesignTokenNode.cache.delete(this.target);\n        this.dispose();\n    }\n    static getOrCreate(target) {\n        let found = FASTDesignTokenNode.cache.get(target);\n        if (found) {\n            return found;\n        }\n        found = new FASTDesignTokenNode(target);\n        FASTDesignTokenNode.cache.set(target, found);\n        target.$fastController.addBehavior(FASTDesignTokenNode.strategy);\n        target.$fastController.addBehavior(found);\n        return found;\n    }\n    static withStrategy(strategy) {\n        this._strategy = strategy;\n    }\n    static findParent(target) {\n        let current = FASTDesignTokenNode.strategy.parent(target);\n        while (current !== null) {\n            const node = FASTDesignTokenNode.cache.get(current);\n            if (node) {\n                return node;\n            }\n            current = FASTDesignTokenNode.strategy.parent(current);\n        }\n        return null;\n    }\n    /**\n     * Creates a function from a function that lazily attaches the node to the default node.\n     */\n    lazyAttachToDefault(fn) {\n        const cb = ((...args) => {\n            if (this.parent === null) {\n                FASTDesignTokenNode.defaultNode.appendChild(this);\n            }\n            return fn.apply(this, args);\n        });\n        return cb;\n    }\n}\nFASTDesignTokenNode.defaultNode = new DesignTokenNode();\nFASTDesignTokenNode.rootStyleSheetTarget = new RootStyleSheetTarget();\nFASTDesignTokenNode.cache = new WeakMap();\n", "import { html, ref, when } from \"@microsoft/fast-element\";\n/**\n * The template for the {@link @microsoft/fast-foundation#FASTDialog} component.\n * @public\n */\nexport function dialogTemplate() {\n    return html `\n        <div class=\"positioning-region\" part=\"positioning-region\">\n            ${when(x => x.modal, html `\n                    <div\n                        class=\"overlay\"\n                        part=\"overlay\"\n                        role=\"presentation\"\n                        @click=\"${x => x.dismiss()}\"\n                    ></div>\n                `)}\n            <div\n                role=\"dialog\"\n                tabindex=\"-1\"\n                class=\"control\"\n                part=\"control\"\n                aria-modal=\"${x => (x.modal ? x.modal : void 0)}\"\n                aria-describedby=\"${x => x.ariaDescribedby}\"\n                aria-labelledby=\"${x => x.ariaLabelledby}\"\n                aria-label=\"${x => x.ariaLabel}\"\n                ${ref(\"dialog\")}\n            >\n                <slot></slot>\n            </div>\n        </div>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, Observable, Updates, } from \"@microsoft/fast-element\";\nimport { keyEscape, keyTab } from \"@microsoft/fast-web-utilities\";\nimport { isTabbable } from \"tabbable\";\n/**\n * A Switch Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#dialog | ARIA dialog }.\n *\n * @slot - The default slot for the dialog content\n * @csspart positioning-region - A wrapping element used to center the dialog and position the modal overlay\n * @csspart overlay - The modal dialog overlay\n * @csspart control - The dialog element\n * @fires cancel - Fires a custom 'cancel' event when the modal overlay is clicked\n * @fires close - Fires a custom 'close' event when the dialog is hidden\n *\n * @public\n */\nexport class FASTDialog extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Indicates the element is modal. When modal, user mouse interaction will be limited to the contents of the element by a modal\n         * overlay.  Clicks on the overlay will cause the dialog to emit a \"dismiss\" event.\n         * @public\n         * @defaultValue - false\n         * @remarks\n         * HTML Attribute: modal\n         */\n        this.modal = false;\n        /**\n         * The hidden state of the element.\n         *\n         * @public\n         * @defaultValue - false\n         * @remarks\n         * HTML Attribute: hidden\n         */\n        this.hidden = false;\n        /**\n         * Indicates that the dialog should not trap focus.\n         *\n         * @public\n         * @defaultValue - true\n         * @remarks\n         * HTML Attribute: no-focus-trap\n         */\n        this.noFocusTrap = false;\n        this.noFocusTrapChanged = () => {\n            if (this.$fastController.isConnected) {\n                this.updateTrapFocus();\n            }\n        };\n        /**\n         * @internal\n         */\n        this.isTrappingFocus = false;\n        this.handleDocumentKeydown = (e) => {\n            if (!e.defaultPrevented && !this.hidden) {\n                switch (e.key) {\n                    case keyEscape:\n                        this.dismiss();\n                        e.preventDefault();\n                        break;\n                    case keyTab:\n                        this.handleTabKeyDown(e);\n                        break;\n                }\n            }\n        };\n        this.handleDocumentFocus = (e) => {\n            if (!e.defaultPrevented && this.shouldForceFocus(e.target)) {\n                this.focusFirstElement();\n                e.preventDefault();\n            }\n        };\n        this.handleTabKeyDown = (e) => {\n            if (this.noFocusTrap || this.hidden) {\n                return;\n            }\n            const bounds = this.getTabQueueBounds();\n            if (bounds.length === 0) {\n                return;\n            }\n            if (bounds.length === 1) {\n                // keep focus on single element\n                bounds[0].focus();\n                e.preventDefault();\n                return;\n            }\n            if (e.shiftKey && e.target === bounds[0]) {\n                bounds[bounds.length - 1].focus();\n                e.preventDefault();\n            }\n            else if (!e.shiftKey && e.target === bounds[bounds.length - 1]) {\n                bounds[0].focus();\n                e.preventDefault();\n            }\n            return;\n        };\n        this.getTabQueueBounds = () => {\n            const bounds = [];\n            return FASTDialog.reduceTabbableItems(bounds, this);\n        };\n        /**\n         * focus on first element of tab queue\n         */\n        this.focusFirstElement = () => {\n            const bounds = this.getTabQueueBounds();\n            if (bounds.length > 0) {\n                bounds[0].focus();\n            }\n            else {\n                if (this.dialog instanceof HTMLElement) {\n                    this.dialog.focus();\n                }\n            }\n        };\n        /**\n         * we should only focus if focus has not already been brought to the dialog\n         */\n        this.shouldForceFocus = (currentFocusElement) => {\n            return this.isTrappingFocus && !this.contains(currentFocusElement);\n        };\n        /**\n         * we should we be active trapping focus\n         */\n        this.shouldTrapFocus = () => {\n            return !this.noFocusTrap && !this.hidden;\n        };\n        /**\n         *\n         *\n         * @internal\n         */\n        this.updateTrapFocus = (shouldTrapFocusOverride) => {\n            const shouldTrapFocus = shouldTrapFocusOverride === undefined\n                ? this.shouldTrapFocus()\n                : shouldTrapFocusOverride;\n            if (shouldTrapFocus && !this.isTrappingFocus) {\n                this.isTrappingFocus = true;\n                // Add an event listener for focusin events if we are trapping focus\n                document.addEventListener(\"focusin\", this.handleDocumentFocus);\n                Updates.enqueue(() => {\n                    if (this.shouldForceFocus(document.activeElement)) {\n                        this.focusFirstElement();\n                    }\n                });\n            }\n            else if (!shouldTrapFocus && this.isTrappingFocus) {\n                this.isTrappingFocus = false;\n                // remove event listener if we are not trapping focus\n                document.removeEventListener(\"focusin\", this.handleDocumentFocus);\n            }\n        };\n    }\n    /**\n     * @internal\n     */\n    dismiss() {\n        this.$emit(\"dismiss\");\n        // implement `<dialog>` interface\n        this.$emit(\"cancel\");\n    }\n    /**\n     * The method to show the dialog.\n     *\n     * @public\n     */\n    show() {\n        this.hidden = false;\n    }\n    /**\n     * The method to hide the dialog.\n     *\n     * @public\n     */\n    hide() {\n        this.hidden = true;\n        // implement `<dialog>` interface\n        this.$emit(\"close\");\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        document.addEventListener(\"keydown\", this.handleDocumentKeydown);\n        this.notifier = Observable.getNotifier(this);\n        this.notifier.subscribe(this, \"hidden\");\n        this.updateTrapFocus();\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        // remove keydown event listener\n        document.removeEventListener(\"keydown\", this.handleDocumentKeydown);\n        // if we are trapping focus remove the focusin listener\n        this.updateTrapFocus(false);\n        this.notifier.unsubscribe(this, \"hidden\");\n    }\n    /**\n     * @internal\n     */\n    handleChange(source, propertyName) {\n        switch (propertyName) {\n            case \"hidden\":\n                this.updateTrapFocus();\n                break;\n            default:\n                break;\n        }\n    }\n    /**\n     * Reduce a collection to only its focusable elements.\n     *\n     * @param elements - Collection of elements to reduce\n     * @param element - The current element\n     *\n     * @internal\n     */\n    static reduceTabbableItems(elements, element) {\n        if (element.getAttribute(\"tabindex\") === \"-1\") {\n            return elements;\n        }\n        if (isTabbable(element) ||\n            (FASTDialog.isFocusableFastElement(element) &&\n                FASTDialog.hasTabbableShadow(element))) {\n            elements.push(element);\n            return elements;\n        }\n        if (element.childElementCount) {\n            return elements.concat(Array.from(element.children).reduce(FASTDialog.reduceTabbableItems, []));\n        }\n        return elements;\n    }\n    /**\n     * Test if element is focusable fast element\n     *\n     * @param element - The element to check\n     *\n     * @internal\n     */\n    static isFocusableFastElement(element) {\n        var _a, _b;\n        return !!((_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus);\n    }\n    /**\n     * Test if the element has a focusable shadow\n     *\n     * @param element - The element to check\n     *\n     * @internal\n     */\n    static hasTabbableShadow(element) {\n        var _a, _b;\n        return Array.from((_b = (_a = element.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\"*\")) !== null && _b !== void 0 ? _b : []).some(x => {\n            return isTabbable(x);\n        });\n    }\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTDialog.prototype, \"modal\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTDialog.prototype, \"hidden\", void 0);\n__decorate([\n    attr({ attribute: \"no-focus-trap\", mode: \"boolean\" })\n], FASTDialog.prototype, \"noFocusTrap\", void 0);\n__decorate([\n    attr({ attribute: \"aria-describedby\" })\n], FASTDialog.prototype, \"ariaDescribedby\", void 0);\n__decorate([\n    attr({ attribute: \"aria-labelledby\" })\n], FASTDialog.prototype, \"ariaLabelledby\", void 0);\n__decorate([\n    attr({ attribute: \"aria-label\" })\n], FASTDialog.prototype, \"ariaLabel\", void 0);\n", "import { html, ref } from \"@microsoft/fast-element\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/start-end.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTDisclosure:class)} component.\n * @public\n */\nexport function disclosureTemplate(options = {}) {\n    return html `\n        <details class=\"disclosure\" ${ref(\"details\")}>\n            <summary\n                class=\"invoker\"\n                role=\"button\"\n                aria-controls=\"disclosure-content\"\n                aria-expanded=\"${x => x.expanded}\"\n            >\n                ${startSlotTemplate(options)}\n                <slot name=\"summary\">${x => x.summary}</slot>\n                ${endSlotTemplate(options)}\n            </summary>\n            <div id=\"disclosure-content\"><slot></slot></div>\n        </details>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement } from \"@microsoft/fast-element\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\n/**\n * A Disclosure Custom HTML Element.\n * Based largely on the {@link https://w3c.github.io/aria-practices/#disclosure | disclosure element }.\n *\n * @slot start - Content which can be provided before the summary content\n * @slot end - Content which can be provided after the summary content\n * @slot title - The summary content\n * @slot - The default slot for the disclosure content\n * @fires toggle - fires a toggle event when the summary is toggled\n *\n * @public\n */\nexport class FASTDisclosure extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Determines if the element should show the extra content or not.\n         *\n         * @public\n         */\n        this.expanded = false;\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.setup();\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.details.removeEventListener(\"toggle\", this.onToggle);\n    }\n    /**\n     * Show extra content.\n     */\n    show() {\n        this.details.open = true;\n    }\n    /**\n     * Hide extra content.\n     */\n    hide() {\n        this.details.open = false;\n    }\n    /**\n     * Toggle the current(expanded/collapsed) state.\n     */\n    toggle() {\n        this.details.open = !this.details.open;\n    }\n    /**\n     * Register listener and set default disclosure mode\n     */\n    setup() {\n        this.onToggle = this.onToggle.bind(this);\n        this.details.addEventListener(\"toggle\", this.onToggle);\n        if (this.expanded) {\n            this.show();\n        }\n    }\n    /**\n     * Update the aria attr and fire `toggle` event\n     */\n    onToggle() {\n        this.expanded = this.details.open;\n        this.$emit(\"toggle\");\n    }\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTDisclosure.prototype, \"expanded\", void 0);\n__decorate([\n    attr\n], FASTDisclosure.prototype, \"summary\", void 0);\napplyMixins(FASTDisclosure, StartEnd);\n", "import { Orientation } from \"@microsoft/fast-web-utilities\";\n/**\n * Divider roles\n * @public\n */\nexport const DividerRole = {\n    /**\n     * The divider semantically separates content\n     */\n    separator: \"separator\",\n    /**\n     * The divider has no semantic value and is for visual presentation only.\n     */\n    presentation: \"presentation\",\n};\n/**\n * Divider orientation\n * @public\n */\nexport const DividerOrientation = Orientation;\n", "import { html } from \"@microsoft/fast-element\";\nimport { DividerRole } from \"./divider.options.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#FASTDivider} component.\n * @public\n */\nexport function dividerTemplate() {\n    return html `\n        <template\n            role=\"${x => x.role}\"\n            aria-orientation=\"${x => x.role !== DividerRole.presentation ? x.orientation : void 0}\"\n        >\n            <slot></slot>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement } from \"@microsoft/fast-element\";\nimport { DividerOrientation, DividerRole } from \"./divider.options.js\";\n/**\n * A Divider Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#separator | ARIA separator } or {@link https://www.w3.org/TR/wai-aria-1.1/#presentation | ARIA presentation}.\n *\n * @public\n */\nexport class FASTDivider extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The role of the element.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: role\n         */\n        this.role = DividerRole.separator;\n        /**\n         * The orientation of the divider.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: orientation\n         */\n        this.orientation = DividerOrientation.horizontal;\n    }\n}\n__decorate([\n    attr\n], FASTDivider.prototype, \"role\", void 0);\n__decorate([\n    attr\n], FASTDivider.prototype, \"orientation\", void 0);\n", "import { html } from \"@microsoft/fast-element\";\nimport { staticallyCompose } from \"../utilities/template-helpers.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#FASTFlipper} component.\n * @public\n */\nexport function flipperTemplate(options = {}) {\n    const templateCache = {};\n    function setFlipperTemplateByDirection(direction, options) {\n        let existing = templateCache[direction];\n        if (!existing) {\n            templateCache[direction] = existing = html `\n                <span part=\"${direction}\" class=\"${direction}\">\n                    <slot name=\"${direction}\">\n                        ${staticallyCompose(options[direction])}\n                    </slot>\n                </span>\n            `;\n        }\n        return existing;\n    }\n    return html `\n        <template\n            role=\"button\"\n            aria-disabled=\"${x => (x.disabled ? true : void 0)}\"\n            tabindex=\"${x => (x.hiddenFromAT ? -1 : 0)}\"\n            @keyup=\"${(x, c) => x.keyupHandler(c.event)}\"\n        >\n            ${x => setFlipperTemplateByDirection(x.direction, options)}\n        </template>\n    `;\n}\n", "/**\n * The direction options for flipper.\n * @public\n */\nexport const FlipperDirection = {\n    next: \"next\",\n    previous: \"previous\",\n};\n", "import { __decorate } from \"tslib\";\nimport { attr, booleanConverter, FASTElement } from \"@microsoft/fast-element\";\nimport { FlipperDirection } from \"./flipper.options.js\";\nexport { FlipperDirection };\n/**\n * A Flipper Custom HTML Element.\n * Flippers are a form of button that implies directional content navigation, such as in a carousel.\n *\n * @slot next - The next flipper content\n * @slot previous - The previous flipper content\n * @csspart next - Wraps the next flipper content\n * @csspart previous - Wraps the previous flipper content\n * @fires click - Fires a custom 'click' event when Enter or Space is invoked via keyboard and the flipper is exposed to assistive technologies.\n *\n * @public\n */\nexport class FASTFlipper extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Indicates the flipper should be hidden from assistive technology. Because flippers are often supplementary navigation, they are often hidden from assistive technology.\n         *\n         * @public\n         * @defaultValue - true\n         * @remarks\n         * HTML Attribute: aria-hidden\n         */\n        this.hiddenFromAT = true;\n        /**\n         * The direction that the flipper implies navigating.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: direction\n         */\n        this.direction = FlipperDirection.next;\n    }\n    /**\n     * Simulate a click event when the flipper has focus and the user hits enter or space keys\n     * Blur focus if the user hits escape key\n     * @param e - Keyboard event\n     * @public\n     */\n    keyupHandler(e) {\n        if (!this.hiddenFromAT) {\n            const key = e.key;\n            if (key === \"Enter\" || key === \"Space\") {\n                this.$emit(\"click\", e);\n            }\n            if (key === \"Escape\") {\n                this.blur();\n            }\n        }\n    }\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTFlipper.prototype, \"disabled\", void 0);\n__decorate([\n    attr({ attribute: \"aria-hidden\", converter: booleanConverter })\n], FASTFlipper.prototype, \"hiddenFromAT\", void 0);\n__decorate([\n    attr\n], FASTFlipper.prototype, \"direction\", void 0);\n", "import { html, slotted } from \"@microsoft/fast-element\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTListboxOption:class)} component.\n * @public\n */\nexport function listboxOptionTemplate(options = {}) {\n    return html `\n        <template\n            aria-checked=\"${x => x.ariaChecked}\"\n            aria-disabled=\"${x => x.ariaDisabled}\"\n            aria-posinset=\"${x => x.ariaPosInSet}\"\n            aria-selected=\"${x => x.ariaSelected}\"\n            aria-setsize=\"${x => x.ariaSetSize}\"\n            role=\"option\"\n        >\n            ${startSlotTemplate(options)}\n            <span class=\"content\" part=\"content\">\n                <slot ${slotted(\"content\")}></slot>\n            </span>\n            ${endSlotTemplate(options)}\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, nullableNumberConverter, observable, Updates, } from \"@microsoft/fast-element\";\nimport { inRange, keyArrowDown, keyArrowUp, keyEnd, keyEscape, keyHome, keySpace, keyTab, } from \"@microsoft/fast-web-utilities\";\nimport { FASTListbox } from \"./listbox.js\";\n/**\n * A Listbox Custom HTML Element.\n * Implements the {@link https://w3c.github.io/aria/#listbox | ARIA listbox }.\n *\n * @public\n */\nexport class FASTListboxElement extends FASTListbox {\n    constructor() {\n        super(...arguments);\n        /**\n         * The index of the most recently checked option.\n         *\n         * @internal\n         * @remarks\n         * Multiple-selection mode only.\n         */\n        this.activeIndex = -1;\n        /**\n         * The start index when checking a range of options.\n         *\n         * @internal\n         */\n        this.rangeStartIndex = -1;\n    }\n    /**\n     * Returns the last checked option.\n     *\n     * @internal\n     */\n    get activeOption() {\n        return this.options[this.activeIndex];\n    }\n    /**\n     * Returns the list of checked options.\n     *\n     * @internal\n     */\n    get checkedOptions() {\n        var _a;\n        return (_a = this.options) === null || _a === void 0 ? void 0 : _a.filter(o => o.checked);\n    }\n    /**\n     * Returns the index of the first selected option.\n     *\n     * @internal\n     */\n    get firstSelectedOptionIndex() {\n        return this.options.indexOf(this.firstSelectedOption);\n    }\n    /**\n     * Updates the `ariaActiveDescendant` property when the active index changes.\n     *\n     * @param prev - the previous active index\n     * @param next - the next active index\n     *\n     * @internal\n     */\n    activeIndexChanged(prev, next) {\n        var _a, _b;\n        this.ariaActiveDescendant = (_b = (_a = this.options[next]) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : \"\";\n        this.focusAndScrollOptionIntoView();\n    }\n    /**\n     * Toggles the checked state for the currently active option.\n     *\n     * @remarks\n     * Multiple-selection mode only.\n     *\n     * @internal\n     */\n    checkActiveIndex() {\n        if (!this.multiple) {\n            return;\n        }\n        const activeItem = this.activeOption;\n        if (activeItem) {\n            activeItem.checked = true;\n        }\n    }\n    /**\n     * Sets the active index to the first option and marks it as checked.\n     *\n     * @remarks\n     * Multi-selection mode only.\n     *\n     * @param preserveChecked - mark all options unchecked before changing the active index\n     *\n     * @internal\n     */\n    checkFirstOption(preserveChecked = false) {\n        if (preserveChecked) {\n            if (this.rangeStartIndex === -1) {\n                this.rangeStartIndex = this.activeIndex + 1;\n            }\n            this.options.forEach((o, i) => {\n                o.checked = inRange(i, this.rangeStartIndex);\n            });\n        }\n        else {\n            this.uncheckAllOptions();\n        }\n        this.activeIndex = 0;\n        this.checkActiveIndex();\n    }\n    /**\n     * Decrements the active index and sets the matching option as checked.\n     *\n     * @remarks\n     * Multi-selection mode only.\n     *\n     * @param preserveChecked - mark all options unchecked before changing the active index\n     *\n     * @internal\n     */\n    checkLastOption(preserveChecked = false) {\n        if (preserveChecked) {\n            if (this.rangeStartIndex === -1) {\n                this.rangeStartIndex = this.activeIndex;\n            }\n            this.options.forEach((o, i) => {\n                o.checked = inRange(i, this.rangeStartIndex, this.options.length);\n            });\n        }\n        else {\n            this.uncheckAllOptions();\n        }\n        this.activeIndex = this.options.length - 1;\n        this.checkActiveIndex();\n    }\n    /**\n     * @override\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.addEventListener(\"focusout\", this.focusoutHandler);\n    }\n    /**\n     * @override\n     * @internal\n     */\n    disconnectedCallback() {\n        this.removeEventListener(\"focusout\", this.focusoutHandler);\n        super.disconnectedCallback();\n    }\n    /**\n     * Increments the active index and marks the matching option as checked.\n     *\n     * @remarks\n     * Multiple-selection mode only.\n     *\n     * @param preserveChecked - mark all options unchecked before changing the active index\n     *\n     * @internal\n     */\n    checkNextOption(preserveChecked = false) {\n        if (preserveChecked) {\n            if (this.rangeStartIndex === -1) {\n                this.rangeStartIndex = this.activeIndex;\n            }\n            this.options.forEach((o, i) => {\n                o.checked = inRange(i, this.rangeStartIndex, this.activeIndex + 1);\n            });\n        }\n        else {\n            this.uncheckAllOptions();\n        }\n        this.activeIndex += this.activeIndex < this.options.length - 1 ? 1 : 0;\n        this.checkActiveIndex();\n    }\n    /**\n     * Decrements the active index and marks the matching option as checked.\n     *\n     * @remarks\n     * Multiple-selection mode only.\n     *\n     * @param preserveChecked - mark all options unchecked before changing the active index\n     *\n     * @internal\n     */\n    checkPreviousOption(preserveChecked = false) {\n        if (preserveChecked) {\n            if (this.rangeStartIndex === -1) {\n                this.rangeStartIndex = this.activeIndex;\n            }\n            if (this.checkedOptions.length === 1) {\n                this.rangeStartIndex += 1;\n            }\n            this.options.forEach((o, i) => {\n                o.checked = inRange(i, this.activeIndex, this.rangeStartIndex);\n            });\n        }\n        else {\n            this.uncheckAllOptions();\n        }\n        this.activeIndex -= this.activeIndex > 0 ? 1 : 0;\n        this.checkActiveIndex();\n    }\n    /**\n     * Handles click events for listbox options.\n     *\n     * @param e - the event object\n     *\n     * @override\n     * @internal\n     */\n    clickHandler(e) {\n        var _a;\n        if (!this.multiple) {\n            return super.clickHandler(e);\n        }\n        const captured = (_a = e.target) === null || _a === void 0 ? void 0 : _a.closest(`[role=option]`);\n        if (!captured || captured.disabled) {\n            return;\n        }\n        this.uncheckAllOptions();\n        this.activeIndex = this.options.indexOf(captured);\n        this.checkActiveIndex();\n        this.toggleSelectedForAllCheckedOptions();\n        return true;\n    }\n    /**\n     * @override\n     * @internal\n     */\n    focusAndScrollOptionIntoView() {\n        super.focusAndScrollOptionIntoView(this.activeOption);\n    }\n    /**\n     * In multiple-selection mode:\n     * If any options are selected, the first selected option is checked when\n     * the listbox receives focus. If no options are selected, the first\n     * selectable option is checked.\n     *\n     * @override\n     * @internal\n     */\n    focusinHandler(e) {\n        if (!this.multiple) {\n            return super.focusinHandler(e);\n        }\n        if (!this.shouldSkipFocus && e.target === e.currentTarget) {\n            this.uncheckAllOptions();\n            if (this.activeIndex === -1) {\n                this.activeIndex =\n                    this.firstSelectedOptionIndex !== -1\n                        ? this.firstSelectedOptionIndex\n                        : 0;\n            }\n            this.checkActiveIndex();\n            this.setSelectedOptions();\n            this.focusAndScrollOptionIntoView();\n        }\n        this.shouldSkipFocus = false;\n    }\n    /**\n     * Unchecks all options when the listbox loses focus.\n     *\n     * @internal\n     */\n    focusoutHandler(e) {\n        if (this.multiple) {\n            this.uncheckAllOptions();\n        }\n    }\n    /**\n     * Handles keydown actions for listbox navigation and typeahead\n     *\n     * @override\n     * @internal\n     */\n    keydownHandler(e) {\n        if (!this.multiple) {\n            return super.keydownHandler(e);\n        }\n        if (this.disabled) {\n            return true;\n        }\n        const { key, shiftKey } = e;\n        this.shouldSkipFocus = false;\n        switch (key) {\n            // Select the first available option\n            case keyHome: {\n                this.checkFirstOption(shiftKey);\n                return;\n            }\n            // Select the next selectable option\n            case keyArrowDown: {\n                this.checkNextOption(shiftKey);\n                return;\n            }\n            // Select the previous selectable option\n            case keyArrowUp: {\n                this.checkPreviousOption(shiftKey);\n                return;\n            }\n            // Select the last available option\n            case keyEnd: {\n                this.checkLastOption(shiftKey);\n                return;\n            }\n            case keyTab: {\n                this.focusAndScrollOptionIntoView();\n                return true;\n            }\n            case keyEscape: {\n                this.uncheckAllOptions();\n                this.checkActiveIndex();\n                return true;\n            }\n            case keySpace: {\n                e.preventDefault();\n                if (this.typeAheadExpired) {\n                    this.toggleSelectedForAllCheckedOptions();\n                    return;\n                }\n            }\n            // Send key to Typeahead handler\n            default: {\n                if (key.length === 1) {\n                    this.handleTypeAhead(`${key}`);\n                }\n                return true;\n            }\n        }\n    }\n    /**\n     * Prevents `focusin` events from firing before `click` events when the\n     * element is unfocused.\n     *\n     * @override\n     * @internal\n     */\n    mousedownHandler(e) {\n        if (e.offsetX >= 0 && e.offsetX <= this.scrollWidth) {\n            return super.mousedownHandler(e);\n        }\n    }\n    /**\n     * Switches between single-selection and multi-selection mode.\n     *\n     * @internal\n     */\n    multipleChanged(prev, next) {\n        var _a;\n        this.ariaMultiSelectable = next ? \"true\" : null;\n        (_a = this.options) === null || _a === void 0 ? void 0 : _a.forEach(o => {\n            o.checked = next ? false : undefined;\n        });\n        this.setSelectedOptions();\n    }\n    /**\n     * Sets an option as selected and gives it focus.\n     *\n     * @override\n     * @public\n     */\n    setSelectedOptions() {\n        if (!this.multiple) {\n            super.setSelectedOptions();\n            return;\n        }\n        if (this.$fastController.isConnected && this.options) {\n            this.selectedOptions = this.options.filter(o => o.selected);\n            this.focusAndScrollOptionIntoView();\n        }\n    }\n    /**\n     * Ensures the size is a positive integer when the property is updated.\n     *\n     * @param prev - the previous size value\n     * @param next - the current size value\n     *\n     * @internal\n     */\n    sizeChanged(prev, next) {\n        var _a;\n        const size = Math.max(0, parseInt((_a = next === null || next === void 0 ? void 0 : next.toFixed()) !== null && _a !== void 0 ? _a : \"\", 10));\n        if (size !== next) {\n            Updates.enqueue(() => {\n                this.size = size;\n            });\n        }\n    }\n    /**\n     * Toggles the selected state of the provided options. If any provided items\n     * are in an unselected state, all items are set to selected. If every\n     * provided item is selected, they are all unselected.\n     *\n     * @internal\n     */\n    toggleSelectedForAllCheckedOptions() {\n        const enabledCheckedOptions = this.checkedOptions.filter(o => !o.disabled);\n        const force = !enabledCheckedOptions.every(o => o.selected);\n        enabledCheckedOptions.forEach(o => (o.selected = force));\n        this.selectedIndex = this.options.indexOf(enabledCheckedOptions[enabledCheckedOptions.length - 1]);\n        this.setSelectedOptions();\n    }\n    /**\n     * @override\n     * @internal\n     */\n    typeaheadBufferChanged(prev, next) {\n        if (!this.multiple) {\n            super.typeaheadBufferChanged(prev, next);\n            return;\n        }\n        if (this.$fastController.isConnected) {\n            const typeaheadMatches = this.getTypeaheadMatches();\n            const activeIndex = this.options.indexOf(typeaheadMatches[0]);\n            if (activeIndex > -1) {\n                this.activeIndex = activeIndex;\n                this.uncheckAllOptions();\n                this.checkActiveIndex();\n            }\n            this.typeAheadExpired = false;\n        }\n    }\n    /**\n     * Unchecks all options.\n     *\n     * @remarks\n     * Multiple-selection mode only.\n     *\n     * @param preserveChecked - reset the rangeStartIndex\n     *\n     * @internal\n     */\n    uncheckAllOptions(preserveChecked = false) {\n        this.options.forEach(o => (o.checked = this.multiple ? false : undefined));\n        if (!preserveChecked) {\n            this.rangeStartIndex = -1;\n        }\n    }\n}\n__decorate([\n    observable\n], FASTListboxElement.prototype, \"activeIndex\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTListboxElement.prototype, \"multiple\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTListboxElement.prototype, \"size\", void 0);\n", "import { html, slotted } from \"@microsoft/fast-element\";\nimport { FASTListboxElement } from \"./listbox.element.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTListbox:class)} component.\n * @public\n */\nexport function listboxTemplate() {\n    return html `\n        <template\n            aria-activedescendant=\"${x => x.ariaActiveDescendant}\"\n            aria-multiselectable=\"${x => x.ariaMultiSelectable}\"\n            role=\"listbox\"\n            tabindex=\"${x => (!x.disabled ? \"0\" : null)}\"\n            @click=\"${(x, c) => x.clickHandler(c.event)}\"\n            @focusin=\"${(x, c) => x.focusinHandler(c.event)}\"\n            @keydown=\"${(x, c) => x.keydownHandler(c.event)}\"\n            @mousedown=\"${(x, c) => x.mousedownHandler(c.event)}\"\n        >\n            <slot\n                ${slotted({\n        filter: FASTListboxElement.slottedOptionFilter,\n        flatten: true,\n        property: \"slottedOptions\",\n    })}\n            ></slot>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, html, observable, } from \"@microsoft/fast-element\";\nimport { keyEnter } from \"@microsoft/fast-web-utilities\";\nconst defaultContentsTemplate = html `\n    <template>${x => x.value}</template>\n`;\n/**\n * A picker list item Custom HTML Element.\n *\n * @beta\n */\nexport class FASTPickerListItem extends FASTElement {\n    contentsTemplateChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateView();\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.updateView();\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        this.disconnectView();\n        super.disconnectedCallback();\n    }\n    handleKeyDown(e) {\n        if (e.defaultPrevented) {\n            return false;\n        }\n        if (e.key === keyEnter) {\n            this.handleInvoke();\n            return false;\n        }\n        return true;\n    }\n    handleClick(e) {\n        if (!e.defaultPrevented) {\n            this.handleInvoke();\n        }\n        return false;\n    }\n    handleInvoke() {\n        this.$emit(\"pickeriteminvoked\");\n    }\n    updateView() {\n        var _a, _b;\n        this.disconnectView();\n        this.customView =\n            (_b = (_a = this.contentsTemplate) === null || _a === void 0 ? void 0 : _a.render(this, this)) !== null && _b !== void 0 ? _b : defaultContentsTemplate.render(this, this);\n    }\n    disconnectView() {\n        var _a;\n        (_a = this.customView) === null || _a === void 0 ? void 0 : _a.dispose();\n        this.customView = undefined;\n    }\n}\n__decorate([\n    attr({ attribute: \"value\" })\n], FASTPickerListItem.prototype, \"value\", void 0);\n__decorate([\n    observable\n], FASTPickerListItem.prototype, \"contentsTemplate\", void 0);\n", "import { html } from \"@microsoft/fast-element\";\n/**\n *\n * @public\n */\nexport function pickerListItemTemplate() {\n    return html `\n        <template\n            role=\"listitem\"\n            tabindex=\"0\"\n            @click=\"${(x, c) => x.handleClick(c.event)}\"\n            @keydown=\"${(x, c) => x.handleKeyDown(c.event)}\"\n        >\n            <slot></slot>\n        </template>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\n/**\n * A List Picker Menu Custom HTML Element.\n *\n * @beta\n */\nexport class FASTPickerList extends FASTElement {\n}\n", "import { html } from \"@microsoft/fast-element\";\n/**\n *\n * @public\n */\nexport function pickerListTemplate() {\n    return html `\n        <template slot=\"list-region\" role=\"list\">\n            <slot></slot>\n            <slot name=\"input-region\"></slot>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, html, observable, } from \"@microsoft/fast-element\";\nconst defaultContentsTemplate = html `\n    <template>${x => x.value}</template>\n`;\n/**\n * A picker list item Custom HTML Element.\n *\n * @beta\n */\nexport class FASTPickerMenuOption extends FASTElement {\n    contentsTemplateChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateView();\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.updateView();\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.disconnectView();\n    }\n    handleClick(e) {\n        if (e.defaultPrevented) {\n            return false;\n        }\n        this.handleInvoked();\n        return false;\n    }\n    handleInvoked() {\n        this.$emit(\"pickeroptioninvoked\");\n    }\n    updateView() {\n        var _a, _b;\n        this.disconnectView();\n        this.customView =\n            (_b = (_a = this.contentsTemplate) === null || _a === void 0 ? void 0 : _a.render(this, this)) !== null && _b !== void 0 ? _b : defaultContentsTemplate.render(this, this);\n    }\n    disconnectView() {\n        var _a;\n        (_a = this.customView) === null || _a === void 0 ? void 0 : _a.dispose();\n        this.customView = undefined;\n    }\n}\n__decorate([\n    attr({ attribute: \"value\" })\n], FASTPickerMenuOption.prototype, \"value\", void 0);\n__decorate([\n    observable\n], FASTPickerMenuOption.prototype, \"contentsTemplate\", void 0);\n", "import { html } from \"@microsoft/fast-element\";\n/**\n *\n * @public\n */\nexport function pickerMenuOptionTemplate() {\n    return html `\n        <template\n            role=\"listitem\"\n            tabindex=\"-1\"\n            @click=\"${(x, c) => x.handleClick(c.event)}\"\n        >\n            <slot></slot>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { uniqueId } from \"@microsoft/fast-web-utilities\";\nimport { FASTElement, observable } from \"@microsoft/fast-element\";\n/**\n * A List Picker Menu Custom HTML Element.\n *\n * @beta\n */\nexport class FASTPickerMenu extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Children that are list items\n         *\n         * @internal\n         */\n        this.optionElements = [];\n    }\n    menuElementsChanged() {\n        this.updateOptions();\n    }\n    headerElementsChanged() {\n        this.updateOptions();\n    }\n    footerElementsChanged() {\n        this.updateOptions();\n    }\n    updateOptions() {\n        this.optionElements.splice(0, this.optionElements.length);\n        this.addSlottedListItems(this.headerElements);\n        this.addSlottedListItems(this.menuElements);\n        this.addSlottedListItems(this.footerElements);\n        this.$emit(\"optionsupdated\", { bubbles: false });\n    }\n    addSlottedListItems(slotChildren) {\n        if (slotChildren === undefined) {\n            return;\n        }\n        slotChildren.forEach((child) => {\n            if (child.nodeType === 1 && child.getAttribute(\"role\") === \"listitem\") {\n                child.id = child.id || uniqueId(\"option-\");\n                this.optionElements.push(child);\n            }\n        });\n    }\n}\n__decorate([\n    observable\n], FASTPickerMenu.prototype, \"menuElements\", void 0);\n__decorate([\n    observable\n], FASTPickerMenu.prototype, \"headerElements\", void 0);\n__decorate([\n    observable\n], FASTPickerMenu.prototype, \"footerElements\", void 0);\n__decorate([\n    observable\n], FASTPickerMenu.prototype, \"suggestionsAvailableText\", void 0);\n", "import { html, slotted } from \"@microsoft/fast-element\";\n/**\n * The template for the List Picker component.\n * @public\n */\nexport function pickerMenuTemplate() {\n    return html `\n        <template role=\"list\" slot=\"menu-region\">\n            <div class=\"options-display\" part=\"options-display\">\n                <div class=\"header-region\" part=\"header-region\">\n                    <slot name=\"header-region\" ${slotted(\"headerElements\")}></slot>\n                </div>\n\n                <slot ${slotted(\"menuElements\")}></slot>\n                <div class=\"footer-region\" part=\"footer-region\">\n                    <slot name=\"footer-region\" ${slotted(\"footerElements\")}></slot>\n                </div>\n                <div\n                    role=\"alert\"\n                    aria-live=\"polite\"\n                    part=\"suggestions-available-alert\"\n                    class=\"suggestions-available-alert\"\n                >\n                    ${x => x.suggestionsAvailableText}\n                </div>\n            </div>\n        </template>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\nimport { FormAssociated } from \"../form-associated/form-associated.js\";\nclass _Picker extends FASTElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTPicker:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedPicker extends FormAssociated(_Picker) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"input\");\n    }\n}\n", "/**\n * vertical positioning values for an anchored region\n * @beta\n */\nexport const MenuPlacement = {\n    bottom: \"bottom\",\n    bottomFill: \"bottom-fill\",\n    tallest: \"tallest\",\n    tallestFill: \"tallest-fill\",\n    top: \"top\",\n    topFill: \"top-fill\",\n};\n", "import { __decorate } from \"tslib\";\nimport { attr, html, nullableNumberConverter, observable, oneWay, ref, RepeatDirective, Updates, } from \"@microsoft/fast-element\";\nimport { ViewBehaviorOrchestrator } from \"@microsoft/fast-element/utilities.js\";\nimport { keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyBackspace, keyDelete, keyEnter, keyEscape, uniqueId, } from \"@microsoft/fast-web-utilities\";\nimport { FlyoutPosBottom, FlyoutPosBottomFill, FlyoutPosTallest, FlyoutPosTallestFill, FlyoutPosTop, FlyoutPosTopFill, } from \"../anchored-region/index.js\";\nimport { FASTPickerListItem } from \"./picker-list-item.js\";\nimport { FASTPickerMenuOption } from \"./picker-menu-option.js\";\nimport { FormAssociatedPicker } from \"./picker.form-associated.js\";\nimport { MenuPlacement } from \"./picker.options.js\";\nconst pickerInputTemplate = html `\n    <input\n        slot=\"input-region\"\n        role=\"combobox\"\n        type=\"text\"\n        autocapitalize=\"off\"\n        autocomplete=\"off\"\n        haspopup=\"list\"\n        aria-label=\"${x => x.label}\"\n        aria-labelledby=\"${x => x.labelledBy}\"\n        placeholder=\"${x => x.placeholder}\"\n        ${ref(\"inputElement\")}\n    />\n`;\n/**\n * A Picker Custom HTML Element.  This is an early \"alpha\" version of the component.\n * Developers should expect the api to evolve, breaking changes are possible.\n *\n * @beta\n */\nexport class FASTPicker extends FormAssociatedPicker {\n    constructor() {\n        super(...arguments);\n        /**\n         * Currently selected items. Comma delineated string ie. \"apples,oranges\".\n         *\n         * @remarks\n         * HTML Attribute: selection\n         */\n        this.selection = \"\";\n        /**\n         * Whether the component should remove an option from the list when it is in the selection\n         *\n         * @remarks\n         * HTML Attribute: filter-selected\n         */\n        this.filterSelected = true;\n        /**\n         * Whether the component should remove options based on the current query\n         *\n         * @remarks\n         * HTML Attribute: filter-query\n         */\n        this.filterQuery = true;\n        /**\n         * The maximum number of items that can be selected.\n         *\n         * @remarks\n         * HTML Attribute: max-selected\n         */\n        this.maxSelected = null;\n        /**\n         * The text to present to assistive technolgies when no suggestions are available.\n         *\n         * @remarks\n         * HTML Attribute: no-suggestions-text\n         */\n        this.noSuggestionsText = \"No suggestions available\";\n        /**\n         *  The text to present to assistive technolgies when suggestions are available.\n         *\n         * @remarks\n         * HTML Attribute: suggestions-available-text\n         */\n        this.suggestionsAvailableText = \"Suggestions available\";\n        /**\n         * The text to present to assistive technologies when suggestions are loading.\n         *\n         * @remarks\n         * HTML Attribute: loading-text\n         */\n        this.loadingText = \"Loading suggestions\";\n        /**\n         * Controls menu placement\n         *\n         * @remarks\n         * HTML Attribute: menu-placement\n         */\n        this.menuPlacement = MenuPlacement.bottomFill;\n        /**\n         * Whether to display a loading state if the menu is opened.\n         *\n         */\n        this.showLoading = false;\n        /**\n         *  Current list of options in array form\n         *\n         */\n        this.optionsList = [];\n        /**\n         *  Current list of filtered options in array form\n         *\n         * @internal\n         */\n        this.filteredOptionsList = [];\n        /**\n         *  Indicates if the flyout menu is open or not\n         *\n         * @internal\n         */\n        this.flyoutOpen = false;\n        /**\n         *  Index of currently active menu option\n         *\n         * @internal\n         */\n        this.menuFocusIndex = -1;\n        /**\n         *  Internal flag to indicate no options available display should be shown.\n         *\n         * @internal\n         */\n        this.showNoOptions = false;\n        /**\n         *\n         *\n         * @internal\n         */\n        this.selectedItems = [];\n        this.inputElementView = null;\n        this.behaviorOrchestrator = null;\n        /**\n         * Handle input event from input element\n         */\n        this.handleTextInput = (e) => {\n            this.query = this.inputElement.value;\n        };\n        /**\n         * Handle click event from input element\n         */\n        this.handleInputClick = (e) => {\n            e.preventDefault();\n            this.toggleFlyout(true);\n        };\n        /**\n         * Sets properties on the anchored region once it is instanciated.\n         */\n        this.setRegionProps = () => {\n            if (!this.flyoutOpen) {\n                return;\n            }\n            if (this.region === null || this.region === undefined) {\n                // TODO: limit this\n                Updates.enqueue(this.setRegionProps);\n                return;\n            }\n            this.region.anchorElement = this.inputElement;\n        };\n        /**\n         * matches menu placement values with the associated menu config\n         */\n        this.configLookup = {\n            top: FlyoutPosTop,\n            bottom: FlyoutPosBottom,\n            tallest: FlyoutPosTallest,\n            \"top-fill\": FlyoutPosTopFill,\n            \"bottom-fill\": FlyoutPosBottomFill,\n            \"tallest-fill\": FlyoutPosTallestFill,\n        };\n    }\n    selectionChanged() {\n        if (this.$fastController.isConnected) {\n            this.handleSelectionChange();\n            if (this.proxy instanceof HTMLInputElement) {\n                this.proxy.value = this.selection;\n                this.validate();\n            }\n        }\n    }\n    optionsChanged() {\n        this.optionsList = this.options\n            .split(\",\")\n            .map(opt => opt.trim())\n            .filter(opt => opt !== \"\");\n    }\n    menuPlacementChanged() {\n        if (this.$fastController.isConnected) {\n            this.updateMenuConfig();\n        }\n    }\n    showLoadingChanged() {\n        if (this.$fastController.isConnected) {\n            Updates.enqueue(() => {\n                this.setFocusedOption(0);\n            });\n        }\n    }\n    listItemTemplateChanged() {\n        this.updateListItemTemplate();\n    }\n    defaultListItemTemplateChanged() {\n        this.updateListItemTemplate();\n    }\n    menuOptionTemplateChanged() {\n        this.updateOptionTemplate();\n    }\n    defaultMenuOptionTemplateChanged() {\n        this.updateOptionTemplate();\n    }\n    optionsListChanged() {\n        this.updateFilteredOptions();\n    }\n    queryChanged() {\n        if (this.$fastController.isConnected) {\n            if (this.inputElement.value !== this.query) {\n                this.inputElement.value = this.query;\n            }\n            this.updateFilteredOptions();\n            this.$emit(\"querychange\", { bubbles: false });\n        }\n    }\n    filteredOptionsListChanged() {\n        if (this.$fastController.isConnected) {\n            Updates.enqueue(() => {\n                this.showNoOptions =\n                    this.menuElement.querySelectorAll('[role=\"listitem\"]').length === 0;\n                this.setFocusedOption(this.showNoOptions ? -1 : 0);\n            });\n        }\n    }\n    flyoutOpenChanged() {\n        if (this.flyoutOpen) {\n            Updates.enqueue(this.setRegionProps);\n            this.$emit(\"menuopening\", { bubbles: false });\n        }\n        else {\n            this.$emit(\"menuclosing\", { bubbles: false });\n        }\n    }\n    showNoOptionsChanged() {\n        if (this.$fastController.isConnected) {\n            Updates.enqueue(() => {\n                this.setFocusedOption(0);\n            });\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        if (!this.listElement) {\n            this.listElement = document.createElement(this.selectedListTag);\n            this.appendChild(this.listElement);\n            this.itemsPlaceholderElement = document.createComment(\"\");\n            this.listElement.appendChild(this.itemsPlaceholderElement);\n        }\n        this.inputElementView = pickerInputTemplate.render(this, this.listElement);\n        const match = this.menuTag.toUpperCase();\n        this.menuElement = Array.from(this.children).find((element) => {\n            return element.tagName === match;\n        });\n        if (!this.menuElement) {\n            this.menuElement = document.createElement(this.menuTag);\n            this.appendChild(this.menuElement);\n            if (this.menuElement.id === \"\") {\n                this.menuElement.id = uniqueId(\"listbox-\");\n            }\n            this.menuId = this.menuElement.id;\n        }\n        if (!this.optionsPlaceholder) {\n            this.optionsPlaceholder = document.createComment(\"\");\n            this.menuElement.appendChild(this.optionsPlaceholder);\n        }\n        this.updateMenuConfig();\n        Updates.enqueue(() => this.initialize());\n    }\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.toggleFlyout(false);\n        this.inputElement.removeEventListener(\"input\", this.handleTextInput);\n        this.inputElement.removeEventListener(\"click\", this.handleInputClick);\n        if (this.inputElementView !== null) {\n            this.inputElementView.dispose();\n            this.inputElementView = null;\n        }\n    }\n    /**\n     * Move focus to the input element\n     * @public\n     */\n    focus() {\n        this.inputElement.focus();\n    }\n    /**\n     * Initialize the component.  This is delayed a frame to ensure children are connected as well.\n     */\n    initialize() {\n        this.updateListItemTemplate();\n        this.updateOptionTemplate();\n        if (this.behaviorOrchestrator === null) {\n            this.behaviorOrchestrator = ViewBehaviorOrchestrator.create(this);\n            this.$fastController.addBehavior(this.behaviorOrchestrator);\n            this.behaviorOrchestrator.addBehaviorFactory(new RepeatDirective(oneWay(x => x.selectedItems), oneWay(x => x.activeListItemTemplate), { positioning: true }), this.itemsPlaceholderElement);\n            this.behaviorOrchestrator.addBehaviorFactory(new RepeatDirective(oneWay(x => x.filteredOptionsList), oneWay(x => x.activeMenuOptionTemplate), { positioning: true }), this.optionsPlaceholder);\n        }\n        this.inputElement.addEventListener(\"input\", this.handleTextInput);\n        this.inputElement.addEventListener(\"click\", this.handleInputClick);\n        this.menuElement.suggestionsAvailableText = this.suggestionsAvailableText;\n        this.menuElement.addEventListener(\"optionsupdated\", this.handleMenuOptionsUpdated);\n        this.handleSelectionChange();\n    }\n    /**\n     * Toggles the menu flyout\n     */\n    toggleFlyout(open) {\n        if (this.flyoutOpen === open) {\n            return;\n        }\n        if (open && this.getRootActiveElement() === this.inputElement) {\n            this.flyoutOpen = open;\n            Updates.enqueue(() => {\n                if (this.menuElement !== undefined) {\n                    this.setFocusedOption(0);\n                }\n                else {\n                    this.disableMenu();\n                }\n            });\n            return;\n        }\n        this.flyoutOpen = false;\n        this.disableMenu();\n        return;\n    }\n    /**\n     * Handle the menu options updated event from the child menu\n     */\n    handleMenuOptionsUpdated(e) {\n        e.preventDefault();\n        if (this.flyoutOpen) {\n            this.setFocusedOption(0);\n        }\n    }\n    /**\n     * Handle key down events.\n     */\n    handleKeyDown(e) {\n        if (e.defaultPrevented) {\n            return false;\n        }\n        const activeElement = this.getRootActiveElement();\n        switch (e.key) {\n            // TODO: what should \"home\" and \"end\" keys do, exactly?\n            //\n            // case keyHome: {\n            //     if (!this.flyoutOpen) {\n            //         this.toggleFlyout(true);\n            //     } else {\n            //         if (this.menuElement.optionElements.length > 0) {\n            //             this.setFocusedOption(0);\n            //         }\n            //     }\n            //     return false;\n            // }\n            // case keyEnd: {\n            //     if (!this.flyoutOpen) {\n            //         this.toggleFlyout(true);\n            //     } else {\n            //         if (this.menuElement.optionElements.length > 0) {\n            //             this.toggleFlyout(true);\n            //             this.setFocusedOption(this.menuElement.optionElements.length - 1);\n            //         }\n            //     }\n            //     return false;\n            // }\n            case keyArrowDown: {\n                if (!this.flyoutOpen) {\n                    this.toggleFlyout(true);\n                }\n                else {\n                    const nextFocusOptionIndex = this.flyoutOpen\n                        ? Math.min(this.menuFocusIndex + 1, this.menuElement.optionElements.length - 1)\n                        : 0;\n                    this.setFocusedOption(nextFocusOptionIndex);\n                }\n                return false;\n            }\n            case keyArrowUp: {\n                if (!this.flyoutOpen) {\n                    this.toggleFlyout(true);\n                }\n                else {\n                    const previousFocusOptionIndex = this.flyoutOpen\n                        ? Math.max(this.menuFocusIndex - 1, 0)\n                        : 0;\n                    this.setFocusedOption(previousFocusOptionIndex);\n                }\n                return false;\n            }\n            case keyEscape: {\n                this.toggleFlyout(false);\n                return false;\n            }\n            case keyEnter: {\n                if (this.menuFocusIndex !== -1 &&\n                    this.menuElement.optionElements.length > this.menuFocusIndex) {\n                    this.menuElement.optionElements[this.menuFocusIndex].click();\n                }\n                return false;\n            }\n            case keyArrowRight: {\n                if (activeElement !== this.inputElement) {\n                    this.incrementFocusedItem(1);\n                    return false;\n                }\n                // don't block if arrow keys moving caret in input element\n                return true;\n            }\n            case keyArrowLeft: {\n                if (this.inputElement.selectionStart === 0) {\n                    this.incrementFocusedItem(-1);\n                    return false;\n                }\n                // don't block if arrow keys moving caret in input element\n                return true;\n            }\n            case keyDelete:\n            case keyBackspace: {\n                if (activeElement === null) {\n                    return true;\n                }\n                if (activeElement === this.inputElement) {\n                    if (this.inputElement.selectionStart === 0) {\n                        this.selection = this.selectedItems\n                            .slice(0, this.selectedItems.length - 1)\n                            .toString();\n                        this.toggleFlyout(false);\n                        return false;\n                    }\n                    // let text deletion proceed\n                    return true;\n                }\n                const selectedItems = Array.from(this.listElement.children);\n                const currentFocusedItemIndex = selectedItems.indexOf(activeElement);\n                if (currentFocusedItemIndex > -1) {\n                    // delete currently focused item\n                    this.selection = this.selectedItems\n                        .splice(currentFocusedItemIndex, 1)\n                        .toString();\n                    Updates.enqueue(() => {\n                        selectedItems[Math.min(selectedItems.length, currentFocusedItemIndex)].focus();\n                    });\n                    return false;\n                }\n                return true;\n            }\n        }\n        this.toggleFlyout(true);\n        return true;\n    }\n    /**\n     * Handle focus in events.\n     */\n    handleFocusIn(e) {\n        return false;\n    }\n    /**\n     * Handle focus out events.\n     */\n    handleFocusOut(e) {\n        if (this.menuElement === undefined ||\n            !this.menuElement.contains(e.relatedTarget)) {\n            this.toggleFlyout(false);\n        }\n        return false;\n    }\n    /**\n     * The list of selected items has changed\n     */\n    handleSelectionChange() {\n        if (this.selectedItems.toString() === this.selection) {\n            return;\n        }\n        this.selectedItems = this.selection === \"\" ? [] : this.selection.split(\",\");\n        this.updateFilteredOptions();\n        Updates.enqueue(() => {\n            this.checkMaxItems();\n        });\n        this.$emit(\"selectionchange\", { bubbles: false });\n    }\n    /**\n     * Anchored region is loaded, menu and options exist in the DOM.\n     */\n    handleRegionLoaded(e) {\n        Updates.enqueue(() => {\n            this.setFocusedOption(0);\n            this.$emit(\"menuloaded\", { bubbles: false });\n        });\n    }\n    /**\n     * Checks if the maximum number of items has been chosen and updates the ui.\n     */\n    checkMaxItems() {\n        if (this.inputElement === undefined) {\n            return;\n        }\n        if (this.maxSelected !== null &&\n            this.maxSelected !== 0 &&\n            this.selectedItems.length >= this.maxSelected) {\n            if (this.getRootActiveElement() === this.inputElement) {\n                const selectedItemInstances = Array.from(this.listElement.querySelectorAll(\"[role='listitem']\"));\n                selectedItemInstances[selectedItemInstances.length - 1].focus();\n            }\n            this.inputElement.hidden = true;\n        }\n        else {\n            this.inputElement.hidden = false;\n        }\n    }\n    getRootActiveElement() {\n        const rootNode = this.getRootNode();\n        if (rootNode instanceof ShadowRoot) {\n            return rootNode.activeElement;\n        }\n        return document.activeElement;\n    }\n    /**\n     * A list item has been invoked.\n     */\n    handleItemInvoke(e) {\n        if (e.defaultPrevented) {\n            return false;\n        }\n        if (e.target instanceof FASTPickerListItem) {\n            const listItems = Array.from(this.listElement.querySelectorAll(\"[role='listitem']\"));\n            const itemIndex = listItems.indexOf(e.target);\n            if (itemIndex !== -1) {\n                const newSelection = this.selectedItems.slice();\n                newSelection.splice(itemIndex, 1);\n                this.selection = newSelection.toString();\n                Updates.enqueue(() => {\n                    this.incrementFocusedItem(0);\n                    this.toggleFlyout(true);\n                });\n            }\n            return false;\n        }\n        return true;\n    }\n    /**\n     * A menu option has been invoked.\n     */\n    handleOptionInvoke(e) {\n        if (e.defaultPrevented) {\n            return false;\n        }\n        if (e.target instanceof FASTPickerMenuOption && e.target.value !== undefined) {\n            if (this.maxSelected === 0) {\n                // if we don't allow selection just update the query\n                this.query = e.target.value;\n            }\n            else {\n                this.query = \"\";\n                this.selection = `${this.selection}${this.selection === \"\" ? \"\" : \",\"}${e.target.value}`;\n            }\n            this.toggleFlyout(false);\n            this.inputElement.focus();\n            return false;\n        }\n        return true;\n    }\n    /**\n     * Increments the focused list item by the specified amount\n     */\n    incrementFocusedItem(increment) {\n        if (this.selectedItems.length === 0) {\n            this.inputElement.focus();\n            return;\n        }\n        const selectedItemsAsElements = Array.from(this.listElement.querySelectorAll(\"[role='listitem']\"));\n        const activeElement = this.getRootActiveElement();\n        if (activeElement !== null) {\n            let currentFocusedItemIndex = selectedItemsAsElements.indexOf(activeElement);\n            if (currentFocusedItemIndex === -1) {\n                // use the input element\n                currentFocusedItemIndex = selectedItemsAsElements.length;\n            }\n            const newFocusedItemIndex = Math.min(selectedItemsAsElements.length, Math.max(0, currentFocusedItemIndex + increment));\n            if (newFocusedItemIndex === selectedItemsAsElements.length) {\n                if (this.maxSelected !== null &&\n                    this.selectedItems.length >= this.maxSelected) {\n                    selectedItemsAsElements[newFocusedItemIndex - 1].focus();\n                }\n                else {\n                    this.inputElement.focus();\n                }\n            }\n            else {\n                selectedItemsAsElements[newFocusedItemIndex].focus();\n            }\n        }\n    }\n    /**\n     * Disables the menu. Note that the menu can be open, just doens't have any valid options on display.\n     */\n    disableMenu() {\n        var _a, _b, _c;\n        this.menuFocusIndex = -1;\n        this.menuFocusOptionId = undefined;\n        (_a = this.inputElement) === null || _a === void 0 ? void 0 : _a.removeAttribute(\"aria-activedescendant\");\n        (_b = this.inputElement) === null || _b === void 0 ? void 0 : _b.removeAttribute(\"aria-owns\");\n        (_c = this.inputElement) === null || _c === void 0 ? void 0 : _c.removeAttribute(\"aria-expanded\");\n    }\n    /**\n     * Sets the currently focused menu option by index\n     */\n    setFocusedOption(optionIndex) {\n        if (!this.flyoutOpen ||\n            optionIndex === -1 ||\n            this.showNoOptions ||\n            this.showLoading) {\n            this.disableMenu();\n            return;\n        }\n        if (this.menuElement.optionElements.length === 0) {\n            return;\n        }\n        this.menuElement.optionElements.forEach((element) => {\n            element.setAttribute(\"aria-selected\", \"false\");\n        });\n        this.menuFocusIndex = optionIndex;\n        if (this.menuFocusIndex > this.menuElement.optionElements.length - 1) {\n            this.menuFocusIndex = this.menuElement.optionElements.length - 1;\n        }\n        this.menuFocusOptionId = this.menuElement.optionElements[this.menuFocusIndex].id;\n        this.inputElement.setAttribute(\"aria-owns\", this.menuId);\n        this.inputElement.setAttribute(\"aria-expanded\", \"true\");\n        this.inputElement.setAttribute(\"aria-activedescendant\", this.menuFocusOptionId);\n        const focusedOption = this.menuElement.optionElements[this.menuFocusIndex];\n        focusedOption.setAttribute(\"aria-selected\", \"true\");\n        focusedOption.scrollIntoView(true);\n    }\n    /**\n     * Updates the template used for the list item repeat behavior\n     */\n    updateListItemTemplate() {\n        var _a;\n        this.activeListItemTemplate =\n            (_a = this.listItemTemplate) !== null && _a !== void 0 ? _a : this.defaultListItemTemplate;\n    }\n    /**\n     * Updates the template used for the menu option repeat behavior\n     */\n    updateOptionTemplate() {\n        var _a;\n        this.activeMenuOptionTemplate =\n            (_a = this.menuOptionTemplate) !== null && _a !== void 0 ? _a : this.defaultMenuOptionTemplate;\n    }\n    /**\n     * Updates the filtered options array\n     */\n    updateFilteredOptions() {\n        this.filteredOptionsList = this.optionsList.slice(0);\n        if (this.filterSelected) {\n            this.filteredOptionsList = this.filteredOptionsList.filter(el => this.selectedItems.indexOf(el) === -1);\n        }\n        if (this.filterQuery && this.query !== \"\" && this.query !== undefined) {\n            // compare case-insensitive\n            const filterQuery = this.query.toLowerCase();\n            this.filteredOptionsList = this.filteredOptionsList.filter(el => el.toLowerCase().indexOf(filterQuery) !== -1);\n        }\n    }\n    /**\n     * Updates the menu configuration\n     */\n    updateMenuConfig() {\n        let newConfig = this.configLookup[this.menuPlacement];\n        if (newConfig === null) {\n            newConfig = FlyoutPosBottomFill;\n        }\n        this.menuConfig = Object.assign(Object.assign({}, newConfig), { autoUpdateMode: \"auto\", fixedPlacement: true, horizontalViewportLock: false, verticalViewportLock: false });\n    }\n}\n__decorate([\n    attr({ attribute: \"selection\" })\n], FASTPicker.prototype, \"selection\", void 0);\n__decorate([\n    attr({ attribute: \"options\" })\n], FASTPicker.prototype, \"options\", void 0);\n__decorate([\n    attr({ attribute: \"filter-selected\", mode: \"boolean\" })\n], FASTPicker.prototype, \"filterSelected\", void 0);\n__decorate([\n    attr({ attribute: \"filter-query\", mode: \"boolean\" })\n], FASTPicker.prototype, \"filterQuery\", void 0);\n__decorate([\n    attr({ attribute: \"max-selected\", converter: nullableNumberConverter })\n], FASTPicker.prototype, \"maxSelected\", void 0);\n__decorate([\n    attr({ attribute: \"no-suggestions-text\" })\n], FASTPicker.prototype, \"noSuggestionsText\", void 0);\n__decorate([\n    attr({ attribute: \"suggestions-available-text\" })\n], FASTPicker.prototype, \"suggestionsAvailableText\", void 0);\n__decorate([\n    attr({ attribute: \"loading-text\" })\n], FASTPicker.prototype, \"loadingText\", void 0);\n__decorate([\n    attr({ attribute: \"label\" })\n], FASTPicker.prototype, \"label\", void 0);\n__decorate([\n    attr({ attribute: \"labelledby\" })\n], FASTPicker.prototype, \"labelledBy\", void 0);\n__decorate([\n    attr({ attribute: \"placeholder\" })\n], FASTPicker.prototype, \"placeholder\", void 0);\n__decorate([\n    attr({ attribute: \"menu-placement\" })\n], FASTPicker.prototype, \"menuPlacement\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"showLoading\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"listItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"defaultListItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"activeListItemTemplate\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"menuOptionTemplate\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"defaultMenuOptionTemplate\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"activeMenuOptionTemplate\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"listItemContentsTemplate\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"menuOptionContentsTemplate\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"optionsList\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"query\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"filteredOptionsList\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"flyoutOpen\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"menuId\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"selectedListTag\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"menuTag\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"menuFocusIndex\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"menuFocusOptionId\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"showNoOptions\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"menuConfig\", void 0);\n__decorate([\n    observable\n], FASTPicker.prototype, \"selectedItems\", void 0);\n", "import { html, ref, when, } from \"@microsoft/fast-element\";\nimport { tagFor } from \"../patterns/tag-for.js\";\nfunction defaultListItemTemplate(options) {\n    const pickerListItemTag = html.partial(tagFor(options.pickerListItem));\n    return html `\n    <${pickerListItemTag}\n        value=\"${x => x}\"\n        :contentsTemplate=\"${(x, c) => c.parent.listItemContentsTemplate}\"\n    >\n    </${pickerListItemTag}>\n    `;\n}\nfunction defaultMenuOptionTemplate(options) {\n    const pickerMenuOptionTag = html.partial(tagFor(options.pickerMenuOption));\n    return html `\n    <${pickerMenuOptionTag}\n        value=\"${x => x}\"\n        :contentsTemplate=\"${(x, c) => c.parent.menuOptionContentsTemplate}\"\n    >\n    </${pickerMenuOptionTag}>\n    `;\n}\n/**\n * The template for the List Picker component.\n * @public\n */\nexport function pickerTemplate(options) {\n    const anchoredRegionTag = html.partial(tagFor(options.anchoredRegion));\n    const pickerMenuTag = tagFor(options.pickerMenu);\n    const pickerListTag = tagFor(options.pickerList);\n    const progressRingTag = html.partial(tagFor(options.progressRing));\n    return html `\n        <template\n            :selectedListTag=\"${() => pickerListTag}\"\n            :menuTag=\"${() => pickerMenuTag}\"\n            :defaultListItemTemplate=\"${defaultListItemTemplate(options)}\"\n            :defaultMenuOptionTemplate=\"${defaultMenuOptionTemplate(options)}\"\n            @focusin=\"${(x, c) => x.handleFocusIn(c.event)}\"\n            @focusout=\"${(x, c) => x.handleFocusOut(c.event)}\"\n            @keydown=\"${(x, c) => x.handleKeyDown(c.event)}\"\n            @pickeriteminvoked=\"${(x, c) => x.handleItemInvoke(c.event)}\"\n            @pickeroptioninvoked=\"${(x, c) => x.handleOptionInvoke(c.event)}\"\n        >\n            <slot name=\"list-region\"></slot>\n\n            ${when(x => x.flyoutOpen, html `\n                <${anchoredRegionTag}\n                    class=\"region\"\n                    part=\"region\"\n                    auto-update-mode=\"${x => x.menuConfig.autoUpdateMode}\"\n                    fixed-placement=\"${x => x.menuConfig.fixedPlacement}\"\n                    vertical-positioning-mode=\"${x => x.menuConfig.verticalPositioningMode}\"\n                    vertical-default-position=\"${x => x.menuConfig.verticalDefaultPosition}\"\n                    vertical-scaling=\"${x => x.menuConfig.verticalScaling}\"\n                    vertical-inset=\"${x => x.menuConfig.verticalInset}\"\n                    vertical-viewport-lock=\"${x => x.menuConfig.verticalViewportLock}\"\n                    horizontal-positioning-mode=\"${x => x.menuConfig.horizontalPositioningMode}\"\n                    horizontal-default-position=\"${x => x.menuConfig.horizontalDefaultPosition}\"\n                    horizontal-scaling=\"${x => x.menuConfig.horizontalScaling}\"\n                    horizontal-inset=\"${x => x.menuConfig.horizontalInset}\"\n                    horizontal-viewport-lock=\"${x => x.menuConfig.horizontalViewportLock}\"\n                    @loaded=\"${(x, c) => x.handleRegionLoaded(c.event)}\"\n                    ${ref(\"region\")}\n                >\n                    ${when(x => !x.showNoOptions && !x.showLoading, html `\n                            <slot name=\"menu-region\"></slot>\n                        `)}\n                    ${when(x => x.showNoOptions && !x.showLoading, html `\n                            <div class=\"no-options-display\" part=\"no-options-display\">\n                                <slot name=\"no-options-region\">\n                                    ${x => x.noSuggestionsText}\n                                </slot>\n                            </div>\n                        `)}\n                    ${when(x => x.showLoading, html `\n                            <div class=\"loading-display\" part=\"loading-display\">\n                                <slot name=\"loading-region\">\n                                    <${progressRingTag}\n                                        part=\"loading-progress\"\n                                        class=\"loading-progress\"\n                                        slot=\"loading-region\"\n                                    ></${progressRingTag}>\n                                        ${x => x.loadingText}\n                                </slot>\n                            </div>\n                        `)}\n                </${anchoredRegionTag}>\n            `)}\n        </template>\n    `;\n}\n", "/**\n * Menu items roles.\n * @public\n */\nexport const MenuItemRole = {\n    /**\n     * The menu item has a \"menuitem\" role\n     */\n    menuitem: \"menuitem\",\n    /**\n     * The menu item has a \"menuitemcheckbox\" role\n     */\n    menuitemcheckbox: \"menuitemcheckbox\",\n    /**\n     * The menu item has a \"menuitemradio\" role\n     */\n    menuitemradio: \"menuitemradio\",\n};\n/**\n * @internal\n */\nexport const roleForMenuItem = {\n    [MenuItemRole.menuitem]: \"menuitem\",\n    [MenuItemRole.menuitemcheckbox]: \"menuitemcheckbox\",\n    [MenuItemRole.menuitemradio]: \"menuitemradio\",\n};\n", "import { __awaiter, __decorate } from \"tslib\";\nimport { autoUpdate, computePosition, flip, shift, size } from \"@floating-ui/dom\";\nimport { attr, FASTElement, observable, Updates } from \"@microsoft/fast-element\";\nimport { keyArrowLeft, keyArrowRight, keyEnter, keyEscape, keySpace, } from \"@microsoft/fast-web-utilities\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { MenuItemRole, roleForMenuItem } from \"./menu-item.options.js\";\nexport { MenuItemRole, roleForMenuItem };\n/**\n * A Switch Custom HTML Element.\n * Implements {@link https://www.w3.org/TR/wai-aria-1.1/#menuitem | ARIA menuitem }, {@link https://www.w3.org/TR/wai-aria-1.1/#menuitemcheckbox | ARIA menuitemcheckbox}, or {@link https://www.w3.org/TR/wai-aria-1.1/#menuitemradio | ARIA menuitemradio }.\n *\n * @slot checked-indicator - The checked indicator\n * @slot radio-indicator - The radio indicator\n * @slot start - Content which can be provided before the menu item content\n * @slot end - Content which can be provided after the menu item content\n * @slot - The default slot for menu item content\n * @slot expand-collapse-indicator - The expand/collapse indicator\n * @slot submenu - Used to nest menu's within menu items\n * @csspart input-container - The element representing the visual checked or radio indicator\n * @csspart checkbox - The element wrapping the `menuitemcheckbox` indicator\n * @csspart radio - The element wrapping the `menuitemradio` indicator\n * @csspart content - The element wrapping the menu item content\n * @csspart expand-collapse-glyph-container - The element wrapping the expand collapse element\n * @csspart expand-collapse - The expand/collapse element\n * @csspart submenu-region - The container for the submenu, used for positioning\n * @fires expanded-change - Fires a custom 'expanded-change' event when the expanded state changes\n * @fires change - Fires a custom 'change' event when a non-submenu item with a role of `menuitemcheckbox`, `menuitemradio`, or `menuitem` is invoked\n *\n * @public\n */\nexport class FASTMenuItem extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The role of the element.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: role\n         */\n        this.role = MenuItemRole.menuitem;\n        /**\n         * The checked value of the element.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: checked\n         */\n        this.checked = false;\n        this.focusSubmenuOnLoad = false;\n        /**\n         * @internal\n         */\n        this.handleMenuItemKeyDown = (e) => {\n            if (e.defaultPrevented) {\n                return false;\n            }\n            switch (e.key) {\n                case keyEnter:\n                case keySpace:\n                    this.invoke();\n                    return false;\n                case keyArrowRight:\n                    //open/focus on submenu\n                    this.expanded && this.submenu\n                        ? this.submenu.focus()\n                        : this.expandAndFocus();\n                    return false;\n                case keyEscape:\n                    // close submenu\n                    if (this.expanded) {\n                        this.closeSubMenu();\n                        return false;\n                    }\n                    break;\n                case keyArrowLeft:\n                    //close submenu\n                    if (this.expanded) {\n                        this.closeSubMenu();\n                        return false;\n                    }\n            }\n            return true;\n        };\n        /**\n         * @internal\n         */\n        this.handleMenuItemClick = (e) => {\n            if (e.defaultPrevented || this.disabled) {\n                return false;\n            }\n            this.invoke();\n            return false;\n        };\n        /**\n         * @internal\n         */\n        this.submenuLoaded = () => {\n            if (!this.focusSubmenuOnLoad) {\n                return;\n            }\n            this.focusSubmenuOnLoad = false;\n            if (this.submenu) {\n                this.submenu.focus();\n                this.setAttribute(\"tabindex\", \"-1\");\n            }\n        };\n        /**\n         * @internal\n         */\n        this.handleMouseOver = (e) => {\n            if (this.disabled || !this.hasSubmenu || this.expanded) {\n                return false;\n            }\n            this.expanded = true;\n            return false;\n        };\n        /**\n         * @internal\n         */\n        this.handleMouseOut = (e) => {\n            if (!this.expanded || this.contains(document.activeElement)) {\n                return false;\n            }\n            this.expanded = false;\n            return false;\n        };\n        /**\n         * @internal\n         */\n        this.closeSubMenu = () => {\n            // close submenu\n            this.expanded = false;\n            this.focus();\n        };\n        /**\n         * @internal\n         */\n        this.expandAndFocus = () => {\n            if (!this.hasSubmenu) {\n                return;\n            }\n            this.focusSubmenuOnLoad = true;\n            this.expanded = true;\n        };\n        /**\n         * @internal\n         */\n        this.invoke = () => {\n            if (this.disabled) {\n                return;\n            }\n            switch (this.role) {\n                case MenuItemRole.menuitemcheckbox:\n                    this.checked = !this.checked;\n                    break;\n                case MenuItemRole.menuitem:\n                    if (this.hasSubmenu) {\n                        this.expandAndFocus();\n                        break;\n                    }\n                    this.$emit(\"change\");\n                    break;\n                case MenuItemRole.menuitemradio:\n                    if (!this.checked) {\n                        this.checked = true;\n                    }\n                    break;\n            }\n        };\n    }\n    expandedChanged(prev, next) {\n        if (this.$fastController.isConnected) {\n            if (next && this.submenu) {\n                this.updateSubmenu();\n            }\n            this.$emit(\"expanded-change\", this, { bubbles: false });\n        }\n    }\n    checkedChanged(oldValue, newValue) {\n        if (this.$fastController.isConnected) {\n            this.$emit(\"change\");\n        }\n    }\n    /**\n     * @internal\n     */\n    get hasSubmenu() {\n        return !!this.submenu;\n    }\n    /**\n     * Sets the submenu and updates its position.\n     *\n     * @internal\n     */\n    slottedSubmenuChanged(prev, next) {\n        if (next.length) {\n            this.submenu = next[0];\n            this.updateSubmenu();\n        }\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        var _a;\n        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);\n        super.disconnectedCallback();\n    }\n    /**\n     * Calculate and apply submenu positioning.\n     *\n     * @public\n     */\n    updateSubmenu() {\n        var _a;\n        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);\n        if (!this.submenu || !this.expanded) {\n            return;\n        }\n        Updates.enqueue(() => {\n            this.cleanup = autoUpdate(this, this.submenuContainer, () => __awaiter(this, void 0, void 0, function* () {\n                const fallbackPlacements = [\"left-start\", \"right-start\"];\n                const { x, y } = yield computePosition(this, this.submenuContainer, {\n                    middleware: [\n                        shift(),\n                        size({\n                            apply: ({ availableWidth, rects }) => {\n                                if (availableWidth < rects.floating.width) {\n                                    fallbackPlacements.push(\"bottom-end\", \"top-end\");\n                                }\n                            },\n                        }),\n                        flip({ fallbackPlacements }),\n                    ],\n                    placement: \"right-start\",\n                    strategy: \"fixed\",\n                });\n                Object.assign(this.submenuContainer.style, {\n                    left: `${x}px`,\n                    position: \"fixed\",\n                    top: `${y}px`,\n                });\n                this.submenuLoaded();\n            }));\n        });\n    }\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTMenuItem.prototype, \"disabled\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTMenuItem.prototype, \"expanded\", void 0);\n__decorate([\n    attr\n], FASTMenuItem.prototype, \"role\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTMenuItem.prototype, \"checked\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTMenuItem.prototype, \"hidden\", void 0);\n__decorate([\n    observable\n], FASTMenuItem.prototype, \"slottedSubmenu\", void 0);\n__decorate([\n    observable\n], FASTMenuItem.prototype, \"submenu\", void 0);\napplyMixins(FASTMenuItem, StartEnd);\n", "import { html, slotted } from \"@microsoft/fast-element\";\n/**\n * The template for the {@link @microsoft/fast-foundation#FASTMenu} component.\n * @public\n */\nexport function menuTemplate() {\n    return html `\n        <template\n            slot=\"${x => (x.slot ? x.slot : x.isNestedMenu() ? \"submenu\" : void 0)}\"\n            role=\"menu\"\n            @keydown=\"${(x, c) => x.handleMenuKeyDown(c.event)}\"\n            @focusout=\"${(x, c) => x.handleFocusOut(c.event)}\"\n        >\n            <slot ${slotted(\"items\")}></slot>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { FASTElement, Observable, observable, Updates } from \"@microsoft/fast-element\";\nimport { isHTMLElement, keyArrowDown, keyArrowUp, keyEnd, keyHome, } from \"@microsoft/fast-web-utilities\";\nimport { FASTMenuItem, MenuItemRole } from \"../menu-item/index.js\";\n/**\n * A Menu Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#menu | ARIA menu }.\n *\n * @slot - The default slot for the menu items\n *\n * @public\n */\nexport class FASTMenu extends FASTElement {\n    constructor() {\n        super(...arguments);\n        this.expandedItem = null;\n        /**\n         * The index of the focusable element in the items array\n         * defaults to -1\n         */\n        this.focusIndex = -1;\n        /**\n         * @internal\n         */\n        this.isNestedMenu = () => {\n            return (this.parentElement !== null &&\n                isHTMLElement(this.parentElement) &&\n                this.parentElement.getAttribute(\"role\") === \"menuitem\");\n        };\n        /**\n         * if focus is moving out of the menu, reset to a stable initial state\n         * @internal\n         */\n        this.handleFocusOut = (e) => {\n            if (!this.contains(e.relatedTarget) && this.menuItems !== undefined) {\n                this.collapseExpandedItem();\n                // find our first focusable element\n                const focusIndex = this.menuItems.findIndex(this.isFocusableElement);\n                // set the current focus index's tabindex to -1\n                this.menuItems[this.focusIndex].setAttribute(\"tabindex\", \"-1\");\n                // set the first focusable element tabindex to 0\n                this.menuItems[focusIndex].setAttribute(\"tabindex\", \"0\");\n                // set the focus index\n                this.focusIndex = focusIndex;\n            }\n        };\n        this.handleItemFocus = (e) => {\n            const targetItem = e.target;\n            if (this.menuItems !== undefined &&\n                targetItem !== this.menuItems[this.focusIndex]) {\n                this.menuItems[this.focusIndex].setAttribute(\"tabindex\", \"-1\");\n                this.focusIndex = this.menuItems.indexOf(targetItem);\n                targetItem.setAttribute(\"tabindex\", \"0\");\n            }\n        };\n        this.handleExpandedChanged = (e) => {\n            if (e.defaultPrevented ||\n                e.target === null ||\n                this.menuItems === undefined ||\n                this.menuItems.indexOf(e.target) < 0) {\n                return;\n            }\n            e.preventDefault();\n            const changedItem = e.target;\n            // closing an expanded item without opening another\n            if (this.expandedItem !== null &&\n                changedItem === this.expandedItem &&\n                changedItem.expanded === false) {\n                this.expandedItem = null;\n                return;\n            }\n            if (changedItem.expanded) {\n                if (this.expandedItem !== null && this.expandedItem !== changedItem) {\n                    this.expandedItem.expanded = false;\n                }\n                this.menuItems[this.focusIndex].setAttribute(\"tabindex\", \"-1\");\n                this.expandedItem = changedItem;\n                this.focusIndex = this.menuItems.indexOf(changedItem);\n                changedItem.setAttribute(\"tabindex\", \"0\");\n            }\n        };\n        /**\n         * handle change from child element\n         */\n        this.changeHandler = (e) => {\n            if (this.menuItems === undefined) {\n                return;\n            }\n            const changedMenuItem = e.target;\n            const changeItemIndex = this.menuItems.indexOf(changedMenuItem);\n            if (changeItemIndex === -1) {\n                return;\n            }\n            if (changedMenuItem.role === \"menuitemradio\" &&\n                changedMenuItem.checked === true) {\n                for (let i = changeItemIndex - 1; i >= 0; --i) {\n                    const item = this.menuItems[i];\n                    const role = item.getAttribute(\"role\");\n                    if (role === MenuItemRole.menuitemradio) {\n                        item.checked = false;\n                    }\n                    if (role === \"separator\") {\n                        break;\n                    }\n                }\n                const maxIndex = this.menuItems.length - 1;\n                for (let i = changeItemIndex + 1; i <= maxIndex; ++i) {\n                    const item = this.menuItems[i];\n                    const role = item.getAttribute(\"role\");\n                    if (role === MenuItemRole.menuitemradio) {\n                        item.checked = false;\n                    }\n                    if (role === \"separator\") {\n                        break;\n                    }\n                }\n            }\n        };\n        /**\n         * check if the item is a menu item\n         */\n        this.isMenuItemElement = (el) => {\n            return (el instanceof FASTMenuItem ||\n                (isHTMLElement(el) &&\n                    el.getAttribute(\"role\") in FASTMenu.focusableElementRoles));\n        };\n        /**\n         * check if the item is focusable\n         */\n        this.isFocusableElement = (el) => {\n            return this.isMenuItemElement(el);\n        };\n    }\n    itemsChanged(oldValue, newValue) {\n        // only update children after the component is connected and\n        // the setItems has run on connectedCallback\n        // (menuItems is undefined until then)\n        if (this.$fastController.isConnected && this.menuItems !== undefined) {\n            this.setItems();\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        Updates.enqueue(() => {\n            // wait until children have had a chance to\n            // connect before setting/checking their props/attributes\n            this.setItems();\n        });\n        this.addEventListener(\"change\", this.changeHandler);\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.removeItemListeners();\n        this.menuItems = undefined;\n        this.removeEventListener(\"change\", this.changeHandler);\n    }\n    /**\n     * Focuses the first item in the menu.\n     *\n     * @public\n     */\n    focus() {\n        this.setFocus(0, 1);\n    }\n    /**\n     * Collapses any expanded menu items.\n     *\n     * @public\n     */\n    collapseExpandedItem() {\n        if (this.expandedItem !== null) {\n            this.expandedItem.expanded = false;\n            this.expandedItem = null;\n        }\n    }\n    /**\n     * @internal\n     */\n    handleMenuKeyDown(e) {\n        if (e.defaultPrevented || this.menuItems === undefined) {\n            return;\n        }\n        switch (e.key) {\n            case keyArrowDown:\n                // go forward one index\n                this.setFocus(this.focusIndex + 1, 1);\n                return;\n            case keyArrowUp:\n                // go back one index\n                this.setFocus(this.focusIndex - 1, -1);\n                return;\n            case keyEnd:\n                // set focus on last item\n                this.setFocus(this.menuItems.length - 1, -1);\n                return;\n            case keyHome:\n                // set focus on first item\n                this.setFocus(0, 1);\n                return;\n            default:\n                // if we are not handling the event, do not prevent default\n                return true;\n        }\n    }\n    removeItemListeners(items = this.items) {\n        items.forEach(item => {\n            item.removeEventListener(\"focus\", this.handleItemFocus);\n            item.removeEventListener(\"expanded-changed\", this.handleExpandedChanged);\n            Observable.getNotifier(item).unsubscribe(this, \"hidden\");\n        });\n    }\n    setItems() {\n        const children = Array.from(this.children);\n        this.removeItemListeners(children);\n        children.forEach((child) => Observable.getNotifier(child).subscribe(this, \"hidden\"));\n        const newItems = children.filter(child => !child.hasAttribute(\"hidden\"));\n        this.menuItems = newItems;\n        const menuItems = this.menuItems.filter(this.isMenuItemElement);\n        // if our focus index is not -1 we have items\n        if (menuItems.length) {\n            this.focusIndex = 0;\n        }\n        menuItems.forEach((item, index) => {\n            item.setAttribute(\"tabindex\", index === 0 ? \"0\" : \"-1\");\n            item.addEventListener(\"expanded-change\", this.handleExpandedChanged);\n            item.addEventListener(\"focus\", this.handleItemFocus);\n        });\n    }\n    handleChange(source, propertyName) {\n        if (propertyName === \"hidden\") {\n            this.setItems();\n        }\n    }\n    setFocus(focusIndex, adjustment) {\n        if (this.menuItems === undefined) {\n            return;\n        }\n        while (focusIndex >= 0 && focusIndex < this.menuItems.length) {\n            const child = this.menuItems[focusIndex];\n            if (this.isFocusableElement(child)) {\n                // change the previous index to -1\n                if (this.focusIndex > -1 &&\n                    this.menuItems.length >= this.focusIndex - 1) {\n                    this.menuItems[this.focusIndex].setAttribute(\"tabindex\", \"-1\");\n                }\n                // update the focus index\n                this.focusIndex = focusIndex;\n                // update the tabindex of next focusable element\n                child.setAttribute(\"tabindex\", \"0\");\n                // focus the element\n                child.focus();\n                break;\n            }\n            focusIndex += adjustment;\n        }\n    }\n}\nFASTMenu.focusableElementRoles = MenuItemRole;\n__decorate([\n    observable\n], FASTMenu.prototype, \"items\", void 0);\n", "import { html, ref, slotted, when } from \"@microsoft/fast-element\";\nimport { staticallyCompose } from \"../utilities/template-helpers.js\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTNumberField:class)} component.\n * @public\n */\nexport function numberFieldTemplate(options = {}) {\n    return html `\n        <label\n            part=\"label\"\n            for=\"control\"\n            class=\"${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length\n        ? \"label\"\n        : \"label label__hidden\"}\"\n        >\n            <slot ${slotted(\"defaultSlottedNodes\")}></slot>\n        </label>\n        <div class=\"root\" part=\"root\">\n            ${startSlotTemplate(options)}\n            <input\n                class=\"control\"\n                part=\"control\"\n                id=\"control\"\n                @input=\"${x => x.handleTextInput()}\"\n                @change=\"${x => x.handleChange()}\"\n                @keydown=\"${(x, c) => x.handleKeyDown(c.event)}\"\n                @blur=\"${(x, c) => x.handleBlur()}\"\n                ?autofocus=\"${x => x.autofocus}\"\n                ?disabled=\"${x => x.disabled}\"\n                list=\"${x => x.list}\"\n                maxlength=\"${x => x.maxlength}\"\n                minlength=\"${x => x.minlength}\"\n                placeholder=\"${x => x.placeholder}\"\n                ?readonly=\"${x => x.readOnly}\"\n                ?required=\"${x => x.required}\"\n                size=\"${x => x.size}\"\n                type=\"text\"\n                inputmode=\"numeric\"\n                min=\"${x => x.min}\"\n                max=\"${x => x.max}\"\n                step=\"${x => x.step}\"\n                aria-atomic=\"${x => x.ariaAtomic}\"\n                aria-busy=\"${x => x.ariaBusy}\"\n                aria-controls=\"${x => x.ariaControls}\"\n                aria-current=\"${x => x.ariaCurrent}\"\n                aria-describedby=\"${x => x.ariaDescribedby}\"\n                aria-details=\"${x => x.ariaDetails}\"\n                aria-disabled=\"${x => x.ariaDisabled}\"\n                aria-errormessage=\"${x => x.ariaErrormessage}\"\n                aria-flowto=\"${x => x.ariaFlowto}\"\n                aria-haspopup=\"${x => x.ariaHaspopup}\"\n                aria-hidden=\"${x => x.ariaHidden}\"\n                aria-invalid=\"${x => x.ariaInvalid}\"\n                aria-keyshortcuts=\"${x => x.ariaKeyshortcuts}\"\n                aria-label=\"${x => x.ariaLabel}\"\n                aria-labelledby=\"${x => x.ariaLabelledby}\"\n                aria-live=\"${x => x.ariaLive}\"\n                aria-owns=\"${x => x.ariaOwns}\"\n                aria-relevant=\"${x => x.ariaRelevant}\"\n                aria-roledescription=\"${x => x.ariaRoledescription}\"\n                ${ref(\"control\")}\n            />\n            ${when(x => !x.hideStep && !x.readOnly && !x.disabled, html `\n                    <div class=\"controls\" part=\"controls\">\n                        <div class=\"step-up\" part=\"step-up\" @click=\"${x => x.stepUp()}\">\n                            <slot name=\"step-up-glyph\">\n                                ${staticallyCompose(options.stepUpGlyph)}\n                            </slot>\n                        </div>\n                        <div\n                            class=\"step-down\"\n                            part=\"step-down\"\n                            @click=\"${x => x.stepDown()}\"\n                        >\n                            <slot name=\"step-down-glyph\">\n                                ${staticallyCompose(options.stepDownGlyph)}\n                            </slot>\n                        </div>\n                    </div>\n                `)}\n            ${endSlotTemplate(options)}\n        </div>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\nimport { FormAssociated } from \"../form-associated/form-associated.js\";\nclass _TextField extends FASTElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(TextField:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedTextField extends FormAssociated(_TextField) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"input\");\n    }\n}\n", "/**\n * Text field sub-types\n * @public\n */\nexport const TextFieldType = {\n    /**\n     * An email TextField\n     */\n    email: \"email\",\n    /**\n     * A password TextField\n     */\n    password: \"password\",\n    /**\n     * A telephone TextField\n     */\n    tel: \"tel\",\n    /**\n     * A text TextField\n     */\n    text: \"text\",\n    /**\n     * A URL TextField\n     */\n    url: \"url\",\n};\n", "import { __decorate } from \"tslib\";\nimport { attr, nullableNumberConverter, observable, Updates, } from \"@microsoft/fast-element\";\nimport { ARIAGlobalStatesAndProperties, StartEnd } from \"../patterns/index.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { FormAssociatedTextField } from \"./text-field.form-associated.js\";\nimport { TextFieldType } from \"./text-field.options.js\";\nexport { TextFieldType };\n/**\n * A Text Field Custom HTML Element.\n * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text | <input type=\"text\" /> element }.\n *\n * @slot start - Content which can be provided before the number field input\n * @slot end - Content which can be provided after the number field input\n * @slot - The default slot for the label\n * @csspart label - The label\n * @csspart root - The element wrapping the control, including start and end slots\n * @csspart control - The text field element\n * @fires change - Fires a custom 'change' event when the value has changed\n *\n * @public\n */\nexport class FASTTextField extends FormAssociatedTextField {\n    constructor() {\n        super(...arguments);\n        /**\n         * Allows setting a type or mode of text.\n         * @public\n         * @remarks\n         * HTML Attribute: type\n         */\n        this.type = TextFieldType.text;\n    }\n    readOnlyChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.readOnly = this.readOnly;\n            this.validate();\n        }\n    }\n    autofocusChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.autofocus = this.autofocus;\n            this.validate();\n        }\n    }\n    placeholderChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.placeholder = this.placeholder;\n        }\n    }\n    typeChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.type = this.type;\n            this.validate();\n        }\n    }\n    listChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.setAttribute(\"list\", this.list);\n            this.validate();\n        }\n    }\n    maxlengthChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.maxLength = this.maxlength;\n            this.validate();\n        }\n    }\n    minlengthChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.minLength = this.minlength;\n            this.validate();\n        }\n    }\n    patternChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.pattern = this.pattern;\n            this.validate();\n        }\n    }\n    sizeChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.size = this.size;\n        }\n    }\n    spellcheckChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.spellcheck = this.spellcheck;\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.proxy.setAttribute(\"type\", this.type);\n        this.validate();\n        if (this.autofocus) {\n            Updates.enqueue(() => {\n                this.focus();\n            });\n        }\n    }\n    /**\n     * Selects all the text in the text field\n     *\n     * @public\n     */\n    select() {\n        this.control.select();\n        /**\n         * The select event does not permeate the shadow DOM boundary.\n         * This fn effectively proxies the select event,\n         * emitting a `select` event whenever the internal\n         * control emits a `select` event\n         */\n        this.$emit(\"select\");\n    }\n    /**\n     * Handles the internal control's `input` event\n     * @internal\n     */\n    handleTextInput() {\n        this.value = this.control.value;\n    }\n    /**\n     * Change event handler for inner control.\n     * @remarks\n     * \"Change\" events are not `composable` so they will not\n     * permeate the shadow DOM boundary. This fn effectively proxies\n     * the change event, emitting a `change` event whenever the internal\n     * control emits a `change` event\n     * @internal\n     */\n    handleChange() {\n        this.$emit(\"change\");\n    }\n    /** {@inheritDoc (FormAssociated:interface).validate} */\n    validate() {\n        super.validate(this.control);\n    }\n}\n__decorate([\n    attr({ attribute: \"readonly\", mode: \"boolean\" })\n], FASTTextField.prototype, \"readOnly\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTTextField.prototype, \"autofocus\", void 0);\n__decorate([\n    attr\n], FASTTextField.prototype, \"placeholder\", void 0);\n__decorate([\n    attr\n], FASTTextField.prototype, \"type\", void 0);\n__decorate([\n    attr\n], FASTTextField.prototype, \"list\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTTextField.prototype, \"maxlength\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTTextField.prototype, \"minlength\", void 0);\n__decorate([\n    attr\n], FASTTextField.prototype, \"pattern\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTTextField.prototype, \"size\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTTextField.prototype, \"spellcheck\", void 0);\n__decorate([\n    observable\n], FASTTextField.prototype, \"defaultSlottedNodes\", void 0);\n/**\n * Includes ARIA states and properties relating to the ARIA textbox role\n *\n * @public\n */\nexport class DelegatesARIATextbox {\n}\napplyMixins(DelegatesARIATextbox, ARIAGlobalStatesAndProperties);\napplyMixins(FASTTextField, StartEnd, DelegatesARIATextbox);\n", "import { FASTElement } from \"@microsoft/fast-element\";\nimport { FormAssociated } from \"../form-associated/form-associated.js\";\nclass _NumberField extends FASTElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(NumberField:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedNumberField extends FormAssociated(_NumberField) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"input\");\n    }\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, nullableNumberConverter, observable, Updates, } from \"@microsoft/fast-element\";\nimport { keyArrowDown, keyArrowUp } from \"@microsoft/fast-web-utilities\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { DelegatesARIATextbox } from \"../text-field/text-field.js\";\nimport { FormAssociatedNumberField } from \"./number-field.form-associated.js\";\n/**\n * A Number Field Custom HTML Element.\n * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number | <input type=\"number\" /> element }.\n *\n * @slot start - Content which can be provided before the number field input\n * @slot end - Content which can be provided after the number field input\n * @slot - The default slot for the label\n * @slot step-up-glyph - The glyph for the step up control\n * @slot step-down-glyph - The glyph for the step down control\n * @csspart label - The label\n * @csspart root - The element wrapping the control, including start and end slots\n * @csspart control - The element representing the input\n * @csspart controls - The step up and step down controls\n * @csspart step-up - The step up control\n * @csspart step-down - The step down control\n * @fires input - Fires a custom 'input' event when the value has changed\n * @fires change - Fires a custom 'change' event when the value has changed\n *\n * @public\n */\nexport class FASTNumberField extends FormAssociatedNumberField {\n    constructor() {\n        super(...arguments);\n        /**\n         * When true, spin buttons will not be rendered\n         * @public\n         * @remarks\n         * HTML Attribute: autofocus\n         */\n        this.hideStep = false;\n        /**\n         * Amount to increment or decrement the value by\n         * @public\n         * @remarks\n         * HTMLAttribute: step\n         */\n        this.step = 1;\n        /**\n         * Flag to indicate that the value change is from the user input\n         * @internal\n         */\n        this.isUserInput = false;\n    }\n    /**\n     * Ensures that the max is greater than the min and that the value\n     *  is less than the max\n     * @param previous - the previous max value\n     * @param next - updated max value\n     *\n     * @internal\n     */\n    maxChanged(previous, next) {\n        var _a;\n        this.max = Math.max(next, (_a = this.min) !== null && _a !== void 0 ? _a : next);\n        const min = Math.min(this.min, this.max);\n        if (this.min !== undefined && this.min !== min) {\n            this.min = min;\n        }\n        this.value = this.getValidValue(this.value);\n    }\n    /**\n     * Ensures that the min is less than the max and that the value\n     *  is greater than the min\n     * @param previous - previous min value\n     * @param next - updated min value\n     *\n     * @internal\n     */\n    minChanged(previous, next) {\n        var _a;\n        this.min = Math.min(next, (_a = this.max) !== null && _a !== void 0 ? _a : next);\n        const max = Math.max(this.min, this.max);\n        if (this.max !== undefined && this.max !== max) {\n            this.max = max;\n        }\n        this.value = this.getValidValue(this.value);\n    }\n    /**\n     * The value property, typed as a number.\n     *\n     * @public\n     */\n    get valueAsNumber() {\n        return parseFloat(super.value);\n    }\n    set valueAsNumber(next) {\n        this.value = next.toString();\n    }\n    /**\n     * Validates that the value is a number between the min and max\n     * @param previous - previous stored value\n     * @param next - value being updated\n     * @param updateControl - should the text field be updated with value, defaults to true\n     * @internal\n     */\n    valueChanged(previous, next) {\n        var _a;\n        const value = this.getValidValue(next);\n        if (next !== value) {\n            this.value = value;\n            return;\n        }\n        if (this.$fastController.isConnected && ((_a = this.control) === null || _a === void 0 ? void 0 : _a.value) !== value) {\n            this.control.value = this.value;\n        }\n        super.valueChanged(previous, this.value);\n        if (previous !== undefined && !this.isUserInput) {\n            this.$emit(\"input\");\n            this.$emit(\"change\");\n        }\n        this.isUserInput = false;\n    }\n    /** {@inheritDoc (FormAssociated:interface).validate} */\n    validate() {\n        super.validate(this.control);\n    }\n    /**\n     * Sets the internal value to a valid number between the min and max properties\n     * @param value - user input\n     *\n     * @internal\n     */\n    getValidValue(value) {\n        var _a, _b;\n        let validValue = parseFloat(parseFloat(value).toPrecision(12));\n        if (isNaN(validValue)) {\n            validValue = \"\";\n        }\n        else {\n            validValue = Math.min(validValue, (_a = this.max) !== null && _a !== void 0 ? _a : validValue);\n            validValue = Math.max(validValue, (_b = this.min) !== null && _b !== void 0 ? _b : validValue).toString();\n        }\n        return validValue;\n    }\n    /**\n     * Increments the value using the step value\n     *\n     * @public\n     */\n    stepUp() {\n        const value = parseFloat(this.value);\n        const stepUpValue = !isNaN(value)\n            ? value + this.step\n            : this.min > 0\n                ? this.min\n                : this.max < 0\n                    ? this.max\n                    : !this.min\n                        ? this.step\n                        : 0;\n        this.value = stepUpValue.toString();\n    }\n    /**\n     * Decrements the value using the step value\n     *\n     * @public\n     */\n    stepDown() {\n        const value = parseFloat(this.value);\n        const stepDownValue = !isNaN(value)\n            ? value - this.step\n            : this.min > 0\n                ? this.min\n                : this.max < 0\n                    ? this.max\n                    : !this.min\n                        ? 0 - this.step\n                        : 0;\n        this.value = stepDownValue.toString();\n    }\n    /**\n     * Sets up the initial state of the number field\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.proxy.setAttribute(\"type\", \"number\");\n        this.validate();\n        this.control.value = this.value;\n        if (this.autofocus) {\n            Updates.enqueue(() => {\n                this.focus();\n            });\n        }\n    }\n    /**\n     * Selects all the text in the number field\n     *\n     * @public\n     */\n    select() {\n        this.control.select();\n        /**\n         * The select event does not permeate the shadow DOM boundary.\n         * This fn effectively proxies the select event,\n         * emitting a `select` event whenever the internal\n         * control emits a `select` event\n         */\n        this.$emit(\"select\");\n    }\n    /**\n     * Handles the internal control's `input` event\n     * @internal\n     */\n    handleTextInput() {\n        this.control.value = this.control.value.replace(/[^0-9\\-+e.]/g, \"\");\n        this.isUserInput = true;\n        this.value = this.control.value;\n    }\n    /**\n     * Change event handler for inner control.\n     * @remarks\n     * \"Change\" events are not `composable` so they will not\n     * permeate the shadow DOM boundary. This fn effectively proxies\n     * the change event, emitting a `change` event whenever the internal\n     * control emits a `change` event\n     * @internal\n     */\n    handleChange() {\n        this.$emit(\"change\");\n    }\n    /**\n     * Handles the internal control's `keydown` event\n     * @internal\n     */\n    handleKeyDown(e) {\n        if (this.disabled || this.readOnly) {\n            return true;\n        }\n        const key = e.key;\n        switch (key) {\n            case keyArrowUp:\n                this.stepUp();\n                return false;\n            case keyArrowDown:\n                this.stepDown();\n                return false;\n        }\n        return true;\n    }\n    /**\n     * Handles populating the input field with a validated value when\n     *  leaving the input field.\n     * @internal\n     */\n    handleBlur() {\n        this.control.value = this.value;\n    }\n}\n__decorate([\n    attr({ attribute: \"readonly\", mode: \"boolean\" })\n], FASTNumberField.prototype, \"readOnly\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTNumberField.prototype, \"autofocus\", void 0);\n__decorate([\n    attr({ attribute: \"hide-step\", mode: \"boolean\" })\n], FASTNumberField.prototype, \"hideStep\", void 0);\n__decorate([\n    attr\n], FASTNumberField.prototype, \"placeholder\", void 0);\n__decorate([\n    attr\n], FASTNumberField.prototype, \"list\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTNumberField.prototype, \"maxlength\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTNumberField.prototype, \"minlength\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTNumberField.prototype, \"size\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTNumberField.prototype, \"step\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTNumberField.prototype, \"max\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTNumberField.prototype, \"min\", void 0);\n__decorate([\n    observable\n], FASTNumberField.prototype, \"defaultSlottedNodes\", void 0);\napplyMixins(FASTNumberField, StartEnd, DelegatesARIATextbox);\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, nullableNumberConverter, observable, } from \"@microsoft/fast-element\";\n/**\n * A base class for progress components.\n * @public\n */\nexport class FASTBaseProgress extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Indicates progress in %\n         * @internal\n         */\n        this.percentComplete = 0;\n    }\n    valueChanged() {\n        this.updatePercentComplete();\n    }\n    minChanged() {\n        if (this.$fastController.isConnected) {\n            this.updatePercentComplete();\n        }\n    }\n    maxChanged() {\n        if (this.$fastController.isConnected) {\n            this.updatePercentComplete();\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.updatePercentComplete();\n    }\n    updatePercentComplete() {\n        const min = typeof this.min === \"number\" ? this.min : 0;\n        const max = typeof this.max === \"number\" ? this.max : 100;\n        const value = typeof this.value === \"number\" ? this.value : 0;\n        const range = max - min;\n        this.percentComplete =\n            range === 0 ? 0 : Math.fround(((value - min) / range) * 100);\n    }\n}\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTBaseProgress.prototype, \"value\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTBaseProgress.prototype, \"min\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTBaseProgress.prototype, \"max\", void 0);\n__decorate([\n    observable\n], FASTBaseProgress.prototype, \"percentComplete\", void 0);\n", "import { FASTBaseProgress } from \"../progress/base-progress.js\";\n/**\n * An circular Progress HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#progressbar | ARIA progressbar }.\n *\n * @slot indeterminate - The slot for a custom indeterminate indicator\n * @slot determinate - The slot for a custom determinate indicator\n * @csspart progress - Represents the progress element\n * @csspart determinate - The determinate indicator\n * @csspart background - The background\n *\n * @public\n */\nexport class FASTProgressRing extends FASTBaseProgress {\n}\n", "import { FASTBaseProgress } from \"./base-progress.js\";\n/**\n * An Progress HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#progressbar | ARIA progressbar }.\n *\n * @slot indeterminate - The slot for a custom indeterminate indicator\n * @csspart progress - Represents the progress element\n * @csspart determinate - The determinate indicator\n * @csspart indeterminate - The indeterminate indicator\n *\n * @public\n */\nexport class FASTProgress extends FASTBaseProgress {\n}\n", "import { Orientation } from \"@microsoft/fast-web-utilities\";\n/**\n * Radio Group orientation\n * @public\n */\nexport const RadioGroupOrientation = Orientation;\n", "import { elements, html, slotted } from \"@microsoft/fast-element\";\nimport { RadioGroupOrientation } from \"./radio-group.options.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#FASTRadioGroup} component.\n * @public\n */\nexport function radioGroupTemplate() {\n    return html `\n        <template\n            role=\"radiogroup\"\n            tabindex=\"${x => (x.disabled ? -1 : void 0)}\"\n            aria-disabled=\"${x => x.disabled}\"\n            aria-readonly=\"${x => x.readOnly}\"\n            aria-orientation=\"${x => x.orientation}\"\n            @click=\"${(x, c) => x.clickHandler(c.event)}\"\n            @mousedown=\"${(x, c) => x.handleDisabledClick(c.event)}\"\n            @keydown=\"${(x, c) => x.keydownHandler(c.event)}\"\n            @focusout=\"${(x, c) => x.focusOutHandler(c.event)}\"\n        >\n            <slot name=\"label\"></slot>\n            <div\n                class=\"positioning-region ${x => x.orientation === RadioGroupOrientation.horizontal\n        ? \"horizontal\"\n        : \"vertical\"}\"\n                part=\"positioning-region\"\n            >\n                <slot\n                    ${slotted({\n        property: \"slottedRadioButtons\",\n        filter: elements(\"[role=radio]\"),\n    })}\n                ></slot>\n            </div>\n        </template>\n    `;\n}\n", "/**\n * filters out any whitespace-only nodes, to be used inside a template.\n *\n * @param value - The Node that is being inspected\n * @param index - The index of the node within the array\n * @param array - The Node array that is being filtered\n * @returns true if the node is not a whitespace-only node, false otherwise\n *\n * @public\n */\nexport const whitespaceFilter = value => { var _a; return value.nodeType !== Node.TEXT_NODE || !!((_a = value.nodeValue) === null || _a === void 0 ? void 0 : _a.trim().length); };\n", "import { html, slotted } from \"@microsoft/fast-element\";\nimport { staticallyCompose } from \"../utilities/template-helpers.js\";\nimport { whitespaceFilter } from \"../utilities/whitespace-filter.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTRadio:class)} component.\n * @public\n */\nexport function radioTemplate(options = {}) {\n    return html `\n        <template\n            role=\"radio\"\n            aria-checked=\"${x => x.checked}\"\n            aria-required=\"${x => x.required}\"\n            aria-disabled=\"${x => x.disabled}\"\n            @keypress=\"${(x, c) => x.keypressHandler(c.event)}\"\n        >\n            <div part=\"control\" class=\"control\">\n                <slot name=\"checked-indicator\">\n                    ${staticallyCompose(options.checkedIndicator)}\n                </slot>\n            </div>\n            <label\n                part=\"label\"\n                class=\"${x => {\n        var _a;\n        return [\"label\", !((_a = x.defaultSlottedNodes) === null || _a === void 0 ? void 0 : _a.length) && \"label__hidden\"]\n            .filter(Boolean)\n            .join(\" \");\n    }}\"\n            >\n                <slot\n                    ${slotted({\n        property: \"defaultSlottedNodes\",\n        filter: whitespaceFilter,\n    })}\n                ></slot>\n            </label>\n        </template>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\nimport { CheckableFormAssociated } from \"../form-associated/form-associated.js\";\nclass _Radio extends FASTElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTRadio:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedRadio extends CheckableFormAssociated(_Radio) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"input\");\n    }\n}\n", "import { __decorate } from \"tslib\";\nimport { observable } from \"@microsoft/fast-element\";\nimport { keySpace } from \"@microsoft/fast-web-utilities\";\nimport { FormAssociatedRadio } from \"./radio.form-associated.js\";\n/**\n * A Radio Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#radio | ARIA radio }.\n *\n * @slot checked-indicator - The checked indicator\n * @slot - The default slot for the label\n * @csspart control - The element representing the visual radio control\n * @csspart label - The label\n * @fires change - Emits a custom change event when the checked state changes\n *\n * @public\n */\nexport class FASTRadio extends FormAssociatedRadio {\n    constructor() {\n        super();\n        /**\n         * The element's value to be included in form submission when checked.\n         * Default to \"on\" to reach parity with input[type=\"radio\"]\n         *\n         * @internal\n         */\n        this.initialValue = \"on\";\n        this.proxy.setAttribute(\"type\", \"radio\");\n    }\n    get radioGroup() {\n        return this.closest(\"[role=radiogroup]\");\n    }\n    /**\n     * @internal\n     */\n    defaultCheckedChanged() {\n        var _a;\n        if (this.$fastController.isConnected && !this.dirtyChecked) {\n            // Setting this.checked will cause us to enter a dirty state,\n            // but if we are clean when defaultChecked is changed, we want to stay\n            // in a clean state, so reset this.dirtyChecked\n            if (!this.isInsideRadioGroup()) {\n                this.checked = (_a = this.defaultChecked) !== null && _a !== void 0 ? _a : false;\n                this.dirtyChecked = false;\n            }\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        var _a, _b;\n        super.connectedCallback();\n        this.validate();\n        if (((_a = this.parentElement) === null || _a === void 0 ? void 0 : _a.getAttribute(\"role\")) !== \"radiogroup\" &&\n            this.getAttribute(\"tabindex\") === null) {\n            if (!this.disabled) {\n                this.setAttribute(\"tabindex\", \"0\");\n            }\n        }\n        if (this.checkedAttribute) {\n            if (!this.dirtyChecked) {\n                // Setting this.checked will cause us to enter a dirty state,\n                // but if we are clean when defaultChecked is changed, we want to stay\n                // in a clean state, so reset this.dirtyChecked\n                if (!this.isInsideRadioGroup()) {\n                    this.checked = (_b = this.defaultChecked) !== null && _b !== void 0 ? _b : false;\n                    this.dirtyChecked = false;\n                }\n            }\n        }\n    }\n    isInsideRadioGroup() {\n        return this.radioGroup !== null;\n    }\n    /**\n     * Handles key presses on the radio.\n     * @beta\n     */\n    keypressHandler(e) {\n        var _a;\n        switch (e.key) {\n            case keySpace:\n                if (!this.checked && !((_a = this.radioGroup) === null || _a === void 0 ? void 0 : _a.readOnly)) {\n                    this.checked = true;\n                }\n                return;\n        }\n        return true;\n    }\n}\n__decorate([\n    observable\n], FASTRadio.prototype, \"name\", void 0);\n__decorate([\n    observable\n], FASTRadio.prototype, \"defaultSlottedNodes\", void 0);\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, observable } from \"@microsoft/fast-element\";\nimport { ArrowKeys, Direction, keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnter, } from \"@microsoft/fast-web-utilities\";\nimport { FASTRadio } from \"../radio/index.js\";\nimport { getDirection } from \"../utilities/direction.js\";\nimport { RadioGroupOrientation } from \"./radio-group.options.js\";\n/**\n * An Radio Group Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#radiogroup | ARIA radiogroup }.\n *\n * @slot label - The slot for the label\n * @slot - The default slot for radio buttons\n * @csspart positioning-region - The positioning region for laying out the radios\n * @fires change - Fires a custom 'change' event when the value changes\n *\n * @public\n */\nexport class FASTRadioGroup extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The orientation of the group\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: orientation\n         */\n        this.orientation = RadioGroupOrientation.horizontal;\n        this.radioChangeHandler = (e) => {\n            const changedRadio = e.target;\n            if (changedRadio.checked) {\n                this.slottedRadioButtons.forEach((radio) => {\n                    if (radio !== changedRadio) {\n                        radio.checked = false;\n                        if (!this.isInsideFoundationToolbar) {\n                            radio.setAttribute(\"tabindex\", \"-1\");\n                        }\n                    }\n                });\n                this.selectedRadio = changedRadio;\n                this.value = changedRadio.value;\n                changedRadio.setAttribute(\"tabindex\", \"0\");\n                this.focusedRadio = changedRadio;\n            }\n            e.stopPropagation();\n        };\n        this.moveToRadioByIndex = (group, index) => {\n            const radio = group[index];\n            if (!this.isInsideToolbar) {\n                radio.setAttribute(\"tabindex\", \"0\");\n                radio.checked = true;\n                this.selectedRadio = radio;\n            }\n            this.focusedRadio = radio;\n            radio.focus();\n        };\n        this.moveRightOffGroup = () => {\n            var _a;\n            (_a = this.nextElementSibling) === null || _a === void 0 ? void 0 : _a.focus();\n        };\n        this.moveLeftOffGroup = () => {\n            var _a;\n            (_a = this.previousElementSibling) === null || _a === void 0 ? void 0 : _a.focus();\n        };\n        /**\n         * @internal\n         */\n        this.focusOutHandler = (e) => {\n            const group = this.slottedRadioButtons;\n            const radio = e.target;\n            const index = radio !== null ? group.indexOf(radio) : 0;\n            const focusedIndex = this.focusedRadio\n                ? group.indexOf(this.focusedRadio)\n                : -1;\n            if ((focusedIndex === 0 && index === focusedIndex) ||\n                (focusedIndex === group.length - 1 && focusedIndex === index)) {\n                if (!this.selectedRadio) {\n                    this.focusedRadio = group[0];\n                    this.focusedRadio.setAttribute(\"tabindex\", \"0\");\n                    group.forEach((nextRadio) => {\n                        if (nextRadio !== this.focusedRadio) {\n                            nextRadio.setAttribute(\"tabindex\", \"-1\");\n                        }\n                    });\n                }\n                else {\n                    this.focusedRadio = this.selectedRadio;\n                    if (!this.isInsideFoundationToolbar) {\n                        this.selectedRadio.setAttribute(\"tabindex\", \"0\");\n                        group.forEach((nextRadio) => {\n                            if (nextRadio !== this.selectedRadio) {\n                                nextRadio.setAttribute(\"tabindex\", \"-1\");\n                            }\n                        });\n                    }\n                }\n            }\n            return true;\n        };\n        /**\n         * @internal\n         */\n        this.handleDisabledClick = (e) => {\n            // prevent focus events on items from the click handler when disabled\n            if (this.disabled) {\n                e.preventDefault();\n                return;\n            }\n            return true;\n        };\n        /**\n         * @internal\n         */\n        this.clickHandler = (e) => {\n            if (this.disabled) {\n                return;\n            }\n            e.preventDefault();\n            const radio = e.target;\n            if (radio && radio instanceof FASTRadio) {\n                radio.checked = true;\n                radio.setAttribute(\"tabindex\", \"0\");\n                this.selectedRadio = radio;\n                this.focusedRadio = radio;\n            }\n        };\n        this.shouldMoveOffGroupToTheRight = (index, group, key) => {\n            return index === group.length && this.isInsideToolbar && key === keyArrowRight;\n        };\n        this.shouldMoveOffGroupToTheLeft = (group, key) => {\n            const index = this.focusedRadio ? group.indexOf(this.focusedRadio) - 1 : 0;\n            return index < 0 && this.isInsideToolbar && key === keyArrowLeft;\n        };\n        this.checkFocusedRadio = () => {\n            if (this.focusedRadio !== null && !this.focusedRadio.checked) {\n                this.focusedRadio.checked = true;\n                this.focusedRadio.setAttribute(\"tabindex\", \"0\");\n                this.focusedRadio.focus();\n                this.selectedRadio = this.focusedRadio;\n            }\n        };\n        this.moveRight = (e) => {\n            const group = this.slottedRadioButtons;\n            let index = 0;\n            index = this.focusedRadio ? group.indexOf(this.focusedRadio) + 1 : 1;\n            if (this.shouldMoveOffGroupToTheRight(index, group, e.key)) {\n                this.moveRightOffGroup();\n                return;\n            }\n            else if (index === group.length) {\n                index = 0;\n            }\n            /* looping to get to next radio that is not disabled */\n            /* matching native radio/radiogroup which does not select an item if there is only 1 in the group */\n            while (index < group.length && group.length > 1) {\n                if (!group[index].disabled) {\n                    this.moveToRadioByIndex(group, index);\n                    break;\n                }\n                else if (this.focusedRadio && index === group.indexOf(this.focusedRadio)) {\n                    break;\n                }\n                else if (index + 1 >= group.length) {\n                    if (this.isInsideToolbar) {\n                        break;\n                    }\n                    else {\n                        index = 0;\n                    }\n                }\n                else {\n                    index += 1;\n                }\n            }\n        };\n        this.moveLeft = (e) => {\n            const group = this.slottedRadioButtons;\n            let index = 0;\n            index = this.focusedRadio ? group.indexOf(this.focusedRadio) - 1 : 0;\n            index = index < 0 ? group.length - 1 : index;\n            if (this.shouldMoveOffGroupToTheLeft(group, e.key)) {\n                this.moveLeftOffGroup();\n                return;\n            }\n            /* looping to get to next radio that is not disabled */\n            while (index >= 0 && group.length > 1) {\n                if (!group[index].disabled) {\n                    this.moveToRadioByIndex(group, index);\n                    break;\n                }\n                else if (this.focusedRadio && index === group.indexOf(this.focusedRadio)) {\n                    break;\n                }\n                else if (index - 1 < 0) {\n                    index = group.length - 1;\n                }\n                else {\n                    index -= 1;\n                }\n            }\n        };\n        /**\n         * keyboard handling per https://w3c.github.io/aria-practices/#for-radio-groups-not-contained-in-a-toolbar\n         * navigation is different when there is an ancestor with role='toolbar'\n         *\n         * @internal\n         */\n        this.keydownHandler = (e) => {\n            const key = e.key;\n            if (key in ArrowKeys && (this.isInsideFoundationToolbar || this.disabled)) {\n                return true;\n            }\n            switch (key) {\n                case keyEnter: {\n                    this.checkFocusedRadio();\n                    break;\n                }\n                case keyArrowRight:\n                case keyArrowDown: {\n                    if (this.direction === Direction.ltr) {\n                        this.moveRight(e);\n                    }\n                    else {\n                        this.moveLeft(e);\n                    }\n                    break;\n                }\n                case keyArrowLeft:\n                case keyArrowUp: {\n                    if (this.direction === Direction.ltr) {\n                        this.moveLeft(e);\n                    }\n                    else {\n                        this.moveRight(e);\n                    }\n                    break;\n                }\n                default: {\n                    return true;\n                }\n            }\n        };\n    }\n    disabledChanged() { }\n    nameChanged() {\n        if (this.slottedRadioButtons) {\n            this.slottedRadioButtons.forEach((radio) => {\n                radio.setAttribute(\"name\", this.name);\n            });\n        }\n    }\n    valueChanged() {\n        if (this.slottedRadioButtons) {\n            this.slottedRadioButtons.forEach((radio) => {\n                if (radio.value === this.value) {\n                    radio.checked = true;\n                    this.selectedRadio = radio;\n                }\n            });\n        }\n        this.$emit(\"change\");\n    }\n    slottedRadioButtonsChanged(oldValue, newValue) {\n        if (this.slottedRadioButtons && this.slottedRadioButtons.length > 0) {\n            this.setupRadioButtons();\n        }\n    }\n    get parentToolbar() {\n        return this.closest('[role=\"toolbar\"]');\n    }\n    get isInsideToolbar() {\n        var _a;\n        return ((_a = this.parentToolbar) !== null && _a !== void 0 ? _a : false);\n    }\n    get isInsideFoundationToolbar() {\n        var _a;\n        return !!((_a = this.parentToolbar) === null || _a === void 0 ? void 0 : _a[\"$fastController\"]);\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.direction = getDirection(this);\n        this.setupRadioButtons();\n    }\n    disconnectedCallback() {\n        this.slottedRadioButtons.forEach((radio) => {\n            radio.removeEventListener(\"change\", this.radioChangeHandler);\n        });\n    }\n    setupRadioButtons() {\n        const checkedRadios = this.slottedRadioButtons.filter((radio) => {\n            return radio.hasAttribute(\"checked\");\n        });\n        const numberOfCheckedRadios = checkedRadios ? checkedRadios.length : 0;\n        if (numberOfCheckedRadios > 1) {\n            const lastCheckedRadio = checkedRadios[numberOfCheckedRadios - 1];\n            lastCheckedRadio.checked = true;\n        }\n        let foundMatchingVal = false;\n        this.slottedRadioButtons.forEach((radio) => {\n            if (this.name !== undefined) {\n                radio.setAttribute(\"name\", this.name);\n            }\n            if (this.value && this.value === radio.value) {\n                this.selectedRadio = radio;\n                this.focusedRadio = radio;\n                radio.checked = true;\n                radio.setAttribute(\"tabindex\", \"0\");\n                foundMatchingVal = true;\n            }\n            else {\n                if (!this.isInsideFoundationToolbar) {\n                    radio.setAttribute(\"tabindex\", \"-1\");\n                }\n                radio.checked = false;\n            }\n            radio.addEventListener(\"change\", this.radioChangeHandler);\n        });\n        if (this.value === undefined && this.slottedRadioButtons.length > 0) {\n            const checkedRadios = this.slottedRadioButtons.filter((radio) => {\n                return radio.hasAttribute(\"checked\");\n            });\n            const numberOfCheckedRadios = checkedRadios !== null ? checkedRadios.length : 0;\n            if (numberOfCheckedRadios > 0 && !foundMatchingVal) {\n                const lastCheckedRadio = checkedRadios[numberOfCheckedRadios - 1];\n                lastCheckedRadio.checked = true;\n                this.focusedRadio = lastCheckedRadio;\n                lastCheckedRadio.setAttribute(\"tabindex\", \"0\");\n            }\n            else {\n                this.slottedRadioButtons[0].setAttribute(\"tabindex\", \"0\");\n                this.focusedRadio = this.slottedRadioButtons[0];\n            }\n        }\n    }\n}\n__decorate([\n    attr({ attribute: \"readonly\", mode: \"boolean\" })\n], FASTRadioGroup.prototype, \"readOnly\", void 0);\n__decorate([\n    attr({ attribute: \"disabled\", mode: \"boolean\" })\n], FASTRadioGroup.prototype, \"disabled\", void 0);\n__decorate([\n    attr\n], FASTRadioGroup.prototype, \"name\", void 0);\n__decorate([\n    attr\n], FASTRadioGroup.prototype, \"value\", void 0);\n__decorate([\n    attr\n], FASTRadioGroup.prototype, \"orientation\", void 0);\n__decorate([\n    observable\n], FASTRadioGroup.prototype, \"childItems\", void 0);\n__decorate([\n    observable\n], FASTRadioGroup.prototype, \"slottedRadioButtons\", void 0);\n", "/**\n * View options for the {@link @microsoft/fast-foundation#(FASTHorizontalScroll:class)|FASTHorizontalScroll} component.\n * @public\n */\nexport const HorizontalScrollView = {\n    default: \"default\",\n    mobile: \"mobile\",\n};\n/**\n * Easing values for the {@link @microsoft/fast-foundation#(FASTHorizontalScroll:class)|FASTHorizontalScroll} component.\n * @public\n */\nexport const ScrollEasing = {\n    linear: \"linear\",\n    easeIn: \"ease-in\",\n    easeOut: \"ease-out\",\n    easeInOut: \"ease-in-out\",\n};\n", "import { __decorate } from \"tslib\";\nimport { attr, booleanConverter, FASTElement, nullableNumberConverter, observable, Updates, } from \"@microsoft/fast-element\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { ScrollEasing } from \"./horizontal-scroll.options.js\";\n/**\n * A HorizontalScroll Custom HTML Element\n *\n * @slot start - Content which can be provided before the scroll area\n * @slot end - Content which can be provided after the scroll area\n * @csspart scroll-area - Wraps the entire scrollable region\n * @csspart scroll-view - The visible scroll area\n * @csspart content-container - The container for the content\n * @csspart scroll-prev - The previous flipper container\n * @csspart scroll-action-previous - The element wrapping the previous flipper\n * @csspart scroll-next - The next flipper container\n * @csspart scroll-action-next - The element wrapping the next flipper\n * @fires scrollstart - Fires a custom 'scrollstart' event when scrolling\n * @fires scrollend - Fires a custom 'scrollend' event when scrolling stops\n *\n * @public\n */\nexport class FASTHorizontalScroll extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * @internal\n         */\n        this.framesPerSecond = 60;\n        /**\n         * Flag indicating that the items are being updated\n         *\n         * @internal\n         */\n        this.updatingItems = false;\n        /**\n         * Speed of scroll in pixels per second\n         * @public\n         */\n        this.speed = 600;\n        /**\n         * Attribute used for easing, defaults to ease-in-out\n         * @public\n         */\n        this.easing = ScrollEasing.easeInOut;\n        /**\n         * Attribute to hide flippers from assistive technology\n         * @public\n         */\n        this.flippersHiddenFromAT = false;\n        /**\n         * Scrolling state\n         * @internal\n         */\n        this.scrolling = false;\n        /**\n         * Detects if the component has been resized\n         * @internal\n         */\n        this.resizeDetector = null;\n    }\n    /**\n     * The calculated duration for a frame.\n     *\n     * @internal\n     */\n    get frameTime() {\n        return 1000 / this.framesPerSecond;\n    }\n    /**\n     * Firing scrollstart and scrollend events\n     * @internal\n     */\n    scrollingChanged(prev, next) {\n        if (this.scrollContainer) {\n            const event = this.scrolling == true ? \"scrollstart\" : \"scrollend\";\n            this.$emit(event, this.scrollContainer.scrollLeft);\n        }\n    }\n    /**\n     * In RTL mode\n     * @internal\n     */\n    get isRtl() {\n        return (this.scrollItems.length > 1 &&\n            this.scrollItems[0].offsetLeft > this.scrollItems[1].offsetLeft);\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.initializeResizeDetector();\n    }\n    disconnectedCallback() {\n        this.disconnectResizeDetector();\n        super.disconnectedCallback();\n    }\n    /**\n     * Updates scroll stops and flippers when scroll items change\n     * @param previous - current scroll items\n     * @param next - new updated scroll items\n     * @public\n     */\n    scrollItemsChanged(previous, next) {\n        if (next && !this.updatingItems) {\n            Updates.enqueue(() => this.setStops());\n        }\n    }\n    /**\n     * destroys the instance's resize observer\n     * @internal\n     */\n    disconnectResizeDetector() {\n        if (this.resizeDetector) {\n            this.resizeDetector.disconnect();\n            this.resizeDetector = null;\n        }\n    }\n    /**\n     * initializes the instance's resize observer\n     * @internal\n     */\n    initializeResizeDetector() {\n        this.disconnectResizeDetector();\n        this.resizeDetector = new window.ResizeObserver(this.resized.bind(this));\n        this.resizeDetector.observe(this);\n    }\n    /**\n     * Looks for slots and uses child nodes instead\n     * @internal\n     */\n    updateScrollStops() {\n        this.updatingItems = true;\n        const updatedItems = this.scrollItems.reduce((scrollItems, scrollItem) => {\n            if (scrollItem instanceof HTMLSlotElement) {\n                return scrollItems.concat(scrollItem.assignedElements());\n            }\n            scrollItems.push(scrollItem);\n            return scrollItems;\n        }, []);\n        this.scrollItems = updatedItems;\n        this.updatingItems = false;\n    }\n    /**\n     * Finds all of the scroll stops between elements\n     * @internal\n     */\n    setStops() {\n        this.updateScrollStops();\n        const { scrollContainer: container } = this;\n        const { scrollLeft } = container;\n        const { width: containerWidth, left: containerLeft } = container.getBoundingClientRect();\n        this.width = containerWidth;\n        let lastStop = 0;\n        let stops = this.scrollItems\n            .map((item, index) => {\n            const { left, width } = item.getBoundingClientRect();\n            const leftPosition = Math.round(left + scrollLeft - containerLeft);\n            const right = Math.round(leftPosition + width);\n            if (this.isRtl) {\n                return -right;\n            }\n            lastStop = right;\n            return index === 0 ? 0 : leftPosition;\n        })\n            .concat(lastStop);\n        /* Fixes a FireFox bug where it doesn't scroll to the start */\n        stops = this.fixScrollMisalign(stops);\n        /* Sort to zero */\n        stops.sort((a, b) => Math.abs(a) - Math.abs(b));\n        this.scrollStops = stops;\n        this.setFlippers();\n    }\n    /**\n     * Checks to see if the stops are returning values\n     *  otherwise it will try to reinitialize them\n     *\n     * @returns boolean indicating that current scrollStops are valid non-zero values\n     * @internal\n     */\n    validateStops(reinit = true) {\n        const hasStops = () => !!this.scrollStops.find((stop) => stop > 0);\n        if (!hasStops() && reinit) {\n            this.setStops();\n        }\n        return hasStops();\n    }\n    /**\n     *\n     */\n    fixScrollMisalign(stops) {\n        if (this.isRtl && stops.some(stop => stop > 0)) {\n            stops.sort((a, b) => b - a);\n            const offset = stops[0];\n            stops = stops.map(stop => stop - offset);\n        }\n        return stops;\n    }\n    /**\n     * Sets the controls view if enabled\n     * @internal\n     */\n    setFlippers() {\n        var _a, _b;\n        const position = this.scrollContainer.scrollLeft;\n        (_a = this.previousFlipperContainer) === null || _a === void 0 ? void 0 : _a.classList.toggle(\"disabled\", position === 0);\n        if (this.scrollStops) {\n            const lastStop = Math.abs(this.scrollStops[this.scrollStops.length - 1]);\n            (_b = this.nextFlipperContainer) === null || _b === void 0 ? void 0 : _b.classList.toggle(\"disabled\", this.validateStops(false) && Math.abs(position) + this.width >= lastStop);\n        }\n    }\n    /**\n     * Function that can scroll an item into view.\n     * @param item - An item index, a scroll item or a child of one of the scroll items\n     * @param padding - Padding of the viewport where the active item shouldn't be\n     * @param rightPadding - Optional right padding. Uses the padding if not defined\n     *\n     * @public\n     */\n    scrollInView(item, padding = 0, rightPadding) {\n        var _a;\n        if (typeof item !== \"number\" && item) {\n            item = this.scrollItems.findIndex(scrollItem => scrollItem === item || scrollItem.contains(item));\n        }\n        if (item !== undefined) {\n            rightPadding = rightPadding !== null && rightPadding !== void 0 ? rightPadding : padding;\n            const { scrollContainer: container, scrollStops, scrollItems: items } = this;\n            const { scrollLeft } = this.scrollContainer;\n            const { width: containerWidth } = container.getBoundingClientRect();\n            const itemStart = scrollStops[item];\n            const { width } = items[item].getBoundingClientRect();\n            const itemEnd = itemStart + width;\n            const isBefore = scrollLeft + padding > itemStart;\n            if (isBefore || scrollLeft + containerWidth - rightPadding < itemEnd) {\n                const stops = [...scrollStops].sort((a, b) => (isBefore ? b - a : a - b));\n                const scrollTo = (_a = stops.find(position => isBefore\n                    ? position + padding < itemStart\n                    : position + containerWidth - (rightPadding !== null && rightPadding !== void 0 ? rightPadding : 0) > itemEnd)) !== null && _a !== void 0 ? _a : 0;\n                this.scrollToPosition(scrollTo);\n            }\n        }\n    }\n    /**\n     * Lets the user arrow left and right through the horizontal scroll\n     * @param e - Keyboard event\n     * @public\n     */\n    keyupHandler(e) {\n        const key = e.key;\n        switch (key) {\n            case \"ArrowLeft\":\n                this.scrollToPrevious();\n                break;\n            case \"ArrowRight\":\n                this.scrollToNext();\n                break;\n        }\n    }\n    /**\n     * Scrolls items to the left\n     * @public\n     */\n    scrollToPrevious() {\n        this.validateStops();\n        const scrollPosition = this.scrollContainer.scrollLeft;\n        const current = this.scrollStops.findIndex((stop, index) => stop >= scrollPosition &&\n            (this.isRtl ||\n                index === this.scrollStops.length - 1 ||\n                this.scrollStops[index + 1] > scrollPosition));\n        const right = Math.abs(this.scrollStops[current + 1]);\n        let nextIndex = this.scrollStops.findIndex(stop => Math.abs(stop) + this.width > right);\n        if (nextIndex >= current || nextIndex === -1) {\n            nextIndex = current > 0 ? current - 1 : 0;\n        }\n        this.scrollToPosition(this.scrollStops[nextIndex], scrollPosition);\n    }\n    /**\n     * Scrolls items to the right\n     * @public\n     */\n    scrollToNext() {\n        this.validateStops();\n        const scrollPosition = this.scrollContainer.scrollLeft;\n        const current = this.scrollStops.findIndex(stop => Math.abs(stop) >= Math.abs(scrollPosition));\n        const outOfView = this.scrollStops.findIndex(stop => Math.abs(scrollPosition) + this.width <= Math.abs(stop));\n        let nextIndex = current;\n        if (outOfView > current + 2) {\n            nextIndex = outOfView - 2;\n        }\n        else if (current < this.scrollStops.length - 2) {\n            nextIndex = current + 1;\n        }\n        this.scrollToPosition(this.scrollStops[nextIndex], scrollPosition);\n    }\n    /**\n     * Handles scrolling with easing\n     * @param position - starting position\n     * @param newPosition - position to scroll to\n     * @public\n     */\n    scrollToPosition(newPosition, position = this.scrollContainer.scrollLeft) {\n        var _a;\n        if (this.scrolling) {\n            return;\n        }\n        this.scrolling = true;\n        const seconds = (_a = this.duration) !== null && _a !== void 0 ? _a : `${Math.abs(newPosition - position) / this.speed}s`;\n        this.content.style.setProperty(\"transition-duration\", seconds);\n        const computedDuration = parseFloat(getComputedStyle(this.content).getPropertyValue(\"transition-duration\"));\n        const transitionendHandler = (e) => {\n            if (e && e.target !== e.currentTarget) {\n                return;\n            }\n            this.content.style.setProperty(\"transition-duration\", \"0s\");\n            this.content.style.removeProperty(\"transform\");\n            this.scrollContainer.style.setProperty(\"scroll-behavior\", \"auto\");\n            this.scrollContainer.scrollLeft = newPosition;\n            this.setFlippers();\n            this.content.removeEventListener(\"transitionend\", transitionendHandler);\n            this.scrolling = false;\n        };\n        if (computedDuration === 0) {\n            transitionendHandler();\n            return;\n        }\n        this.content.addEventListener(\"transitionend\", transitionendHandler);\n        const maxScrollValue = this.scrollContainer.scrollWidth - this.scrollContainer.clientWidth;\n        let transitionStop = this.scrollContainer.scrollLeft - Math.min(newPosition, maxScrollValue);\n        if (this.isRtl) {\n            transitionStop =\n                this.scrollContainer.scrollLeft +\n                    Math.min(Math.abs(newPosition), maxScrollValue);\n        }\n        this.content.style.setProperty(\"transition-property\", \"transform\");\n        this.content.style.setProperty(\"transition-timing-function\", this.easing);\n        this.content.style.setProperty(\"transform\", `translateX(${transitionStop}px)`);\n    }\n    /**\n     * Monitors resize event on the horizontal-scroll element\n     * @public\n     */\n    resized() {\n        if (this.resizeTimeout) {\n            this.resizeTimeout = clearTimeout(this.resizeTimeout);\n        }\n        this.resizeTimeout = setTimeout(() => {\n            this.width = this.scrollContainer.offsetWidth;\n            this.setFlippers();\n        }, this.frameTime);\n    }\n    /**\n     * Monitors scrolled event on the content container\n     * @public\n     */\n    scrolled() {\n        if (this.scrollTimeout) {\n            this.scrollTimeout = clearTimeout(this.scrollTimeout);\n        }\n        this.scrollTimeout = setTimeout(() => {\n            this.setFlippers();\n        }, this.frameTime);\n    }\n}\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTHorizontalScroll.prototype, \"speed\", void 0);\n__decorate([\n    attr\n], FASTHorizontalScroll.prototype, \"duration\", void 0);\n__decorate([\n    attr\n], FASTHorizontalScroll.prototype, \"easing\", void 0);\n__decorate([\n    attr({ attribute: \"flippers-hidden-from-at\", converter: booleanConverter })\n], FASTHorizontalScroll.prototype, \"flippersHiddenFromAT\", void 0);\n__decorate([\n    observable\n], FASTHorizontalScroll.prototype, \"scrolling\", void 0);\n__decorate([\n    observable\n], FASTHorizontalScroll.prototype, \"scrollItems\", void 0);\n__decorate([\n    attr({ attribute: \"view\" })\n], FASTHorizontalScroll.prototype, \"view\", void 0);\napplyMixins(FASTHorizontalScroll, StartEnd);\n", "import { html, ref, slotted } from \"@microsoft/fast-element\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\nimport { whitespaceFilter } from \"../utilities/whitespace-filter.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTSearch:class)} component.\n * @public\n */\nexport function searchTemplate(options = {}) {\n    return html `\n        <label\n            part=\"label\"\n            for=\"control\"\n            class=\"${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length\n        ? \"label\"\n        : \"label label__hidden\"}\"\n        >\n            <slot\n                ${slotted({\n        property: \"defaultSlottedNodes\",\n        filter: whitespaceFilter,\n    })}\n            ></slot>\n        </label>\n        <div class=\"root\" part=\"root\" ${ref(\"root\")}>\n            ${startSlotTemplate(options)}\n            <div class=\"input-wrapper\" part=\"input-wrapper\">\n                <input\n                    class=\"control\"\n                    part=\"control\"\n                    id=\"control\"\n                    @input=\"${x => x.handleTextInput()}\"\n                    @change=\"${x => x.handleChange()}\"\n                    ?autofocus=\"${x => x.autofocus}\"\n                    ?disabled=\"${x => x.disabled}\"\n                    list=\"${x => x.list}\"\n                    maxlength=\"${x => x.maxlength}\"\n                    minlength=\"${x => x.minlength}\"\n                    pattern=\"${x => x.pattern}\"\n                    placeholder=\"${x => x.placeholder}\"\n                    ?readonly=\"${x => x.readOnly}\"\n                    ?required=\"${x => x.required}\"\n                    size=\"${x => x.size}\"\n                    ?spellcheck=\"${x => x.spellcheck}\"\n                    :value=\"${x => x.value}\"\n                    type=\"search\"\n                    aria-atomic=\"${x => x.ariaAtomic}\"\n                    aria-busy=\"${x => x.ariaBusy}\"\n                    aria-controls=\"${x => x.ariaControls}\"\n                    aria-current=\"${x => x.ariaCurrent}\"\n                    aria-describedby=\"${x => x.ariaDescribedby}\"\n                    aria-details=\"${x => x.ariaDetails}\"\n                    aria-disabled=\"${x => x.ariaDisabled}\"\n                    aria-errormessage=\"${x => x.ariaErrormessage}\"\n                    aria-flowto=\"${x => x.ariaFlowto}\"\n                    aria-haspopup=\"${x => x.ariaHaspopup}\"\n                    aria-hidden=\"${x => x.ariaHidden}\"\n                    aria-invalid=\"${x => x.ariaInvalid}\"\n                    aria-keyshortcuts=\"${x => x.ariaKeyshortcuts}\"\n                    aria-label=\"${x => x.ariaLabel}\"\n                    aria-labelledby=\"${x => x.ariaLabelledby}\"\n                    aria-live=\"${x => x.ariaLive}\"\n                    aria-owns=\"${x => x.ariaOwns}\"\n                    aria-relevant=\"${x => x.ariaRelevant}\"\n                    aria-roledescription=\"${x => x.ariaRoledescription}\"\n                    ${ref(\"control\")}\n                />\n                <slot name=\"clear-button\">\n                    <button\n                        class=\"clear-button ${x => x.value ? \"\" : \"clear-button__hidden\"}\"\n                        part=\"clear-button\"\n                        tabindex=\"-1\"\n                        @click=${x => x.handleClearInput()}\n                    >\n                        <slot name=\"clear-glyph\">\n                            <svg\n                                width=\"9\"\n                                height=\"9\"\n                                viewBox=\"0 0 9 9\"\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                            >\n                                <path\n                                    d=\"M0.146447 0.146447C0.338683 -0.0478972 0.645911 -0.0270359 0.853553 0.146447L4.5 3.793L8.14645 0.146447C8.34171 -0.0488155 8.65829 -0.0488155 8.85355 0.146447C9.04882 0.341709 9.04882 0.658291 8.85355 0.853553L5.207 4.5L8.85355 8.14645C9.05934 8.35223 9.03129 8.67582 8.85355 8.85355C8.67582 9.03129 8.35409 9.02703 8.14645 8.85355L4.5 5.207L0.853553 8.85355C0.658291 9.04882 0.341709 9.04882 0.146447 8.85355C-0.0488155 8.65829 -0.0488155 8.34171 0.146447 8.14645L3.793 4.5L0.146447 0.853553C-0.0268697 0.680237 -0.0457894 0.34079 0.146447 0.146447Z\"\n                                />\n                            </svg>\n                        </slot>\n                    </button>\n                </slot>\n            </div>\n            ${endSlotTemplate(options)}\n        </div>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\nimport { FormAssociated } from \"../form-associated/form-associated.js\";\nclass _Search extends FASTElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTSearch:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedSearch extends FormAssociated(_Search) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"input\");\n    }\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, nullableNumberConverter, observable, Updates, } from \"@microsoft/fast-element\";\nimport { ARIAGlobalStatesAndProperties, StartEnd } from \"../patterns/index.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { FormAssociatedSearch } from \"./search.form-associated.js\";\n/**\n * A Search Custom HTML Element.\n * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/search | <input type=\"search\" /> element }.\n *\n * @slot start - Content which can be provided before the search input\n * @slot end - Content which can be provided after the search clear button\n * @slot - The default slot for the label\n * @slot clear-button - The clear button\n * @slot clear-glyph - The clear glyph\n * @csspart label - The label\n * @csspart root - The element wrapping the control, including start and end slots\n * @csspart control - The element representing the input\n * @csspart clear-button - The button to clear the input\n *\n * @public\n */\nexport class FASTSearch extends FormAssociatedSearch {\n    readOnlyChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.readOnly = this.readOnly;\n            this.validate();\n        }\n    }\n    autofocusChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.autofocus = this.autofocus;\n            this.validate();\n        }\n    }\n    placeholderChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.placeholder = this.placeholder;\n        }\n    }\n    listChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.setAttribute(\"list\", this.list);\n            this.validate();\n        }\n    }\n    maxlengthChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.maxLength = this.maxlength;\n            this.validate();\n        }\n    }\n    minlengthChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.minLength = this.minlength;\n            this.validate();\n        }\n    }\n    patternChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.pattern = this.pattern;\n            this.validate();\n        }\n    }\n    sizeChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.size = this.size;\n        }\n    }\n    spellcheckChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.spellcheck = this.spellcheck;\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.validate();\n        if (this.autofocus) {\n            Updates.enqueue(() => {\n                this.focus();\n            });\n        }\n    }\n    /** {@inheritDoc (FormAssociated:interface).validate} */\n    validate() {\n        super.validate(this.control);\n    }\n    /**\n     * Handles the internal control's `input` event\n     * @internal\n     */\n    handleTextInput() {\n        this.value = this.control.value;\n    }\n    /**\n     * Handles the control's clear value event\n     * @public\n     */\n    handleClearInput() {\n        this.value = \"\";\n        this.control.focus();\n        this.handleChange();\n    }\n    /**\n     * Change event handler for inner control.\n     * @remarks\n     * \"Change\" events are not `composable` so they will not\n     * permeate the shadow DOM boundary. This fn effectively proxies\n     * the change event, emitting a `change` event whenever the internal\n     * control emits a `change` event\n     * @internal\n     */\n    handleChange() {\n        this.$emit(\"change\");\n    }\n}\n__decorate([\n    attr({ attribute: \"readonly\", mode: \"boolean\" })\n], FASTSearch.prototype, \"readOnly\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTSearch.prototype, \"autofocus\", void 0);\n__decorate([\n    attr\n], FASTSearch.prototype, \"placeholder\", void 0);\n__decorate([\n    attr\n], FASTSearch.prototype, \"list\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTSearch.prototype, \"maxlength\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTSearch.prototype, \"minlength\", void 0);\n__decorate([\n    attr\n], FASTSearch.prototype, \"pattern\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTSearch.prototype, \"size\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTSearch.prototype, \"spellcheck\", void 0);\n__decorate([\n    observable\n], FASTSearch.prototype, \"defaultSlottedNodes\", void 0);\n/**\n * Includes ARIA states and properties relating to the ARIA textbox role\n *\n * @public\n */\nexport class DelegatesARIASearch {\n}\napplyMixins(DelegatesARIASearch, ARIAGlobalStatesAndProperties);\napplyMixins(FASTSearch, StartEnd, DelegatesARIASearch);\n", "import { FASTListboxElement } from \"../listbox/listbox.element.js\";\nimport { FormAssociated } from \"../form-associated/form-associated.js\";\nclass _Select extends FASTListboxElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(Select:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedSelect extends FormAssociated(_Select) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"select\");\n    }\n}\n", "import { __awaiter, __decorate } from \"tslib\";\nimport { autoUpdate, computePosition, flip, hide, size } from \"@floating-ui/dom\";\nimport { attr, Observable, observable, Updates, volatile } from \"@microsoft/fast-element\";\nimport { keyArrowDown, keyArrowUp, keyEnd, keyEnter, keyEscape, keyHome, keySpace, keyTab, uniqueId, } from \"@microsoft/fast-web-utilities\";\nimport { DelegatesARIAListbox, FASTListbox } from \"../listbox/listbox.js\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { FormAssociatedSelect } from \"./select.form-associated.js\";\n/**\n * A Select Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#select | ARIA select }.\n *\n * @slot start - Content which can be provided before the button content\n * @slot end - Content which can be provided after the button content\n * @slot button-container - The element representing the select button\n * @slot selected-value - The selected value\n * @slot indicator - The visual indicator for the expand/collapse state of the button\n * @slot - The default slot for slotted options\n * @csspart control - The element representing the select invoking element\n * @csspart selected-value - The element wrapping the selected value\n * @csspart indicator - The element wrapping the visual indicator\n * @csspart listbox - The listbox element\n * @fires input - Fires a custom 'input' event when the value updates\n * @fires change - Fires a custom 'change' event when the value updates\n *\n * @public\n */\nexport class FASTSelect extends FormAssociatedSelect {\n    constructor() {\n        super(...arguments);\n        /**\n         * The open attribute.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: open\n         */\n        this.open = false;\n        /**\n         * The unique id for the internal listbox element.\n         *\n         * @internal\n         */\n        this.listboxId = uniqueId(\"listbox-\");\n    }\n    /**\n     * Sets focus and synchronizes ARIA attributes when the open property changes.\n     *\n     * @param prev - the previous open value\n     * @param next - the current open value\n     *\n     * @internal\n     */\n    openChanged(prev, next) {\n        var _a;\n        if (!this.collapsible) {\n            return;\n        }\n        if (this.open) {\n            this.ariaControls = this.listboxId;\n            this.ariaExpanded = \"true\";\n            Updates.enqueue(() => this.setPositioning());\n            this.focusAndScrollOptionIntoView();\n            this.indexWhenOpened = this.selectedIndex;\n            // focus is directed to the element when `open` is changed programmatically\n            Updates.enqueue(() => this.focus());\n            return;\n        }\n        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);\n        this.ariaControls = \"\";\n        this.ariaExpanded = \"false\";\n    }\n    /**\n     * The component is collapsible when in single-selection mode with no size attribute.\n     *\n     * @internal\n     */\n    get collapsible() {\n        return !(this.multiple || typeof this.size === \"number\");\n    }\n    /**\n     * The value property.\n     *\n     * @public\n     */\n    get value() {\n        Observable.track(this, \"value\");\n        return this._value;\n    }\n    set value(next) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const prev = `${this._value}`;\n        if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.length) {\n            const selectedIndex = this._options.findIndex(el => el.value === next);\n            const prevSelectedValue = (_c = (_b = this._options[this.selectedIndex]) === null || _b === void 0 ? void 0 : _b.value) !== null && _c !== void 0 ? _c : null;\n            const nextSelectedValue = (_e = (_d = this._options[selectedIndex]) === null || _d === void 0 ? void 0 : _d.value) !== null && _e !== void 0 ? _e : null;\n            if (selectedIndex === -1 || prevSelectedValue !== nextSelectedValue) {\n                next = \"\";\n                this.selectedIndex = selectedIndex;\n            }\n            next = (_g = (_f = this.firstSelectedOption) === null || _f === void 0 ? void 0 : _f.value) !== null && _g !== void 0 ? _g : next;\n        }\n        if (prev !== next) {\n            this._value = next;\n            super.valueChanged(prev, next);\n            Observable.notify(this, \"value\");\n            this.updateDisplayValue();\n        }\n    }\n    /**\n     * Sets the value and display value to match the first selected option.\n     *\n     * @param shouldEmit - if true, the input and change events will be emitted\n     *\n     * @internal\n     */\n    updateValue(shouldEmit) {\n        var _a, _b;\n        if (this.$fastController.isConnected) {\n            this.value = (_b = (_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : \"\";\n        }\n        if (shouldEmit) {\n            this.$emit(\"input\");\n            this.$emit(\"change\", this, {\n                bubbles: true,\n                composed: undefined,\n            });\n        }\n    }\n    /**\n     * Updates the proxy value when the selected index changes.\n     *\n     * @param prev - the previous selected index\n     * @param next - the next selected index\n     *\n     * @internal\n     */\n    selectedIndexChanged(prev, next) {\n        super.selectedIndexChanged(prev, next);\n        this.updateValue();\n    }\n    /**\n     * Calculate and apply listbox positioning based on available viewport space.\n     *\n     * @public\n     */\n    setPositioning() {\n        if (this.$fastController.isConnected) {\n            this.cleanup = autoUpdate(this, this.listbox, () => __awaiter(this, void 0, void 0, function* () {\n                var _a;\n                const { middlewareData, x, y } = yield computePosition(this.control, this.listbox, {\n                    placement: \"bottom\",\n                    strategy: \"fixed\",\n                    middleware: [\n                        flip(),\n                        size({\n                            apply: ({ availableHeight, rects }) => {\n                                Object.assign(this.listbox.style, {\n                                    maxHeight: `${availableHeight}px`,\n                                    width: `${rects.reference.width}px`,\n                                });\n                            },\n                        }),\n                        hide(),\n                    ],\n                });\n                if ((_a = middlewareData.hide) === null || _a === void 0 ? void 0 : _a.referenceHidden) {\n                    this.open = false;\n                    return;\n                }\n                Object.assign(this.listbox.style, {\n                    position: \"fixed\",\n                    top: \"0\",\n                    left: \"0\",\n                    transform: `translate(${x}px, ${y}px)`,\n                });\n            }));\n        }\n    }\n    /**\n     * The value displayed on the button.\n     *\n     * @public\n     */\n    get displayValue() {\n        var _a, _b;\n        Observable.track(this, \"displayValue\");\n        return (_b = (_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.text) !== null && _b !== void 0 ? _b : \"\";\n    }\n    /**\n     * Synchronize the `aria-disabled` property when the `disabled` property changes.\n     *\n     * @param prev - The previous disabled value\n     * @param next - The next disabled value\n     *\n     * @internal\n     */\n    disabledChanged(prev, next) {\n        if (super.disabledChanged) {\n            super.disabledChanged(prev, next);\n        }\n        this.ariaDisabled = this.disabled ? \"true\" : \"false\";\n    }\n    /**\n     * Reset the element to its first selectable option when its parent form is reset.\n     *\n     * @internal\n     */\n    formResetCallback() {\n        this.setProxyOptions();\n        // Call the base class's implementation setDefaultSelectedOption instead of the select's\n        // override, in order to reset the selectedIndex without using the value property.\n        super.setDefaultSelectedOption();\n        if (this.selectedIndex === -1) {\n            this.selectedIndex = 0;\n        }\n    }\n    /**\n     * Handle opening and closing the listbox when the select is clicked.\n     *\n     * @param e - the mouse event\n     * @internal\n     */\n    clickHandler(e) {\n        // do nothing if the select is disabled\n        if (this.disabled) {\n            return;\n        }\n        if (this.open) {\n            const captured = e.target.closest(`option,[role=option]`);\n            if (captured && captured.disabled) {\n                return;\n            }\n        }\n        super.clickHandler(e);\n        this.open = this.collapsible && !this.open;\n        if (!this.open && this.indexWhenOpened !== this.selectedIndex) {\n            this.updateValue(true);\n        }\n        return true;\n    }\n    /**\n     * Handles focus state when the element or its children lose focus.\n     *\n     * @param e - The focus event\n     * @internal\n     */\n    focusoutHandler(e) {\n        var _a;\n        super.focusoutHandler(e);\n        if (!this.open) {\n            return true;\n        }\n        const focusTarget = e.relatedTarget;\n        if (this.isSameNode(focusTarget)) {\n            this.focus();\n            return;\n        }\n        if (!((_a = this.options) === null || _a === void 0 ? void 0 : _a.includes(focusTarget))) {\n            this.open = false;\n            if (this.indexWhenOpened !== this.selectedIndex) {\n                this.updateValue(true);\n            }\n        }\n    }\n    /**\n     * Updates the value when an option's value changes.\n     *\n     * @param source - the source object\n     * @param propertyName - the property to evaluate\n     *\n     * @internal\n     * @override\n     */\n    handleChange(source, propertyName) {\n        super.handleChange(source, propertyName);\n        if (propertyName === \"value\") {\n            this.updateValue();\n        }\n    }\n    /**\n     * Synchronize the form-associated proxy and updates the value property of the element.\n     *\n     * @param prev - the previous collection of slotted option elements\n     * @param next - the next collection of slotted option elements\n     *\n     * @internal\n     */\n    slottedOptionsChanged(prev, next) {\n        this.options.forEach(o => {\n            const notifier = Observable.getNotifier(o);\n            notifier.unsubscribe(this, \"value\");\n        });\n        super.slottedOptionsChanged(prev, next);\n        this.options.forEach(o => {\n            const notifier = Observable.getNotifier(o);\n            notifier.subscribe(this, \"value\");\n        });\n        this.setProxyOptions();\n        this.updateValue();\n    }\n    /**\n     * Prevents focus when size is set and a scrollbar is clicked.\n     *\n     * @param e - the mouse event object\n     *\n     * @override\n     * @internal\n     */\n    mousedownHandler(e) {\n        var _a;\n        if (e.offsetX >= 0 && e.offsetX <= ((_a = this.listbox) === null || _a === void 0 ? void 0 : _a.scrollWidth)) {\n            return super.mousedownHandler(e);\n        }\n        return this.collapsible;\n    }\n    /**\n     * Sets the multiple property on the proxy element.\n     *\n     * @param prev - the previous multiple value\n     * @param next - the current multiple value\n     */\n    multipleChanged(prev, next) {\n        super.multipleChanged(prev, next);\n        if (this.proxy) {\n            this.proxy.multiple = next;\n        }\n    }\n    /**\n     * Updates the selectedness of each option when the list of selected options changes.\n     *\n     * @param prev - the previous list of selected options\n     * @param next - the current list of selected options\n     *\n     * @override\n     * @internal\n     */\n    selectedOptionsChanged(prev, next) {\n        var _a;\n        super.selectedOptionsChanged(prev, next);\n        (_a = this.options) === null || _a === void 0 ? void 0 : _a.forEach((o, i) => {\n            var _a;\n            const proxyOption = (_a = this.proxy) === null || _a === void 0 ? void 0 : _a.options.item(i);\n            if (proxyOption) {\n                proxyOption.selected = o.selected;\n            }\n        });\n    }\n    /**\n     * Sets the selected index to match the first option with the selected attribute, or\n     * the first selectable option.\n     *\n     * @override\n     * @internal\n     */\n    setDefaultSelectedOption() {\n        var _a;\n        const options = (_a = this.options) !== null && _a !== void 0 ? _a : Array.from(this.children).filter(FASTListbox.slottedOptionFilter);\n        const selectedIndex = options === null || options === void 0 ? void 0 : options.findIndex(el => el.hasAttribute(\"selected\") || el.selected || el.value === this.value);\n        if (selectedIndex !== -1) {\n            this.selectedIndex = selectedIndex;\n            return;\n        }\n        this.selectedIndex = 0;\n    }\n    /**\n     * Resets and fills the proxy to match the component's options.\n     *\n     * @internal\n     */\n    setProxyOptions() {\n        if (this.proxy instanceof HTMLSelectElement && this.options) {\n            this.proxy.options.length = 0;\n            this.options.forEach(option => {\n                const proxyOption = option.proxy ||\n                    (option instanceof HTMLOptionElement ? option.cloneNode() : null);\n                if (proxyOption) {\n                    this.proxy.options.add(proxyOption);\n                }\n            });\n        }\n    }\n    /**\n     * Handle keyboard interaction for the select.\n     *\n     * @param e - the keyboard event\n     * @internal\n     */\n    keydownHandler(e) {\n        super.keydownHandler(e);\n        const key = e.key || e.key.charCodeAt(0);\n        switch (key) {\n            case keySpace: {\n                e.preventDefault();\n                if (this.collapsible && this.typeAheadExpired) {\n                    this.open = !this.open;\n                }\n                break;\n            }\n            case keyHome:\n            case keyEnd: {\n                e.preventDefault();\n                break;\n            }\n            case keyEnter: {\n                e.preventDefault();\n                this.open = !this.open;\n                break;\n            }\n            case keyEscape: {\n                if (this.collapsible && this.open) {\n                    e.preventDefault();\n                    this.open = false;\n                }\n                break;\n            }\n            case keyTab: {\n                if (this.collapsible && this.open) {\n                    e.preventDefault();\n                    this.open = false;\n                }\n                return true;\n            }\n        }\n        if (!this.open && this.indexWhenOpened !== this.selectedIndex) {\n            this.updateValue(true);\n            this.indexWhenOpened = this.selectedIndex;\n        }\n        return !(key === keyArrowDown || key === keyArrowUp);\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.addEventListener(\"contentchange\", this.updateDisplayValue);\n    }\n    disconnectedCallback() {\n        var _a;\n        this.removeEventListener(\"contentchange\", this.updateDisplayValue);\n        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);\n        super.disconnectedCallback();\n    }\n    /**\n     * Updates the proxy's size property when the size attribute changes.\n     *\n     * @param prev - the previous size\n     * @param next - the current size\n     *\n     * @override\n     * @internal\n     */\n    sizeChanged(prev, next) {\n        super.sizeChanged(prev, next);\n        if (this.proxy) {\n            this.proxy.size = next;\n        }\n    }\n    /**\n     *\n     * @internal\n     */\n    updateDisplayValue() {\n        if (this.collapsible) {\n            Observable.notify(this, \"displayValue\");\n        }\n    }\n}\n__decorate([\n    attr({ attribute: \"open\", mode: \"boolean\" })\n], FASTSelect.prototype, \"open\", void 0);\n__decorate([\n    volatile\n], FASTSelect.prototype, \"collapsible\", null);\n__decorate([\n    observable\n], FASTSelect.prototype, \"control\", void 0);\n/**\n * Includes ARIA states and properties relating to the ARIA select role.\n *\n * @public\n */\nexport class DelegatesARIASelect {\n}\n__decorate([\n    observable\n], DelegatesARIASelect.prototype, \"ariaControls\", void 0);\napplyMixins(DelegatesARIASelect, DelegatesARIAListbox);\napplyMixins(FASTSelect, StartEnd, DelegatesARIASelect);\n", "import { html, ref, slotted, when } from \"@microsoft/fast-element\";\nimport { staticallyCompose } from \"../utilities/template-helpers.js\";\nimport { FASTListbox } from \"../listbox/listbox.js\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTSelect:class)} component.\n * @public\n */\nexport function selectTemplate(options = {}) {\n    return html `\n        <template\n            aria-activedescendant=\"${x => x.ariaActiveDescendant}\"\n            aria-controls=\"${x => x.ariaControls}\"\n            aria-disabled=\"${x => x.ariaDisabled}\"\n            aria-expanded=\"${x => x.ariaExpanded}\"\n            aria-haspopup=\"${x => (x.collapsible ? \"listbox\" : null)}\"\n            aria-multiselectable=\"${x => x.ariaMultiSelectable}\"\n            ?open=\"${x => x.open}\"\n            role=\"combobox\"\n            tabindex=\"${x => (!x.disabled ? \"0\" : null)}\"\n            @click=\"${(x, c) => x.clickHandler(c.event)}\"\n            @focusin=\"${(x, c) => x.focusinHandler(c.event)}\"\n            @focusout=\"${(x, c) => x.focusoutHandler(c.event)}\"\n            @keydown=\"${(x, c) => x.keydownHandler(c.event)}\"\n            @mousedown=\"${(x, c) => x.mousedownHandler(c.event)}\"\n        >\n            ${when(x => x.collapsible, html `\n                    <div\n                        class=\"control\"\n                        part=\"control\"\n                        ?disabled=\"${x => x.disabled}\"\n                        ${ref(\"control\")}\n                    >\n                        ${startSlotTemplate(options)}\n                        <slot name=\"button-container\">\n                            <div class=\"selected-value\" part=\"selected-value\">\n                                <slot name=\"selected-value\">${x => x.displayValue}</slot>\n                            </div>\n                            <div aria-hidden=\"true\" class=\"indicator\" part=\"indicator\">\n                                <slot name=\"indicator\">\n                                    ${staticallyCompose(options.indicator)}\n                                </slot>\n                            </div>\n                        </slot>\n                        ${endSlotTemplate(options)}\n                    </div>\n                `)}\n            <div\n                class=\"listbox\"\n                id=\"${x => x.listboxId}\"\n                part=\"listbox\"\n                role=\"listbox\"\n                ?disabled=\"${x => x.disabled}\"\n                ?hidden=\"${x => (x.collapsible ? !x.open : false)}\"\n                ${ref(\"listbox\")}\n            >\n                <slot\n                    ${slotted({\n        filter: FASTListbox.slottedOptionFilter,\n        flatten: true,\n        property: \"slottedOptions\",\n    })}\n                ></slot>\n            </div>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement } from \"@microsoft/fast-element\";\n/**\n * A structure representing skeleton shapes\n * @public\n */\nexport const SkeletonShape = {\n    rect: \"rect\",\n    circle: \"circle\",\n};\n/**\n * A Skeleton Custom HTML Element.\n *\n * @slot - The default slot\n *\n * @public\n */\nexport class FASTSkeleton extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Indicates what the shape of the Skeleton should be.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: shape\n         */\n        this.shape = SkeletonShape.rect;\n    }\n}\n__decorate([\n    attr\n], FASTSkeleton.prototype, \"fill\", void 0);\n__decorate([\n    attr\n], FASTSkeleton.prototype, \"shape\", void 0);\n__decorate([\n    attr\n], FASTSkeleton.prototype, \"pattern\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTSkeleton.prototype, \"shimmer\", void 0);\n", "import { Orientation } from \"@microsoft/fast-web-utilities\";\n/**\n * The orientation of a {@link @microsoft/fast-foundation#(FASTSlider:class)}.\n * @public\n */\nexport const SliderOrientation = Orientation;\n/**\n * The selection modes of a {@link @microsoft/fast-foundation#(FASTSlider:class)}.\n * @public\n */\nexport const SliderMode = {\n    singleValue: \"single-value\",\n};\n", "import { Direction, limit } from \"@microsoft/fast-web-utilities\";\n/**\n * Converts a pixel coordinate on the track to a percent of the track's range\n */\nexport function convertPixelToPercent(pixelPos, minPosition, maxPosition, direction) {\n    let pct = limit(0, 1, (pixelPos - minPosition) / (maxPosition - minPosition));\n    if (direction === Direction.rtl) {\n        pct = 1 - pct;\n    }\n    return pct;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, Observable, observable, } from \"@microsoft/fast-element\";\nimport { Direction } from \"@microsoft/fast-web-utilities\";\nimport { SliderOrientation } from \"../slider/slider.options.js\";\nimport { convertPixelToPercent } from \"../slider/slider-utilities.js\";\nconst defaultConfig = {\n    min: 0,\n    max: 0,\n    direction: Direction.ltr,\n    orientation: SliderOrientation.horizontal,\n    disabled: false,\n};\n/**\n * A label element intended to be used with the {@link @microsoft/fast-foundation#(FASTSlider:class)} component.\n *\n * @slot - The default slot for the label content\n * @csspart root - The element wrapping the label mark and text\n *\n * @public\n */\nexport class FASTSliderLabel extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Hides the tick mark.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: hide-mark\n         */\n        this.hideMark = false;\n        /**\n         * The orientation state of the label. This is generally controlled by the parent {@link @microsoft/fast-foundation#(FASTSlider:class)}.\n         *\n         * @public\n         * @deprecated - will be removed in coming ALPHA version\n         * @remarks\n         * HTML Attribute: orientation\n         */\n        this.orientation = SliderOrientation.horizontal;\n        /**\n         * @internal\n         */\n        this.sliderDirection = Direction.ltr;\n        this.getSliderConfiguration = () => {\n            if (!this.isSliderConfig(this.parentNode)) {\n                this.sliderDirection = defaultConfig.direction || Direction.ltr;\n                this.orientation = defaultConfig.orientation || SliderOrientation.horizontal;\n                this.sliderMaxPosition = defaultConfig.max;\n                this.sliderMinPosition = defaultConfig.min;\n            }\n            else {\n                const parentSlider = this\n                    .parentNode;\n                const { min, max, direction, orientation, disabled } = parentSlider;\n                if (disabled !== undefined) {\n                    this.disabled = disabled;\n                }\n                this.sliderDirection = direction || Direction.ltr;\n                this.orientation = orientation || SliderOrientation.horizontal;\n                this.sliderMaxPosition = max;\n                this.sliderMinPosition = min;\n            }\n        };\n        this.positionAsStyle = () => {\n            const direction = this.sliderDirection\n                ? this.sliderDirection\n                : Direction.ltr;\n            const pct = convertPixelToPercent(Number(this.position), Number(this.sliderMinPosition), Number(this.sliderMaxPosition));\n            let rightNum = Math.round((1 - pct) * 100);\n            let leftNum = Math.round(pct * 100);\n            if (Number.isNaN(leftNum) && Number.isNaN(rightNum)) {\n                rightNum = 50;\n                leftNum = 50;\n            }\n            if (this.orientation === SliderOrientation.horizontal) {\n                return direction === Direction.rtl\n                    ? `right: ${leftNum}%; left: ${rightNum}%;`\n                    : `left: ${leftNum}%; right: ${rightNum}%;`;\n            }\n            else {\n                return `top: ${rightNum}%; bottom: ${leftNum}%;`;\n            }\n        };\n    }\n    positionChanged() {\n        this.positionStyle = this.positionAsStyle();\n    }\n    /**\n     * @internal\n     */\n    orientationChanged() {\n        void 0;\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.getSliderConfiguration();\n        this.positionStyle = this.positionAsStyle();\n        this.notifier = Observable.getNotifier(this.parentNode);\n        this.notifier.subscribe(this, \"orientation\");\n        this.notifier.subscribe(this, \"direction\");\n        this.notifier.subscribe(this, \"max\");\n        this.notifier.subscribe(this, \"min\");\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this.notifier.unsubscribe(this, \"orientation\");\n        this.notifier.unsubscribe(this, \"direction\");\n        this.notifier.unsubscribe(this, \"max\");\n        this.notifier.unsubscribe(this, \"min\");\n    }\n    /**\n     * @internal\n     */\n    handleChange(source, propertyName) {\n        switch (propertyName) {\n            case \"direction\":\n                this.sliderDirection = source.direction;\n                break;\n            case \"orientation\":\n                this.orientation = source.orientation;\n                break;\n            case \"max\":\n                this.sliderMaxPosition = source.max;\n                break;\n            case \"min\":\n                this.sliderMinPosition = source.min;\n                break;\n            default:\n                break;\n        }\n        this.positionStyle = this.positionAsStyle();\n    }\n    isSliderConfig(node) {\n        return node.max !== undefined && node.min !== undefined;\n    }\n}\n__decorate([\n    observable\n], FASTSliderLabel.prototype, \"positionStyle\", void 0);\n__decorate([\n    attr\n], FASTSliderLabel.prototype, \"position\", void 0);\n__decorate([\n    attr({ attribute: \"hide-mark\", mode: \"boolean\" })\n], FASTSliderLabel.prototype, \"hideMark\", void 0);\n__decorate([\n    attr({ attribute: \"disabled\", mode: \"boolean\" })\n], FASTSliderLabel.prototype, \"disabled\", void 0);\n__decorate([\n    attr\n], FASTSliderLabel.prototype, \"orientation\", void 0);\n__decorate([\n    observable\n], FASTSliderLabel.prototype, \"sliderMinPosition\", void 0);\n__decorate([\n    observable\n], FASTSliderLabel.prototype, \"sliderMaxPosition\", void 0);\n__decorate([\n    observable\n], FASTSliderLabel.prototype, \"sliderDirection\", void 0);\n", "import { FASTElement } from \"@microsoft/fast-element\";\nimport { FormAssociated } from \"../form-associated/form-associated.js\";\nclass _Slider extends FASTElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(Slider:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedSlider extends FormAssociated(_Slider) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"input\");\n    }\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, nullableNumberConverter, observable } from \"@microsoft/fast-element\";\nimport { Direction, keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnd, keyHome, limit, Orientation, } from \"@microsoft/fast-web-utilities\";\nimport { getDirection } from \"../utilities/direction.js\";\nimport { convertPixelToPercent } from \"./slider-utilities.js\";\nimport { FormAssociatedSlider } from \"./slider.form-associated.js\";\nimport { SliderMode } from \"./slider.options.js\";\n/**\n * A Slider Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#slider | ARIA slider }.\n *\n * @slot track - The track of the slider\n * @slot track-start - The track-start visual indicator\n * @slot thumb - The slider thumb\n * @slot - The default slot for labels\n * @csspart positioning-region - The region used to position the elements of the slider\n * @csspart track-container - The region containing the track elements\n * @csspart track-start - The element wrapping the track start slot\n * @csspart thumb-container - The thumb container element which is programatically positioned\n * @fires change - Fires a custom 'change' event when the slider value changes\n *\n * @public\n */\nexport class FASTSlider extends FormAssociatedSlider {\n    constructor() {\n        super(...arguments);\n        /**\n         * @internal\n         */\n        this.direction = Direction.ltr;\n        /**\n         * @internal\n         */\n        this.isDragging = false;\n        /**\n         * @internal\n         */\n        this.trackWidth = 0;\n        /**\n         * @internal\n         */\n        this.trackMinWidth = 0;\n        /**\n         * @internal\n         */\n        this.trackHeight = 0;\n        /**\n         * @internal\n         */\n        this.trackLeft = 0;\n        /**\n         * @internal\n         */\n        this.trackMinHeight = 0;\n        /**\n         * Custom function that generates a string for the component's \"aria-valuetext\" attribute based on the current value.\n         *\n         * @public\n         */\n        this.valueTextFormatter = () => null;\n        /**\n         * The minimum allowed value.\n         *\n         * @defaultValue - 0\n         * @public\n         * @remarks\n         * HTML Attribute: min\n         */\n        this.min = 0; // Map to proxy element.\n        /**\n         * The maximum allowed value.\n         *\n         * @defaultValue - 10\n         * @public\n         * @remarks\n         * HTML Attribute: max\n         */\n        this.max = 10; // Map to proxy element.\n        /**\n         * The orientation of the slider.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: orientation\n         */\n        this.orientation = Orientation.horizontal;\n        /**\n         * The selection mode.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: mode\n         */\n        this.mode = SliderMode.singleValue;\n        this.keypressHandler = (e) => {\n            if (this.readOnly || this.disabled) {\n                return;\n            }\n            if (e.key === keyHome) {\n                e.preventDefault();\n                this.direction !== Direction.rtl && this.orientation !== Orientation.vertical\n                    ? (this.value = `${this.min}`)\n                    : (this.value = `${this.max}`);\n            }\n            else if (e.key === keyEnd) {\n                e.preventDefault();\n                this.direction !== Direction.rtl && this.orientation !== Orientation.vertical\n                    ? (this.value = `${this.max}`)\n                    : (this.value = `${this.min}`);\n            }\n            else if (!e.shiftKey) {\n                switch (e.key) {\n                    case keyArrowRight:\n                    case keyArrowUp:\n                        e.preventDefault();\n                        this.increment();\n                        break;\n                    case keyArrowLeft:\n                    case keyArrowDown:\n                        e.preventDefault();\n                        this.decrement();\n                        break;\n                }\n            }\n        };\n        this.setupTrackConstraints = () => {\n            const clientRect = this.track.getBoundingClientRect();\n            this.trackWidth = this.track.clientWidth;\n            this.trackMinWidth = this.track.clientLeft;\n            this.trackHeight = clientRect.top;\n            this.trackMinHeight = clientRect.bottom;\n            this.trackLeft = this.getBoundingClientRect().left;\n            if (this.trackWidth === 0) {\n                this.trackWidth = 1;\n            }\n        };\n        this.setupListeners = (remove = false) => {\n            const eventAction = `${remove ? \"remove\" : \"add\"}EventListener`;\n            this[eventAction](\"keydown\", this.keypressHandler);\n            this[eventAction](\"mousedown\", this.handleMouseDown);\n            this.thumb[eventAction](\"mousedown\", this.handleThumbMouseDown, {\n                passive: true,\n            });\n            this.thumb[eventAction](\"touchstart\", this.handleThumbMouseDown, {\n                passive: true,\n            });\n            // removes handlers attached by mousedown handlers\n            if (remove) {\n                this.handleMouseDown(null);\n                this.handleThumbMouseDown(null);\n            }\n        };\n        /**\n         * @internal\n         */\n        this.initialValue = \"\";\n        /**\n         *  Handle mouse moves during a thumb drag operation\n         *  If the event handler is null it removes the events\n         */\n        this.handleThumbMouseDown = (event) => {\n            const eventAction = `${event !== null ? \"add\" : \"remove\"}EventListener`;\n            window[eventAction](\"mouseup\", this.handleWindowMouseUp);\n            window[eventAction](\"mousemove\", this.handleMouseMove, { passive: true });\n            window[eventAction](\"touchmove\", this.handleMouseMove, { passive: true });\n            window[eventAction](\"touchend\", this.handleWindowMouseUp);\n            this.isDragging = event !== null;\n        };\n        /**\n         *  Handle mouse moves during a thumb drag operation\n         */\n        this.handleMouseMove = (e) => {\n            if (this.readOnly || this.disabled || e.defaultPrevented) {\n                return;\n            }\n            // update the value based on current position\n            const sourceEvent = window.TouchEvent && e instanceof TouchEvent\n                ? e.touches[0]\n                : e;\n            const eventValue = this.orientation === Orientation.horizontal\n                ? sourceEvent.pageX - document.documentElement.scrollLeft - this.trackLeft\n                : sourceEvent.pageY - document.documentElement.scrollTop;\n            this.value = `${this.calculateNewValue(eventValue)}`;\n        };\n        /**\n         * Handle a window mouse up during a drag operation\n         */\n        this.handleWindowMouseUp = (event) => {\n            this.stopDragging();\n        };\n        this.stopDragging = () => {\n            this.isDragging = false;\n            this.handleMouseDown(null);\n            this.handleThumbMouseDown(null);\n        };\n        /**\n         *\n         * @param e - MouseEvent or null. If there is no event handler it will remove the events\n         */\n        this.handleMouseDown = (e) => {\n            const eventAction = `${e !== null ? \"add\" : \"remove\"}EventListener`;\n            if (e === null || (!this.disabled && !this.readOnly)) {\n                window[eventAction](\"mouseup\", this.handleWindowMouseUp);\n                window.document[eventAction](\"mouseleave\", this.handleWindowMouseUp);\n                window[eventAction](\"mousemove\", this.handleMouseMove);\n                if (e) {\n                    this.setupTrackConstraints();\n                    const controlValue = this.orientation === Orientation.horizontal\n                        ? e.pageX - document.documentElement.scrollLeft - this.trackLeft\n                        : e.pageY - document.documentElement.scrollTop;\n                    this.value = `${this.calculateNewValue(controlValue)}`;\n                }\n            }\n        };\n    }\n    readOnlyChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.readOnly = this.readOnly;\n        }\n    }\n    /**\n     * The value property, typed as a number.\n     *\n     * @public\n     */\n    get valueAsNumber() {\n        return parseFloat(super.value);\n    }\n    set valueAsNumber(next) {\n        this.value = next.toString();\n    }\n    /**\n     * @internal\n     */\n    valueChanged(previous, next) {\n        if (this.$fastController.isConnected) {\n            const nextAsNumber = parseFloat(next);\n            const value = limit(this.min, this.max, this.convertToConstrainedValue(nextAsNumber)).toString();\n            if (value !== next) {\n                this.value = value;\n                return;\n            }\n            super.valueChanged(previous, next);\n            this.setThumbPositionForOrientation(this.direction);\n            this.$emit(\"change\");\n        }\n    }\n    minChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.min = `${this.min}`;\n        }\n        this.validate();\n    }\n    maxChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.max = `${this.max}`;\n        }\n        this.validate();\n    }\n    stepChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.step = `${this.step}`;\n        }\n        this.updateStepMultiplier();\n        this.validate();\n    }\n    orientationChanged() {\n        if (this.$fastController.isConnected) {\n            this.setThumbPositionForOrientation(this.direction);\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.proxy.setAttribute(\"type\", \"range\");\n        this.direction = getDirection(this);\n        this.updateStepMultiplier();\n        this.setupTrackConstraints();\n        this.setupListeners();\n        this.setupDefaultValue();\n        this.setThumbPositionForOrientation(this.direction);\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        this.setupListeners(true);\n    }\n    /**\n     * Increment the value by the step\n     *\n     * @public\n     */\n    increment() {\n        const newVal = this.direction !== Direction.rtl && this.orientation !== Orientation.vertical\n            ? Number(this.value) + Number(this.stepValue)\n            : Number(this.value) + Number(this.stepValue);\n        const incrementedVal = this.convertToConstrainedValue(newVal);\n        const incrementedValString = incrementedVal < Number(this.max) ? `${incrementedVal}` : `${this.max}`;\n        this.value = incrementedValString;\n    }\n    /**\n     * Decrement the value by the step\n     *\n     * @public\n     */\n    decrement() {\n        const newVal = this.direction !== Direction.rtl && this.orientation !== Orientation.vertical\n            ? Number(this.value) - Number(this.stepValue)\n            : Number(this.value) - Number(this.stepValue);\n        const decrementedVal = this.convertToConstrainedValue(newVal);\n        const decrementedValString = decrementedVal > Number(this.min) ? `${decrementedVal}` : `${this.min}`;\n        this.value = decrementedValString;\n    }\n    /**\n     * Gets the actual step value for the slider\n     *\n     */\n    get stepValue() {\n        return this.step === undefined ? 1 : this.step;\n    }\n    /**\n     * Places the thumb based on the current value\n     *\n     * @public\n     * @param direction - writing mode\n     */\n    setThumbPositionForOrientation(direction) {\n        const newPct = convertPixelToPercent(Number(this.value), Number(this.min), Number(this.max), direction);\n        const percentage = (1 - newPct) * 100;\n        if (this.orientation === Orientation.horizontal) {\n            this.position = this.isDragging\n                ? `right: ${percentage}%; transition: none;`\n                : `right: ${percentage}%; transition: all 0.2s ease;`;\n        }\n        else {\n            this.position = this.isDragging\n                ? `top: ${percentage}%; transition: none;`\n                : `top: ${percentage}%; transition: all 0.2s ease;`;\n        }\n    }\n    /**\n     * Update the step multiplier used to ensure rounding errors from steps that\n     * are not whole numbers\n     */\n    updateStepMultiplier() {\n        const stepString = this.stepValue + \"\";\n        const decimalPlacesOfStep = !!(this.stepValue % 1)\n            ? stepString.length - stepString.indexOf(\".\") - 1\n            : 0;\n        this.stepMultiplier = Math.pow(10, decimalPlacesOfStep);\n    }\n    get midpoint() {\n        return `${this.convertToConstrainedValue((this.max + this.min) / 2)}`;\n    }\n    setupDefaultValue() {\n        if (typeof this.value === \"string\") {\n            if (this.value.length === 0) {\n                this.initialValue = this.midpoint;\n            }\n            else {\n                const value = parseFloat(this.value);\n                if (!Number.isNaN(value) && (value < this.min || value > this.max)) {\n                    this.value = this.midpoint;\n                }\n            }\n        }\n    }\n    /**\n     * Calculate the new value based on the given raw pixel value.\n     *\n     * @param rawValue - the value to be converted to a constrained value\n     * @returns the constrained value\n     *\n     * @internal\n     */\n    calculateNewValue(rawValue) {\n        this.setupTrackConstraints();\n        // update the value based on current position\n        const newPosition = convertPixelToPercent(rawValue, this.orientation === Orientation.horizontal\n            ? this.trackMinWidth\n            : this.trackMinHeight, this.orientation === Orientation.horizontal\n            ? this.trackWidth\n            : this.trackHeight, this.direction);\n        const newValue = (this.max - this.min) * newPosition + this.min;\n        return this.convertToConstrainedValue(newValue);\n    }\n    convertToConstrainedValue(value) {\n        if (isNaN(value)) {\n            value = this.min;\n        }\n        /**\n         * The following logic intends to overcome the issue with math in JavaScript with regards to floating point numbers.\n         * This is needed as the `step` may be an integer but could also be a float. To accomplish this the step  is assumed to be a float\n         * and is converted to an integer by determining the number of decimal places it represent, multiplying it until it is an\n         * integer and then dividing it to get back to the correct number.\n         */\n        let constrainedValue = value - this.min;\n        const roundedConstrainedValue = Math.round(constrainedValue / this.stepValue);\n        const remainderValue = constrainedValue -\n            (roundedConstrainedValue * (this.stepMultiplier * this.stepValue)) /\n                this.stepMultiplier;\n        constrainedValue =\n            remainderValue >= Number(this.stepValue) / 2\n                ? constrainedValue - remainderValue + Number(this.stepValue)\n                : constrainedValue - remainderValue;\n        return constrainedValue + this.min;\n    }\n}\n__decorate([\n    attr({ attribute: \"readonly\", mode: \"boolean\" })\n], FASTSlider.prototype, \"readOnly\", void 0);\n__decorate([\n    observable\n], FASTSlider.prototype, \"direction\", void 0);\n__decorate([\n    observable\n], FASTSlider.prototype, \"isDragging\", void 0);\n__decorate([\n    observable\n], FASTSlider.prototype, \"position\", void 0);\n__decorate([\n    observable\n], FASTSlider.prototype, \"trackWidth\", void 0);\n__decorate([\n    observable\n], FASTSlider.prototype, \"trackMinWidth\", void 0);\n__decorate([\n    observable\n], FASTSlider.prototype, \"trackHeight\", void 0);\n__decorate([\n    observable\n], FASTSlider.prototype, \"trackLeft\", void 0);\n__decorate([\n    observable\n], FASTSlider.prototype, \"trackMinHeight\", void 0);\n__decorate([\n    observable\n], FASTSlider.prototype, \"valueTextFormatter\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTSlider.prototype, \"min\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTSlider.prototype, \"max\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTSlider.prototype, \"step\", void 0);\n__decorate([\n    attr\n], FASTSlider.prototype, \"orientation\", void 0);\n__decorate([\n    attr\n], FASTSlider.prototype, \"mode\", void 0);\n", "import { html, slotted } from \"@microsoft/fast-element\";\nimport { staticallyCompose } from \"../utilities/template-helpers.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTSwitch:class)} component.\n * @public\n */\nexport function switchTemplate(options = {}) {\n    return html `\n        <template\n            role=\"switch\"\n            aria-checked=\"${x => x.checked}\"\n            aria-disabled=\"${x => x.disabled}\"\n            aria-readonly=\"${x => x.readOnly}\"\n            tabindex=\"${x => (x.disabled ? null : 0)}\"\n            @keypress=\"${(x, c) => x.keypressHandler(c.event)}\"\n            @click=\"${(x, c) => x.clickHandler(c.event)}\"\n        >\n            <label\n                part=\"label\"\n                class=\"${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length\n        ? \"label\"\n        : \"label label__hidden\"}\"\n            >\n                <slot ${slotted(\"defaultSlottedNodes\")}></slot>\n            </label>\n            <div part=\"switch\" class=\"switch\">\n                <slot name=\"switch\">${staticallyCompose(options.switch)}</slot>\n            </div>\n        </template>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\nimport { CheckableFormAssociated } from \"../form-associated/form-associated.js\";\nclass _Switch extends FASTElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTSwitch:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedSwitch extends CheckableFormAssociated(_Switch) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"input\");\n    }\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, observable } from \"@microsoft/fast-element\";\nimport { keyEnter, keySpace } from \"@microsoft/fast-web-utilities\";\nimport { FormAssociatedSwitch } from \"./switch.form-associated.js\";\n/**\n * A Switch Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#switch | ARIA switch }.\n *\n * @slot - The deafult slot for the label\n * @slot checked-message - The message when in a checked state\n * @slot unchecked-message - The message when in an unchecked state\n * @csspart label - The label\n * @csspart switch - The element representing the switch, which wraps the indicator\n * @csspart status-message - The wrapper for the status messages\n * @csspart checked-message - The checked message\n * @csspart unchecked-message - The unchecked message\n * @fires change - Emits a custom change event when the checked state changes\n *\n * @public\n */\nexport class FASTSwitch extends FormAssociatedSwitch {\n    constructor() {\n        super();\n        /**\n         * The element's value to be included in form submission when checked.\n         * Default to \"on\" to reach parity with input[type=\"checkbox\"]\n         *\n         * @internal\n         */\n        this.initialValue = \"on\";\n        /**\n         * @internal\n         */\n        this.keypressHandler = (e) => {\n            if (this.readOnly) {\n                return;\n            }\n            switch (e.key) {\n                case keyEnter:\n                case keySpace:\n                    this.checked = !this.checked;\n                    break;\n            }\n        };\n        /**\n         * @internal\n         */\n        this.clickHandler = (e) => {\n            if (!this.disabled && !this.readOnly) {\n                this.checked = !this.checked;\n            }\n        };\n        this.proxy.setAttribute(\"type\", \"checkbox\");\n    }\n    readOnlyChanged() {\n        if (this.proxy instanceof HTMLInputElement) {\n            this.proxy.readOnly = this.readOnly;\n        }\n    }\n}\n__decorate([\n    attr({ attribute: \"readonly\", mode: \"boolean\" })\n], FASTSwitch.prototype, \"readOnly\", void 0);\n__decorate([\n    observable\n], FASTSwitch.prototype, \"defaultSlottedNodes\", void 0);\n", "import { html } from \"@microsoft/fast-element\";\n/**\n * The template for the {@link @microsoft/fast-foundation#FASTTabPanel} component.\n * @public\n */\nexport function tabPanelTemplate() {\n    return html `\n        <template slot=\"tabpanel\" role=\"tabpanel\">\n            <slot></slot>\n        </template>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\n/**\n * A TabPanel Component to be used with {@link @microsoft/fast-foundation#(FASTTabs:class)}\n *\n * @slot - The default slot for the tabpanel content\n *\n * @public\n */\nexport class FASTTabPanel extends FASTElement {\n}\n", "import { html } from \"@microsoft/fast-element\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTTab:class)} component.\n * @public\n */\nexport function tabTemplate(options = {}) {\n    return html `\n        <template slot=\"tab\" role=\"tab\" aria-disabled=\"${x => x.disabled}\">\n            ${startSlotTemplate(options)}\n            <slot></slot>\n            ${endSlotTemplate(options)}\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement } from \"@microsoft/fast-element\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\n/**\n * A Tab Component to be used with {@link @microsoft/fast-foundation#(FASTTabs:class)}\n *\n * @slot start - Content which can be provided before the tab content\n * @slot end - Content which can be provided after the tab content\n * @slot - The default slot for the tab content\n *\n * @public\n */\nexport class FASTTab extends FASTElement {\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTTab.prototype, \"disabled\", void 0);\napplyMixins(FASTTab, StartEnd);\n", "import { Orientation } from \"@microsoft/fast-web-utilities\";\n/**\n * The orientation of the {@link @microsoft/fast-foundation#(FASTTabs:class)} component\n * @public\n */\nexport const TabsOrientation = Orientation;\n", "import { html, slotted } from \"@microsoft/fast-element\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTTabs:class)} component.\n * @public\n */\nexport function tabsTemplate(options = {}) {\n    return html `\n        ${startSlotTemplate(options)}\n        <div class=\"tablist\" part=\"tablist\" role=\"tablist\">\n            <slot name=\"tab\" ${slotted(\"tabs\")}></slot>\n        </div>\n        ${endSlotTemplate(options)}\n        <div class=\"tabpanel\" part=\"tabpanel\">\n            <slot name=\"tabpanel\" ${slotted(\"tabpanels\")}></slot>\n        </div>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, observable } from \"@microsoft/fast-element\";\nimport { keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnd, keyHome, limit, uniqueId, } from \"@microsoft/fast-web-utilities\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { TabsOrientation } from \"./tabs.options.js\";\n/**\n * A Tabs Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#tablist | ARIA tablist }.\n *\n * @slot start - Content which can be provided before the tablist element\n * @slot end - Content which can be provided after the tablist element\n * @slot tab - The slot for tabs\n * @slot tabpanel - The slot for tabpanels\n * @csspart tablist - The element wrapping for the tabs\n * @fires change - Fires a custom 'change' event when a tab is clicked or during keyboard navigation\n *\n * @public\n */\nexport class FASTTabs extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The orientation\n         * @public\n         * @remarks\n         * HTML Attribute: orientation\n         */\n        this.orientation = TabsOrientation.horizontal;\n        this.prevActiveTabIndex = 0;\n        this.activeTabIndex = 0;\n        this.change = () => {\n            this.$emit(\"change\", this.activetab);\n        };\n        this.isDisabledElement = (el) => {\n            return el.getAttribute(\"aria-disabled\") === \"true\";\n        };\n        this.isHiddenElement = (el) => {\n            return el.hasAttribute(\"hidden\");\n        };\n        this.isFocusableElement = (el) => {\n            return !this.isDisabledElement(el) && !this.isHiddenElement(el);\n        };\n        this.setTabs = () => {\n            const gridHorizontalProperty = \"gridColumn\";\n            const gridVerticalProperty = \"gridRow\";\n            const gridProperty = this.isHorizontal()\n                ? gridHorizontalProperty\n                : gridVerticalProperty;\n            this.activeTabIndex = this.getActiveIndex();\n            this.tabs.forEach((tab, index) => {\n                if (tab.slot === \"tab\") {\n                    const isActiveTab = this.activeTabIndex === index && this.isFocusableElement(tab);\n                    const tabId = this.tabIds[index];\n                    const tabpanelId = this.tabpanelIds[index];\n                    tab.setAttribute(\"id\", tabId);\n                    tab.setAttribute(\"aria-selected\", isActiveTab ? \"true\" : \"false\");\n                    tab.setAttribute(\"aria-controls\", tabpanelId);\n                    tab.addEventListener(\"click\", this.handleTabClick);\n                    tab.addEventListener(\"keydown\", this.handleTabKeyDown);\n                    tab.setAttribute(\"tabindex\", isActiveTab ? \"0\" : \"-1\");\n                    if (isActiveTab) {\n                        this.activetab = tab;\n                        this.activeid = tabId;\n                    }\n                }\n                // If the original property isn't emptied out,\n                // the next set will morph into a grid-area style setting that is not what we want\n                tab.style[gridHorizontalProperty] = \"\";\n                tab.style[gridVerticalProperty] = \"\";\n                tab.style[gridProperty] = `${index + 1}`;\n                !this.isHorizontal()\n                    ? tab.classList.add(\"vertical\")\n                    : tab.classList.remove(\"vertical\");\n            });\n        };\n        this.setTabPanels = () => {\n            this.tabpanels.forEach((tabpanel, index) => {\n                const tabId = this.tabIds[index];\n                const tabpanelId = this.tabpanelIds[index];\n                tabpanel.setAttribute(\"id\", tabpanelId);\n                tabpanel.setAttribute(\"aria-labelledby\", tabId);\n                this.activeTabIndex !== index\n                    ? tabpanel.setAttribute(\"hidden\", \"\")\n                    : tabpanel.removeAttribute(\"hidden\");\n            });\n        };\n        this.handleTabClick = (event) => {\n            const selectedTab = event.currentTarget;\n            if (selectedTab.nodeType === 1 && this.isFocusableElement(selectedTab)) {\n                this.prevActiveTabIndex = this.activeTabIndex;\n                this.activeTabIndex = this.tabs.indexOf(selectedTab);\n                this.setComponent();\n            }\n        };\n        this.handleTabKeyDown = (event) => {\n            if (this.isHorizontal()) {\n                switch (event.key) {\n                    case keyArrowLeft:\n                        event.preventDefault();\n                        this.adjustBackward(event);\n                        break;\n                    case keyArrowRight:\n                        event.preventDefault();\n                        this.adjustForward(event);\n                        break;\n                }\n            }\n            else {\n                switch (event.key) {\n                    case keyArrowUp:\n                        event.preventDefault();\n                        this.adjustBackward(event);\n                        break;\n                    case keyArrowDown:\n                        event.preventDefault();\n                        this.adjustForward(event);\n                        break;\n                }\n            }\n            switch (event.key) {\n                case keyHome:\n                    event.preventDefault();\n                    this.adjust(-this.activeTabIndex);\n                    break;\n                case keyEnd:\n                    event.preventDefault();\n                    this.adjust(this.tabs.length - this.activeTabIndex - 1);\n                    break;\n            }\n        };\n        this.adjustForward = (e) => {\n            const group = this.tabs;\n            let index = 0;\n            index = this.activetab ? group.indexOf(this.activetab) + 1 : 1;\n            if (index === group.length) {\n                index = 0;\n            }\n            while (index < group.length && group.length > 1) {\n                if (this.isFocusableElement(group[index])) {\n                    this.moveToTabByIndex(group, index);\n                    break;\n                }\n                else if (this.activetab && index === group.indexOf(this.activetab)) {\n                    break;\n                }\n                else if (index + 1 >= group.length) {\n                    index = 0;\n                }\n                else {\n                    index += 1;\n                }\n            }\n        };\n        this.adjustBackward = (e) => {\n            const group = this.tabs;\n            let index = 0;\n            index = this.activetab ? group.indexOf(this.activetab) - 1 : 0;\n            index = index < 0 ? group.length - 1 : index;\n            while (index >= 0 && group.length > 1) {\n                if (this.isFocusableElement(group[index])) {\n                    this.moveToTabByIndex(group, index);\n                    break;\n                }\n                else if (index - 1 < 0) {\n                    index = group.length - 1;\n                }\n                else {\n                    index -= 1;\n                }\n            }\n        };\n        this.moveToTabByIndex = (group, index) => {\n            const tab = group[index];\n            this.activetab = tab;\n            this.prevActiveTabIndex = this.activeTabIndex;\n            this.activeTabIndex = index;\n            tab.focus();\n            this.setComponent();\n        };\n    }\n    /**\n     * @internal\n     */\n    orientationChanged() {\n        if (this.$fastController.isConnected) {\n            this.setTabs();\n            this.setTabPanels();\n        }\n    }\n    /**\n     * @internal\n     */\n    activeidChanged(oldValue, newValue) {\n        if (this.$fastController.isConnected &&\n            this.tabs.length <= this.tabpanels.length) {\n            this.prevActiveTabIndex = this.tabs.findIndex((item) => item.id === oldValue);\n            this.setTabs();\n            this.setTabPanels();\n        }\n    }\n    /**\n     * @internal\n     */\n    tabsChanged() {\n        if (this.$fastController.isConnected &&\n            this.tabs.length <= this.tabpanels.length) {\n            this.tabIds = this.getTabIds();\n            this.tabpanelIds = this.getTabPanelIds();\n            this.setTabs();\n            this.setTabPanels();\n        }\n    }\n    /**\n     * @internal\n     */\n    tabpanelsChanged() {\n        if (this.$fastController.isConnected &&\n            this.tabpanels.length <= this.tabs.length) {\n            this.tabIds = this.getTabIds();\n            this.tabpanelIds = this.getTabPanelIds();\n            this.setTabs();\n            this.setTabPanels();\n        }\n    }\n    getActiveIndex() {\n        const id = this.activeid;\n        if (id !== undefined) {\n            return this.tabIds.indexOf(this.activeid) === -1\n                ? 0\n                : this.tabIds.indexOf(this.activeid);\n        }\n        else {\n            return 0;\n        }\n    }\n    getTabIds() {\n        return this.tabs.map((tab) => {\n            var _a;\n            return (_a = tab.getAttribute(\"id\")) !== null && _a !== void 0 ? _a : `tab-${uniqueId()}`;\n        });\n    }\n    getTabPanelIds() {\n        return this.tabpanels.map((tabPanel) => {\n            var _a;\n            return (_a = tabPanel.getAttribute(\"id\")) !== null && _a !== void 0 ? _a : `panel-${uniqueId()}`;\n        });\n    }\n    setComponent() {\n        if (this.activeTabIndex !== this.prevActiveTabIndex) {\n            this.activeid = this.tabIds[this.activeTabIndex];\n            this.focusTab();\n            this.change();\n        }\n    }\n    isHorizontal() {\n        return this.orientation === TabsOrientation.horizontal;\n    }\n    /**\n     * The adjust method for FASTTabs\n     * @public\n     * @remarks\n     * This method allows the active index to be adjusted by numerical increments\n     */\n    adjust(adjustment) {\n        const focusableTabs = this.tabs.filter(t => this.isFocusableElement(t));\n        const currentActiveTabIndex = focusableTabs.indexOf(this.activetab);\n        const nextTabIndex = limit(0, focusableTabs.length - 1, currentActiveTabIndex + adjustment);\n        // the index of the next focusable tab within the context of all available tabs\n        const nextIndex = this.tabs.indexOf(focusableTabs[nextTabIndex]);\n        if (nextIndex > -1) {\n            this.moveToTabByIndex(this.tabs, nextIndex);\n        }\n    }\n    focusTab() {\n        this.tabs[this.activeTabIndex].focus();\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.tabIds = this.getTabIds();\n        this.tabpanelIds = this.getTabPanelIds();\n        this.activeTabIndex = this.getActiveIndex();\n    }\n}\n__decorate([\n    attr\n], FASTTabs.prototype, \"orientation\", void 0);\n__decorate([\n    attr\n], FASTTabs.prototype, \"activeid\", void 0);\n__decorate([\n    observable\n], FASTTabs.prototype, \"tabs\", void 0);\n__decorate([\n    observable\n], FASTTabs.prototype, \"tabpanels\", void 0);\napplyMixins(FASTTabs, StartEnd);\n", "import { html, ref, slotted } from \"@microsoft/fast-element\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTTextArea:class)} component.\n * @public\n */\nexport function textAreaTemplate() {\n    return html `\n        <label\n            part=\"label\"\n            for=\"control\"\n            class=\"${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length\n        ? \"label\"\n        : \"label label__hidden\"}\"\n        >\n            <slot ${slotted(\"defaultSlottedNodes\")}></slot>\n        </label>\n        <textarea\n            part=\"control\"\n            class=\"control\"\n            id=\"control\"\n            ?autofocus=\"${x => x.autofocus}\"\n            cols=\"${x => x.cols}\"\n            ?disabled=\"${x => x.disabled}\"\n            form=\"${x => x.form}\"\n            list=\"${x => x.list}\"\n            maxlength=\"${x => x.maxlength}\"\n            minlength=\"${x => x.minlength}\"\n            name=\"${x => x.name}\"\n            placeholder=\"${x => x.placeholder}\"\n            ?readonly=\"${x => x.readOnly}\"\n            ?required=\"${x => x.required}\"\n            rows=\"${x => x.rows}\"\n            ?spellcheck=\"${x => x.spellcheck}\"\n            :value=\"${x => x.value}\"\n            aria-atomic=\"${x => x.ariaAtomic}\"\n            aria-busy=\"${x => x.ariaBusy}\"\n            aria-controls=\"${x => x.ariaControls}\"\n            aria-current=\"${x => x.ariaCurrent}\"\n            aria-describedby=\"${x => x.ariaDescribedby}\"\n            aria-details=\"${x => x.ariaDetails}\"\n            aria-disabled=\"${x => x.ariaDisabled}\"\n            aria-errormessage=\"${x => x.ariaErrormessage}\"\n            aria-flowto=\"${x => x.ariaFlowto}\"\n            aria-haspopup=\"${x => x.ariaHaspopup}\"\n            aria-hidden=\"${x => x.ariaHidden}\"\n            aria-invalid=\"${x => x.ariaInvalid}\"\n            aria-keyshortcuts=\"${x => x.ariaKeyshortcuts}\"\n            aria-label=\"${x => x.ariaLabel}\"\n            aria-labelledby=\"${x => x.ariaLabelledby}\"\n            aria-live=\"${x => x.ariaLive}\"\n            aria-owns=\"${x => x.ariaOwns}\"\n            aria-relevant=\"${x => x.ariaRelevant}\"\n            aria-roledescription=\"${x => x.ariaRoledescription}\"\n            @input=\"${(x, c) => x.handleTextInput()}\"\n            @change=\"${x => x.handleChange()}\"\n            ${ref(\"control\")}\n        ></textarea>\n    `;\n}\n", "import { FASTElement } from \"@microsoft/fast-element\";\nimport { FormAssociated } from \"../form-associated/form-associated.js\";\nclass _TextArea extends FASTElement {\n}\n/**\n * A form-associated base class for the {@link @microsoft/fast-foundation#(FASTTextArea:class)} component.\n *\n * @beta\n */\nexport class FormAssociatedTextArea extends FormAssociated(_TextArea) {\n    constructor() {\n        super(...arguments);\n        this.proxy = document.createElement(\"textarea\");\n    }\n}\n", "/**\n * Resize mode for a TextArea\n * @public\n */\nexport const TextAreaResize = {\n    /**\n     * No resize.\n     */\n    none: \"none\",\n    /**\n     * Resize vertically and horizontally.\n     */\n    both: \"both\",\n    /**\n     * Resize horizontally.\n     */\n    horizontal: \"horizontal\",\n    /**\n     * Resize vertically.\n     */\n    vertical: \"vertical\",\n};\n", "import { __decorate } from \"tslib\";\nimport { attr, nullableNumberConverter, observable } from \"@microsoft/fast-element\";\nimport { DelegatesARIATextbox } from \"../text-field/text-field.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { FormAssociatedTextArea } from \"./text-area.form-associated.js\";\nimport { TextAreaResize } from \"./text-area.options.js\";\nexport { TextAreaResize };\n/**\n * A Text Area Custom HTML Element.\n * Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea | <textarea> element }.\n *\n * @slot - The default slot for the label\n * @csspart label - The label\n * @csspart root - The element wrapping the control\n * @csspart control - The textarea element\n * @fires change - Emits a custom 'change' event when the textarea emits a change event\n *\n * @public\n */\nexport class FASTTextArea extends FormAssociatedTextArea {\n    constructor() {\n        super(...arguments);\n        /**\n         * The resize mode of the element.\n         * @public\n         * @remarks\n         * HTML Attribute: resize\n         */\n        this.resize = TextAreaResize.none;\n        /**\n         * Sizes the element horizontally by a number of character columns.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: cols\n         */\n        this.cols = 20;\n        /**\n         * @internal\n         */\n        this.handleTextInput = () => {\n            this.value = this.control.value;\n        };\n    }\n    readOnlyChanged() {\n        if (this.proxy instanceof HTMLTextAreaElement) {\n            this.proxy.readOnly = this.readOnly;\n        }\n    }\n    autofocusChanged() {\n        if (this.proxy instanceof HTMLTextAreaElement) {\n            this.proxy.autofocus = this.autofocus;\n        }\n    }\n    listChanged() {\n        if (this.proxy instanceof HTMLTextAreaElement) {\n            this.proxy.setAttribute(\"list\", this.list);\n        }\n    }\n    maxlengthChanged() {\n        if (this.proxy instanceof HTMLTextAreaElement) {\n            this.proxy.maxLength = this.maxlength;\n        }\n    }\n    minlengthChanged() {\n        if (this.proxy instanceof HTMLTextAreaElement) {\n            this.proxy.minLength = this.minlength;\n        }\n    }\n    spellcheckChanged() {\n        if (this.proxy instanceof HTMLTextAreaElement) {\n            this.proxy.spellcheck = this.spellcheck;\n        }\n    }\n    /**\n     * Selects all the text in the text area\n     *\n     * @public\n     */\n    select() {\n        this.control.select();\n        /**\n         * The select event does not permeate the shadow DOM boundary.\n         * This fn effectively proxies the select event,\n         * emitting a `select` event whenever the internal\n         * control emits a `select` event\n         */\n        this.$emit(\"select\");\n    }\n    /**\n     * Change event handler for inner control.\n     * @remarks\n     * \"Change\" events are not `composable` so they will not\n     * permeate the shadow DOM boundary. This fn effectively proxies\n     * the change event, emitting a `change` event whenever the internal\n     * control emits a `change` event\n     * @internal\n     */\n    handleChange() {\n        this.$emit(\"change\");\n    }\n    /** {@inheritDoc (FormAssociated:interface).validate} */\n    validate() {\n        super.validate(this.control);\n    }\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTTextArea.prototype, \"readOnly\", void 0);\n__decorate([\n    attr\n], FASTTextArea.prototype, \"resize\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTTextArea.prototype, \"autofocus\", void 0);\n__decorate([\n    attr({ attribute: \"form\" })\n], FASTTextArea.prototype, \"formId\", void 0);\n__decorate([\n    attr\n], FASTTextArea.prototype, \"list\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTTextArea.prototype, \"maxlength\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], FASTTextArea.prototype, \"minlength\", void 0);\n__decorate([\n    attr\n], FASTTextArea.prototype, \"name\", void 0);\n__decorate([\n    attr\n], FASTTextArea.prototype, \"placeholder\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter, mode: \"fromView\" })\n], FASTTextArea.prototype, \"cols\", void 0);\n__decorate([\n    attr({ converter: nullableNumberConverter, mode: \"fromView\" })\n], FASTTextArea.prototype, \"rows\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTTextArea.prototype, \"spellcheck\", void 0);\n__decorate([\n    observable\n], FASTTextArea.prototype, \"defaultSlottedNodes\", void 0);\napplyMixins(FASTTextArea, DelegatesARIATextbox);\n", "import { html, ref, slotted } from \"@microsoft/fast-element\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\nimport { whitespaceFilter } from \"../utilities/whitespace-filter.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTTextField:class)} component.\n * @public\n */\nexport function textFieldTemplate(options = {}) {\n    return html `\n        <label\n            part=\"label\"\n            for=\"control\"\n            class=\"${x => x.defaultSlottedNodes && x.defaultSlottedNodes.length\n        ? \"label\"\n        : \"label label__hidden\"}\"\n        >\n            <slot\n                ${slotted({\n        property: \"defaultSlottedNodes\",\n        filter: whitespaceFilter,\n    })}\n            ></slot>\n        </label>\n        <div class=\"root\" part=\"root\">\n            ${startSlotTemplate(options)}\n            <input\n                class=\"control\"\n                part=\"control\"\n                id=\"control\"\n                @input=\"${x => x.handleTextInput()}\"\n                @change=\"${x => x.handleChange()}\"\n                ?autofocus=\"${x => x.autofocus}\"\n                ?disabled=\"${x => x.disabled}\"\n                list=\"${x => x.list}\"\n                maxlength=\"${x => x.maxlength}\"\n                name=\"${x => x.name}\"\n                minlength=\"${x => x.minlength}\"\n                pattern=\"${x => x.pattern}\"\n                placeholder=\"${x => x.placeholder}\"\n                ?readonly=\"${x => x.readOnly}\"\n                ?required=\"${x => x.required}\"\n                size=\"${x => x.size}\"\n                ?spellcheck=\"${x => x.spellcheck}\"\n                :value=\"${x => x.value}\"\n                type=\"${x => x.type}\"\n                aria-atomic=\"${x => x.ariaAtomic}\"\n                aria-busy=\"${x => x.ariaBusy}\"\n                aria-controls=\"${x => x.ariaControls}\"\n                aria-current=\"${x => x.ariaCurrent}\"\n                aria-describedby=\"${x => x.ariaDescribedby}\"\n                aria-details=\"${x => x.ariaDetails}\"\n                aria-disabled=\"${x => x.ariaDisabled}\"\n                aria-errormessage=\"${x => x.ariaErrormessage}\"\n                aria-flowto=\"${x => x.ariaFlowto}\"\n                aria-haspopup=\"${x => x.ariaHaspopup}\"\n                aria-hidden=\"${x => x.ariaHidden}\"\n                aria-invalid=\"${x => x.ariaInvalid}\"\n                aria-keyshortcuts=\"${x => x.ariaKeyshortcuts}\"\n                aria-label=\"${x => x.ariaLabel}\"\n                aria-labelledby=\"${x => x.ariaLabelledby}\"\n                aria-live=\"${x => x.ariaLive}\"\n                aria-owns=\"${x => x.ariaOwns}\"\n                aria-relevant=\"${x => x.ariaRelevant}\"\n                aria-roledescription=\"${x => x.ariaRoledescription}\"\n                ${ref(\"control\")}\n            />\n            ${endSlotTemplate(options)}\n        </div>\n    `;\n}\n", "import { Orientation } from \"@microsoft/fast-web-utilities\";\n/**\n * The orientation of the {@link @microsoft/fast-foundation#(FASTToolbar:class)} component\n * @public\n */\nexport const ToolbarOrientation = Orientation;\n", "import { children, elements, html, slotted, } from \"@microsoft/fast-element\";\nimport { endSlotTemplate, startSlotTemplate } from \"../patterns/index.js\";\n/**\n * The template for the {@link @microsoft/fast-foundation#(FASTToolbar:class)} component.\n *\n * @public\n */\nexport function toolbarTemplate(options = {}) {\n    return html `\n        <template\n            aria-label=\"${x => x.ariaLabel}\"\n            aria-labelledby=\"${x => x.ariaLabelledby}\"\n            aria-orientation=\"${x => x.orientation}\"\n            orientation=\"${x => x.orientation}\"\n            role=\"toolbar\"\n            @click=\"${(x, c) => x.clickHandler(c.event)}\"\n            @focusin=\"${(x, c) => x.focusinHandler(c.event)}\"\n            @keydown=\"${(x, c) => x.keydownHandler(c.event)}\"\n            ${children({\n        property: \"childItems\",\n        attributeFilter: [\"disabled\", \"hidden\"],\n        selector: \"*\",\n        subtree: true,\n    })}\n        >\n            <slot name=\"label\"></slot>\n            <div class=\"positioning-region\" part=\"positioning-region\">\n                ${startSlotTemplate(options)}\n                <slot\n                    ${slotted({\n        filter: elements(),\n        property: \"slottedItems\",\n    })}\n                ></slot>\n                ${endSlotTemplate(options)}\n            </div>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, observable, Observable } from \"@microsoft/fast-element\";\nimport { ArrowKeys, Direction, limit } from \"@microsoft/fast-web-utilities\";\nimport { isFocusable } from \"tabbable\";\nimport { ARIAGlobalStatesAndProperties, StartEnd } from \"../patterns/index.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { getDirection } from \"../utilities/direction.js\";\nimport { ToolbarOrientation } from \"./toolbar.options.js\";\n/**\n * A map for directionality derived from keyboard input strings,\n * visual orientation, and text direction.\n *\n * @internal\n */\nconst ToolbarArrowKeyMap = Object.freeze({\n    [ArrowKeys.ArrowUp]: {\n        [ToolbarOrientation.vertical]: -1,\n    },\n    [ArrowKeys.ArrowDown]: {\n        [ToolbarOrientation.vertical]: 1,\n    },\n    [ArrowKeys.ArrowLeft]: {\n        [ToolbarOrientation.horizontal]: {\n            [Direction.ltr]: -1,\n            [Direction.rtl]: 1,\n        },\n    },\n    [ArrowKeys.ArrowRight]: {\n        [ToolbarOrientation.horizontal]: {\n            [Direction.ltr]: 1,\n            [Direction.rtl]: -1,\n        },\n    },\n});\n/**\n * A Toolbar Custom HTML Element.\n * Implements the {@link https://w3c.github.io/aria-practices/#Toolbar|ARIA Toolbar}.\n *\n * @slot start - Content which can be provided before the slotted items\n * @slot end - Content which can be provided after the slotted items\n * @slot - The default slot for slotted items\n * @slot label - The toolbar label\n * @csspart positioning-region - The element containing the items, start and end slots\n *\n * @public\n */\nexport class FASTToolbar extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The internal index of the currently focused element.\n         *\n         * @internal\n         */\n        this._activeIndex = 0;\n        /**\n         * The text direction of the toolbar.\n         *\n         * @internal\n         */\n        this.direction = Direction.ltr;\n        /**\n         * The orientation of the toolbar.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: `orientation`\n         */\n        this.orientation = ToolbarOrientation.horizontal;\n    }\n    /**\n     * The index of the currently focused element, clamped between 0 and the last element.\n     *\n     * @internal\n     */\n    get activeIndex() {\n        Observable.track(this, \"activeIndex\");\n        return this._activeIndex;\n    }\n    set activeIndex(value) {\n        if (this.$fastController.isConnected) {\n            this._activeIndex = limit(0, this.focusableElements.length - 1, value);\n            Observable.notify(this, \"activeIndex\");\n        }\n    }\n    slottedItemsChanged() {\n        if (this.$fastController.isConnected) {\n            this.reduceFocusableElements();\n        }\n    }\n    /**\n     * Set the activeIndex when a focusable element in the toolbar is clicked.\n     *\n     * @internal\n     */\n    clickHandler(e) {\n        var _a;\n        const activeIndex = (_a = this.focusableElements) === null || _a === void 0 ? void 0 : _a.indexOf(e.target);\n        if (activeIndex > -1 && this.activeIndex !== activeIndex) {\n            this.setFocusedElement(activeIndex);\n        }\n        return true;\n    }\n    childItemsChanged(prev, next) {\n        if (this.$fastController.isConnected) {\n            this.reduceFocusableElements();\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.direction = getDirection(this);\n    }\n    /**\n     * When the toolbar receives focus, set the currently active element as focused.\n     *\n     * @internal\n     */\n    focusinHandler(e) {\n        const relatedTarget = e.relatedTarget;\n        if (!relatedTarget || this.contains(relatedTarget)) {\n            return;\n        }\n        this.setFocusedElement();\n    }\n    /**\n     * Determines a value that can be used to iterate a list with the arrow keys.\n     *\n     * @param this - An element with an orientation and direction\n     * @param key - The event key value\n     * @internal\n     */\n    getDirectionalIncrementer(key) {\n        var _a, _b, _c, _d, _e;\n        return ((_e = (_c = (_b = (_a = ToolbarArrowKeyMap[key]) === null || _a === void 0 ? void 0 : _a[this.orientation]) === null || _b === void 0 ? void 0 : _b[this.direction]) !== null && _c !== void 0 ? _c : (_d = ToolbarArrowKeyMap[key]) === null || _d === void 0 ? void 0 : _d[this.orientation]) !== null && _e !== void 0 ? _e : 0);\n    }\n    /**\n     * Handle keyboard events for the toolbar.\n     *\n     * @internal\n     */\n    keydownHandler(e) {\n        const key = e.key;\n        if (!(key in ArrowKeys) || e.defaultPrevented || e.shiftKey) {\n            return true;\n        }\n        const incrementer = this.getDirectionalIncrementer(key);\n        if (!incrementer) {\n            return !e.target.closest(\"[role=radiogroup]\");\n        }\n        const nextIndex = this.activeIndex + incrementer;\n        if (this.focusableElements[nextIndex]) {\n            e.preventDefault();\n        }\n        this.setFocusedElement(nextIndex);\n        return true;\n    }\n    /**\n     * get all the slotted elements\n     * @internal\n     */\n    get allSlottedItems() {\n        var _a, _b, _c, _d;\n        const start = (_b = (_a = this.start) === null || _a === void 0 ? void 0 : _a.assignedElements()) !== null && _b !== void 0 ? _b : [];\n        const end = (_d = (_c = this.end) === null || _c === void 0 ? void 0 : _c.assignedElements()) !== null && _d !== void 0 ? _d : [];\n        return [...start, ...this.slottedItems, ...end];\n    }\n    /**\n     * Prepare the slotted elements which can be focusable.\n     *\n     * @internal\n     */\n    reduceFocusableElements() {\n        var _a;\n        const previousFocusedElement = (_a = this.focusableElements) === null || _a === void 0 ? void 0 : _a[this.activeIndex];\n        this.focusableElements = this.allSlottedItems.reduce(FASTToolbar.reduceFocusableItems, []);\n        // If the previously active item is still focusable, adjust the active index to the\n        // index of that item.\n        const adjustedActiveIndex = this.focusableElements.indexOf(previousFocusedElement);\n        this.activeIndex = Math.max(0, adjustedActiveIndex);\n        this.setFocusableElements();\n    }\n    /**\n     * Set the activeIndex and focus the corresponding control.\n     *\n     * @param activeIndex - The new index to set\n     * @internal\n     */\n    setFocusedElement(activeIndex = this.activeIndex) {\n        var _a;\n        this.activeIndex = activeIndex;\n        this.setFocusableElements();\n        (_a = this.focusableElements[this.activeIndex]) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    /**\n     * Reduce a collection to only its focusable elements.\n     *\n     * @param elements - Collection of elements to reduce\n     * @param element - The current element\n     *\n     * @internal\n     */\n    static reduceFocusableItems(elements, element) {\n        var _a, _b, _c, _d;\n        const isRoleRadio = element.getAttribute(\"role\") === \"radio\";\n        const isFocusableFastElement = (_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus;\n        const hasFocusableShadow = Array.from((_d = (_c = element.shadowRoot) === null || _c === void 0 ? void 0 : _c.querySelectorAll(\"*\")) !== null && _d !== void 0 ? _d : []).some(x => isFocusable(x));\n        if (!element.hasAttribute(\"disabled\") &&\n            !element.hasAttribute(\"hidden\") &&\n            (isFocusable(element) ||\n                isRoleRadio ||\n                isFocusableFastElement ||\n                hasFocusableShadow)) {\n            elements.push(element);\n            return elements;\n        }\n        if (element.childElementCount) {\n            return elements.concat(Array.from(element.children).reduce(FASTToolbar.reduceFocusableItems, []));\n        }\n        return elements;\n    }\n    /**\n     * @internal\n     */\n    setFocusableElements() {\n        if (this.$fastController.isConnected && this.focusableElements.length > 0) {\n            this.focusableElements.forEach((element, index) => {\n                element.tabIndex = this.activeIndex === index ? 0 : -1;\n            });\n        }\n    }\n}\n__decorate([\n    observable\n], FASTToolbar.prototype, \"direction\", void 0);\n__decorate([\n    attr\n], FASTToolbar.prototype, \"orientation\", void 0);\n__decorate([\n    observable\n], FASTToolbar.prototype, \"slottedItems\", void 0);\n__decorate([\n    observable\n], FASTToolbar.prototype, \"slottedLabel\", void 0);\n__decorate([\n    observable\n], FASTToolbar.prototype, \"childItems\", void 0);\n/**\n * Includes ARIA states and properties relating to the ARIA toolbar role\n *\n * @public\n */\nexport class DelegatesARIAToolbar {\n}\n__decorate([\n    attr({ attribute: \"aria-labelledby\" })\n], DelegatesARIAToolbar.prototype, \"ariaLabelledby\", void 0);\n__decorate([\n    attr({ attribute: \"aria-label\" })\n], DelegatesARIAToolbar.prototype, \"ariaLabel\", void 0);\napplyMixins(DelegatesARIAToolbar, ARIAGlobalStatesAndProperties);\napplyMixins(FASTToolbar, StartEnd, DelegatesARIAToolbar);\n", "/**\n * Enumerates possible tooltip placements.\n *\n * @public\n */\nexport const TooltipPlacement = {\n    bottom: \"bottom\",\n    bottomEnd: \"bottom-end\",\n    bottomStart: \"bottom-start\",\n    left: \"left\",\n    leftEnd: \"left-end\",\n    leftStart: \"left-start\",\n    right: \"right\",\n    rightEnd: \"right-end\",\n    rightStart: \"right-start\",\n    top: \"top\",\n    topEnd: \"top-end\",\n    topStart: \"top-start\",\n};\n", "import { __awaiter, __decorate } from \"tslib\";\nimport { autoUpdate, computePosition, flip, shift } from \"@floating-ui/dom\";\nimport { attr, css, FASTElement, nullableBooleanConverter, observable, Updates, } from \"@microsoft/fast-element\";\nimport { keyEscape, uniqueId } from \"@microsoft/fast-web-utilities\";\nimport { TooltipPlacement } from \"./tooltip.options.js\";\n/**\n * A Tooltip Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.2/#tooltip | ARIA tooltip }.\n *\n * @slot - The default slot for the tooltip content\n * @fires dismiss - Fires a custom 'dismiss' event when the tooltip is visible and escape key is pressed\n *\n * @public\n */\nexport class FASTTooltip extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The visibility of the tooltip.\n         *\n         * @internal\n         */\n        this._visible = false;\n        /**\n         * Indicates if the tooltip visibility is controlled by the `visible` attribute.\n         *\n         * When `true`, the tooltip visibility is controlled by the `visible` attribute.\n         * When `false`, the tooltip visibility is controlled by the `mouseover` and `focusin` events on the anchor element.\n         *\n         * @internal\n         */\n        this.controlledVisibility = false;\n        /**\n         * Hides the tooltip when the anchor element loses focus.\n         *\n         * @internal\n         */\n        this.focusoutAnchorHandler = () => {\n            if (!this.controlledVisibility && this._visible) {\n                this.hideTooltip();\n            }\n        };\n        /**\n         * Shows the tooltip when the anchor element gains focus.\n         *\n         * @internal\n         */\n        this.focusinAnchorHandler = () => {\n            if (!this.controlledVisibility && !this._visible) {\n                this.showTooltip();\n            }\n        };\n        /**\n         * Hides the tooltip when the `Escape` key is pressed.\n         *\n         * @param e - the keyboard event\n         *\n         * @internal\n         */\n        this.keydownDocumentHandler = (e) => {\n            if (!e.defaultPrevented && this.visible) {\n                switch (e.key) {\n                    case keyEscape: {\n                        this.dismiss();\n                        break;\n                    }\n                }\n            }\n        };\n        /**\n         * Shows the tooltip when the mouse is over the anchor element.\n         *\n         * @internal\n         */\n        this.mouseoverAnchorHandler = () => {\n            var _a;\n            if (!((_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.isSameNode(this.anchorElement))) {\n                this.showTooltip();\n            }\n        };\n        /**\n         * Hides the tooltip when the mouse leaves the anchor element.\n         *\n         * @internal\n         */\n        this.mouseoutAnchorHandler = (e) => {\n            var _a;\n            if (!((_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.isSameNode(this.anchorElement)) &&\n                !this.isSameNode(e.relatedTarget)) {\n                this.hideTooltip();\n            }\n        };\n        /**\n         * The placement of the tooltip relative to the anchor element.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: `placement`\n         */\n        this.placement = TooltipPlacement.bottom;\n    }\n    /**\n     * Removes listeners from the previous anchor element and updates the anchor element reference.\n     *\n     * @param prev - the previous anchor string\n     * @param next - the current anchor string\n     *\n     * @internal\n     */\n    anchorChanged(prev, next) {\n        if (this.$fastController.isConnected) {\n            this.removeListeners();\n            this.removeAnchorAriaDescribedBy(this.id);\n            this.anchorElement = this.getAnchorElement(next);\n            this.addAnchorAriaDescribedBy();\n            if (!this.controlledVisibility) {\n                this.addListeners();\n            }\n        }\n    }\n    /**\n     * Switches between controlled and uncontrolled visibility.\n     *\n     * @param prev - the previous forced visibility state\n     * @param next - the current forced visibility state\n     * @internal\n     */\n    controlledVisibilityChanged(prev, next) {\n        if (!next) {\n            this.addListeners();\n            this.hideTooltip();\n            return;\n        }\n        this.removeListeners();\n    }\n    idChanged(prev, next) {\n        this.removeAnchorAriaDescribedBy(prev);\n        Updates.enqueue(() => {\n            this.addAnchorAriaDescribedBy();\n        });\n    }\n    /**\n     * Updates the styles for the tooltip position.\n     *\n     * @param prev - the previous placement styles\n     * @param next - the current placement styles\n     *\n     * @internal\n     */\n    positionStylesChanged(prev, next) {\n        this.$fastController.removeStyles(prev);\n        this.$fastController.addStyles(next);\n    }\n    showChanged(prev, next) {\n        this.setVisible(next);\n    }\n    /**\n     * Returns the current visibility of the tooltip.\n     * @public\n     */\n    get visible() {\n        return this._visible;\n    }\n    /**\n     * Sets the forced visibility state and shows or hides the tooltip.\n     *\n     * @internal\n     */\n    setVisible(value) {\n        this.controlledVisibility = typeof value === \"boolean\";\n        if (this.controlledVisibility) {\n            this.show = value;\n        }\n        if (value) {\n            this.showTooltip();\n            return;\n        }\n        this.hideTooltip();\n    }\n    /**\n     * Adds the `id` of the tooltip to the `aria-describedby` attribute of the anchor element.\n     *\n     * @internal\n     */\n    addAnchorAriaDescribedBy() {\n        var _a;\n        if (!this.id) {\n            this.id = uniqueId(\"tooltip-\");\n            return;\n        }\n        if (!this.anchorElement) {\n            return;\n        }\n        const anchorElementDescribedBy = (_a = this.anchorElement\n            .getAttribute(\"aria-describedby\")) === null || _a === void 0 ? void 0 : _a.concat(\" \", this.id).trim();\n        if (anchorElementDescribedBy) {\n            this.anchorElement.setAttribute(\"aria-describedby\", anchorElementDescribedBy);\n        }\n    }\n    /**\n     * Adds event listeners to the anchor element, the tooltip element, and the document.\n     *\n     * @internal\n     */\n    addListeners() {\n        if (!this.anchorElement) {\n            return;\n        }\n        this.anchorElement.addEventListener(\"focusin\", this.focusinAnchorHandler);\n        this.anchorElement.addEventListener(\"focusout\", this.focusoutAnchorHandler);\n        this.anchorElement.addEventListener(\"mouseout\", this.mouseoutAnchorHandler);\n        this.anchorElement.addEventListener(\"mouseover\", this.mouseoverAnchorHandler);\n        this.addEventListener(\"mouseout\", this.mouseoutAnchorHandler);\n        this.addEventListener(\"mouseover\", this.mouseoverAnchorHandler);\n        document.addEventListener(\"keydown\", this.keydownDocumentHandler);\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.anchorChanged(undefined, this.anchor);\n    }\n    /**\n     * Hides the tooltip and emits a custom `dismiss` event.\n     *\n     * @internal\n     */\n    dismiss() {\n        this.hideTooltip();\n        this.$emit(\"dismiss\");\n    }\n    /**\n     * Hides the tooltip.\n     *\n     * @internal\n     */\n    hideTooltip() {\n        var _a;\n        this._visible = false;\n        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);\n    }\n    /**\n     * Gets the anchor element by id.\n     *\n     * @param id - the id of the anchor element\n     *\n     * @internal\n     */\n    getAnchorElement(id = \"\") {\n        const rootNode = this.getRootNode();\n        if (rootNode instanceof ShadowRoot) {\n            return rootNode.getElementById(id);\n        }\n        return document.getElementById(id);\n    }\n    /**\n     * Removes the `id` of the tooltip from the `aria-describedby` attribute of the anchor element.\n     *\n     * @param id - the id of the tooltip\n     *\n     * @internal\n     */\n    removeAnchorAriaDescribedBy(id) {\n        var _a;\n        if (this.anchorElement) {\n            const anchorElementDescribedBy = (_a = this.anchorElement\n                .getAttribute(\"aria-describedby\")) === null || _a === void 0 ? void 0 : _a.split(\" \");\n            this.anchorElement.setAttribute(\"aria-describedby\", (anchorElementDescribedBy !== null && anchorElementDescribedBy !== void 0 ? anchorElementDescribedBy : []).filter(i => i !== id).join(\" \"));\n            if (this.anchorElement.getAttribute(\"aria-describedby\") === \"\") {\n                this.anchorElement.removeAttribute(\"aria-describedby\");\n            }\n        }\n    }\n    /**\n     * Removes event listeners from the anchor element, the tooltip element, and the document.\n     *\n     * @internal\n     */\n    removeListeners() {\n        if (!this.anchorElement) {\n            return;\n        }\n        this.anchorElement.removeEventListener(\"focusin\", this.focusinAnchorHandler);\n        this.anchorElement.removeEventListener(\"focusout\", this.focusoutAnchorHandler);\n        this.anchorElement.removeEventListener(\"mouseout\", this.mouseoutAnchorHandler);\n        this.anchorElement.removeEventListener(\"mouseover\", this.mouseoverAnchorHandler);\n        this.removeEventListener(\"mouseout\", this.mouseoutAnchorHandler);\n        this.removeEventListener(\"mouseover\", this.mouseoverAnchorHandler);\n        document.removeEventListener(\"keydown\", this.keydownDocumentHandler);\n    }\n    /**\n     * Sets the tooltip position.\n     *\n     * @public\n     */\n    setPositioning() {\n        var _a;\n        (_a = this.cleanup) === null || _a === void 0 ? void 0 : _a.call(this);\n        if (!this.anchorElement) {\n            this.hideTooltip();\n            return;\n        }\n        const anchorElement = this.anchorElement;\n        this.cleanup = autoUpdate(anchorElement, this, () => __awaiter(this, void 0, void 0, function* () {\n            const middleware = [shift()];\n            if (!this.placement) {\n                middleware.unshift(flip());\n            }\n            const { x, y } = yield computePosition(anchorElement, this, {\n                placement: this.placement,\n                strategy: \"fixed\",\n                middleware,\n            });\n            this.positionStyles = css `\n                :host {\n                    position: fixed;\n                    left: ${x.toString()}px;\n                    top: ${y.toString()}px;\n                }\n            `;\n        }));\n    }\n    /**\n     * Shows the tooltip.\n     *\n     * @internal\n     */\n    showTooltip() {\n        this._visible = true;\n        Updates.enqueue(() => this.setPositioning());\n    }\n}\n__decorate([\n    observable\n], FASTTooltip.prototype, \"_visible\", void 0);\n__decorate([\n    attr({ attribute: \"anchor\" })\n], FASTTooltip.prototype, \"anchor\", void 0);\n__decorate([\n    observable\n], FASTTooltip.prototype, \"controlledVisibility\", void 0);\n__decorate([\n    attr\n], FASTTooltip.prototype, \"id\", void 0);\n__decorate([\n    attr\n], FASTTooltip.prototype, \"placement\", void 0);\n__decorate([\n    observable\n], FASTTooltip.prototype, \"positionStyles\", void 0);\n__decorate([\n    attr({\n        attribute: \"show\",\n        converter: nullableBooleanConverter,\n        mode: \"fromView\",\n    })\n], FASTTooltip.prototype, \"show\", void 0);\n", "import { html } from \"@microsoft/fast-element\";\n/**\n * Creates a template for the {@link @microsoft/fast-foundation#(FASTTooltip:class)} component using the provided prefix.\n * @public\n */\nexport function tooltipTemplate() {\n    return html `\n        <template role=\"tooltip\" ?visible=\"${x => x.visible}\">\n            <slot></slot>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { attr, FASTElement, observable } from \"@microsoft/fast-element\";\nimport { isHTMLElement } from \"@microsoft/fast-web-utilities\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\n/**\n * check if the item is a tree item\n * @public\n * @remarks\n * determines if element is an HTMLElement and if it has the role treeitem\n */\nexport function isTreeItemElement(el) {\n    return isHTMLElement(el) && el.isTreeItem;\n}\n/**\n * A Tree item Custom HTML Element.\n *\n * @slot start - Content which can be provided before the tree item content\n * @slot end - Content which can be provided after the tree item content\n * @slot - The default slot for tree item text content\n * @slot item - The slot for tree items (fast tree items manage this assignment themselves)\n * @slot expand-collapse-button - The expand/collapse button\n * @csspart positioning-region - The element used to position the tree item content with exception of any child nodes\n * @csspart content-region - The element containing the expand/collapse, start, and end slots\n * @csspart items - The element wrapping any child items\n * @csspart expand-collapse-button - The expand/collapse button\n * @fires expanded-change - Fires a custom 'expanded-change' event when the expanded state changes\n * @fires selected-change - Fires a custom 'selected-change' event when the selected state changes\n *\n * @public\n */\nexport class FASTTreeItem extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * When true, the control will be appear expanded by user interaction.\n         * @public\n         * @remarks\n         * HTML Attribute: expanded\n         */\n        this.expanded = false;\n        /**\n         *  Readonly property identifying the element as a tree item\n         *\n         * @internal\n         */\n        this.isTreeItem = true;\n        /**\n         * Whether the item is focusable\n         *\n         * @internal\n         */\n        this.focusable = false;\n        /**\n         * Indicates if the tree item is nested\n         *\n         * @public\n         * @deprecated - will be removed in coming ALPHA version\n         * HTML Attribute: nested\n         */\n        this.nested = false;\n        /**\n         * Whether the tree is nested\n         *\n         * @public\n         */\n        this.isNestedItem = () => {\n            return isTreeItemElement(this.parentElement);\n        };\n        /**\n         * Handle expand button click\n         *\n         * @internal\n         */\n        this.handleExpandCollapseButtonClick = (e) => {\n            if (!this.disabled && !e.defaultPrevented) {\n                this.expanded = !this.expanded;\n            }\n        };\n        /**\n         * Handle focus events\n         *\n         * @internal\n         */\n        this.handleFocus = (e) => {\n            this.setAttribute(\"tabindex\", \"0\");\n        };\n        /**\n         * Handle blur events\n         *\n         * @internal\n         */\n        this.handleBlur = (e) => {\n            this.setAttribute(\"tabindex\", \"-1\");\n        };\n    }\n    expandedChanged(prev, next) {\n        if (this.$fastController.isConnected) {\n            this.$emit(\"expanded-change\", this);\n        }\n    }\n    selectedChanged(prev, next) {\n        if (this.$fastController.isConnected) {\n            this.$emit(\"selected-change\", this);\n        }\n    }\n    itemsChanged(oldValue, newValue) {\n        if (this.$fastController.isConnected) {\n            this.items.forEach((node) => {\n                if (isTreeItemElement(node)) {\n                    // TODO: maybe not require it to be a TreeItem?\n                    node.nested = true;\n                }\n            });\n        }\n    }\n    /**\n     * Places document focus on a tree item\n     *\n     * @public\n     * @param el - the element to focus\n     */\n    static focusItem(el) {\n        el.focusable = true;\n        el.focus();\n    }\n    /**\n     * Gets number of children\n     *\n     * @internal\n     */\n    get childItemLength() {\n        var _a;\n        if (this.$fastController.isConnected) {\n            return (_a = this.childItems) === null || _a === void 0 ? void 0 : _a.filter(item => isTreeItemElement(item)).length;\n        }\n        return 0;\n    }\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTTreeItem.prototype, \"expanded\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTTreeItem.prototype, \"selected\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTTreeItem.prototype, \"disabled\", void 0);\n__decorate([\n    observable\n], FASTTreeItem.prototype, \"focusable\", void 0);\n__decorate([\n    observable\n], FASTTreeItem.prototype, \"childItems\", void 0);\n__decorate([\n    observable\n], FASTTreeItem.prototype, \"items\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], FASTTreeItem.prototype, \"nested\", void 0);\napplyMixins(FASTTreeItem, StartEnd);\n", "import { html, ref, slotted } from \"@microsoft/fast-element\";\n/**\n * The template for the {@link @microsoft/fast-foundation#FASTTreeView} component.\n * @public\n */\nexport function treeViewTemplate() {\n    return html `\n        <template\n            role=\"tree\"\n            ${ref(\"treeView\")}\n            @keydown=\"${(x, c) => x.handleKeyDown(c.event)}\"\n            @focusin=\"${(x, c) => x.handleFocus(c.event)}\"\n            @focusout=\"${(x, c) => x.handleBlur(c.event)}\"\n            @click=\"${(x, c) => x.handleClick(c.event)}\"\n            @selected-change=\"${(x, c) => x.handleSelectedChange(c.event)}\"\n        >\n            <slot ${slotted(\"slottedTreeItems\")}></slot>\n        </template>\n    `;\n}\n", "import { __decorate } from \"tslib\";\nimport { FASTElement, observable, Updates } from \"@microsoft/fast-element\";\nimport { getDisplayedNodes, isHTMLElement, keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnd, keyEnter, keyHome, } from \"@microsoft/fast-web-utilities\";\nimport { FASTTreeItem, isTreeItemElement } from \"../tree-item/tree-item.js\";\n/**\n * A Tree view Custom HTML Element.\n * Implements the {@link https://w3c.github.io/aria-practices/#TreeView | ARIA TreeView }.\n *\n * @slot - The default slot for tree items\n *\n * @public\n */\nexport class FASTTreeView extends FASTElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The tree item that is designated to be in the tab queue.\n         *\n         * @internal\n         */\n        this.currentFocused = null;\n        /**\n         * Handle focus events\n         *\n         * @internal\n         */\n        this.handleFocus = (e) => {\n            if (this.slottedTreeItems.length < 1) {\n                // no child items, nothing to do\n                return;\n            }\n            if (e.target === this) {\n                if (this.currentFocused === null) {\n                    this.currentFocused = this.getValidFocusableItem();\n                }\n                if (this.currentFocused !== null) {\n                    FASTTreeItem.focusItem(this.currentFocused);\n                }\n                return;\n            }\n            if (this.contains(e.target)) {\n                this.setAttribute(\"tabindex\", \"-1\");\n                this.currentFocused = e.target;\n            }\n        };\n        /**\n         * Handle blur events\n         *\n         * @internal\n         */\n        this.handleBlur = (e) => {\n            if (e.target instanceof HTMLElement &&\n                (e.relatedTarget === null || !this.contains(e.relatedTarget))) {\n                this.setAttribute(\"tabindex\", \"0\");\n            }\n        };\n        /**\n         * KeyDown handler\n         *\n         *  @internal\n         */\n        this.handleKeyDown = (e) => {\n            if (e.defaultPrevented) {\n                return;\n            }\n            if (this.slottedTreeItems.length < 1) {\n                return true;\n            }\n            const treeItems = this.getVisibleNodes();\n            switch (e.key) {\n                case keyHome:\n                    if (treeItems.length) {\n                        FASTTreeItem.focusItem(treeItems[0]);\n                    }\n                    return;\n                case keyEnd:\n                    if (treeItems.length) {\n                        FASTTreeItem.focusItem(treeItems[treeItems.length - 1]);\n                    }\n                    return;\n                case keyArrowLeft:\n                    if (e.target && this.isFocusableElement(e.target)) {\n                        const item = e.target;\n                        if (item instanceof FASTTreeItem &&\n                            item.childItemLength > 0 &&\n                            item.expanded) {\n                            item.expanded = false;\n                        }\n                        else if (item instanceof FASTTreeItem &&\n                            item.parentElement instanceof FASTTreeItem) {\n                            FASTTreeItem.focusItem(item.parentElement);\n                        }\n                    }\n                    return false;\n                case keyArrowRight:\n                    if (e.target && this.isFocusableElement(e.target)) {\n                        const item = e.target;\n                        if (item instanceof FASTTreeItem &&\n                            item.childItemLength > 0 &&\n                            !item.expanded) {\n                            item.expanded = true;\n                        }\n                        else if (item instanceof FASTTreeItem && item.childItemLength > 0) {\n                            this.focusNextNode(1, e.target);\n                        }\n                    }\n                    return;\n                case keyArrowDown:\n                    if (e.target && this.isFocusableElement(e.target)) {\n                        this.focusNextNode(1, e.target);\n                    }\n                    return;\n                case keyArrowUp:\n                    if (e.target && this.isFocusableElement(e.target)) {\n                        this.focusNextNode(-1, e.target);\n                    }\n                    return;\n                case keyEnter:\n                    // In single-select trees where selection does not follow focus (see note below),\n                    // the default action is typically to select the focused node.\n                    this.handleClick(e);\n                    return;\n            }\n            // don't prevent default if we took no action\n            return true;\n        };\n        /**\n         * Handles the selected-changed events bubbling up\n         * from child tree items\n         *\n         *  @internal\n         */\n        this.handleSelectedChange = (e) => {\n            if (e.defaultPrevented) {\n                return;\n            }\n            if (!(e.target instanceof Element) || !isTreeItemElement(e.target)) {\n                return true;\n            }\n            const item = e.target;\n            if (item.selected) {\n                if (this.currentSelected && this.currentSelected !== item) {\n                    this.currentSelected.selected = false;\n                }\n                // new selected item\n                this.currentSelected = item;\n            }\n            else if (!item.selected && this.currentSelected === item) {\n                // selected item deselected\n                this.currentSelected = null;\n            }\n            return;\n        };\n        /**\n         * Updates the tree view when slottedTreeItems changes\n         */\n        this.setItems = () => {\n            // force single selection\n            // defaults to first one found\n            const selectedItem = this.treeView.querySelector(\"[aria-selected='true']\");\n            this.currentSelected = selectedItem;\n            // invalidate the current focused item if it is no longer valid\n            if (this.currentFocused === null || !this.contains(this.currentFocused)) {\n                this.currentFocused = this.getValidFocusableItem();\n            }\n            // toggle properties on child elements\n            this.nested = this.checkForNestedItems();\n            const treeItems = this.getVisibleNodes();\n            treeItems.forEach(node => {\n                if (isTreeItemElement(node)) {\n                    node.nested = this.nested;\n                }\n            });\n        };\n        /**\n         * check if the item is focusable\n         */\n        this.isFocusableElement = (el) => {\n            return isTreeItemElement(el);\n        };\n        this.isSelectedElement = (el) => {\n            return el.selected;\n        };\n    }\n    slottedTreeItemsChanged() {\n        if (this.$fastController.isConnected) {\n            // update for slotted children change\n            this.setItems();\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.setAttribute(\"tabindex\", \"0\");\n        Updates.enqueue(() => {\n            this.setItems();\n        });\n    }\n    /**\n     * Handles click events bubbling up\n     *\n     *  @internal\n     */\n    handleClick(e) {\n        if (e.defaultPrevented) {\n            // handled, do nothing\n            return;\n        }\n        if (!(e.target instanceof Element) || !isTreeItemElement(e.target)) {\n            // not a tree item, ignore\n            return true;\n        }\n        const item = e.target;\n        if (!item.disabled) {\n            item.selected = !item.selected;\n        }\n        return;\n    }\n    /**\n     * Move focus to a tree item based on its offset from the provided item\n     */\n    focusNextNode(delta, item) {\n        const visibleNodes = this.getVisibleNodes();\n        if (!visibleNodes) {\n            return;\n        }\n        const focusItem = visibleNodes[visibleNodes.indexOf(item) + delta];\n        if (isHTMLElement(focusItem)) {\n            FASTTreeItem.focusItem(focusItem);\n        }\n    }\n    /**\n     * checks if there are any nested tree items\n     */\n    getValidFocusableItem() {\n        const treeItems = this.getVisibleNodes();\n        // default to selected element if there is one\n        let focusIndex = treeItems.findIndex(this.isSelectedElement);\n        if (focusIndex === -1) {\n            // otherwise first focusable tree item\n            focusIndex = treeItems.findIndex(this.isFocusableElement);\n        }\n        if (focusIndex !== -1) {\n            return treeItems[focusIndex];\n        }\n        return null;\n    }\n    /**\n     * checks if there are any nested tree items\n     */\n    checkForNestedItems() {\n        return this.slottedTreeItems.some((node) => {\n            return isTreeItemElement(node) && node.querySelector(\"[role='treeitem']\");\n        });\n    }\n    getVisibleNodes() {\n        return getDisplayedNodes(this, \"[role='treeitem']\") || [];\n    }\n}\n__decorate([\n    observable\n], FASTTreeView.prototype, \"currentSelected\", void 0);\n__decorate([\n    observable\n], FASTTreeView.prototype, \"slottedTreeItems\", void 0);\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "import { AdaptiveDesignSystem } from \"@adaptive-web/adaptive-web-components\";\nimport { AllComponents } from \"@adaptive-web/adaptive-web-components/all-components\";\nimport { DesignToken } from \"@microsoft/fast-foundation\";\n\n// This must be called during initialization for the Design Tokens to be setup so the component styling is applied.\nDesignToken.registerDefaultStyleTarget();\nAdaptiveDesignSystem.defineComponents(AllComponents);\n\n\nexport function afterWebStarted(blazor) {\n    blazor.registerCustomEventType('accordionchange', {\n        browserEventName: 'change',\n        createEventArgs: event => {\n            return { \n                activeId: event.detail \n            };\n        }\n    });\n}"],
  "mappings": "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",
  "names": ["kernelMode", "kernelAttr", "scripts", "KernelServiceId", "postfix", "isFunction", "object", "isString", "noop", "result", "propConfig", "FAST", "storage", "id", "initialize", "found", "code", "emptyArray", "createTypeRegistry", "typeToDefinition", "definition", "key", "object", "createMetadataLocator", "metadataLookup", "target", "metadata", "currentTarget", "makeSerializationNoop", "type", "noop", "DOMAspect", "createHTML", "html", "fastTrustedType", "defaultPolicy", "value", "tagName", "aspect", "aspectName", "sink", "fastPolicy", "DOM", "FAST", "element", "attributeName", "Updates", "FAST", "KernelServiceId", "tasks", "pendingErrors", "rAF", "updateAsync", "throwFirstError", "tryRunTask", "task", "error", "process", "index", "scan", "newLength", "enqueue", "callable", "isAsync", "SubscriberSet", "subject", "initialSubscriber", "subscriber", "spillover", "index", "args", "sub1", "sub2", "i", "ii", "PropertyChangeNotifier", "propertyName", "_a", "_b", "propertyToWatch", "subscribers", "propertyToUnwatch", "SourceLifetime", "Observable", "FAST", "KernelServiceId", "queueUpdate", "Updates", "volatileRegex", "notifierLookup", "watcher", "createArrayObserver", "array", "getNotifier", "source", "_a", "found", "PropertyChangeNotifier", "getAccessors", "createMetadataLocator", "DefaultObservableAccessor", "name", "newValue", "field", "oldValue", "callback", "isFunction", "ExpressionNotifierImplementation", "SubscriberSet", "expression", "initialSubscriber", "isVolatileBinding", "isAsync", "controller", "value", "context", "previousWatcher", "result", "current", "propertySource", "propertyName", "prev", "notifier", "prevValue", "next", "makeSerializationNoop", "factory", "args", "target", "nameOrAccessor", "isString", "observable", "volatile", "descriptor", "contextEvent", "event", "ExecutionContext", "Splice", "index", "removed", "addedCount", "array", "arrayLength", "SpliceStrategySupport", "reset", "emptyArray", "resetSplices", "calcEditDistances", "current", "currentStart", "currentEnd", "old", "oldStart", "oldEnd", "rowCount", "columnCount", "distances", "north", "west", "i", "j", "spliceOperationsFromEditDistances", "edits", "northWest", "min", "sharedPrefix", "searchLength", "sharedSuffix", "index1", "index2", "count", "intersect", "start1", "end1", "start2", "end2", "calc", "prefixCount", "suffixCount", "minLength", "splice", "ops", "splices", "oldIndex", "merge", "inserted", "insertionOffset", "intersectCount", "deleteCount", "currentRemoved", "prepend", "append", "offset", "project", "changes", "initialSplices", "ii", "defaultSpliceStrategy", "previous", "observer", "pop", "args", "notEmpty", "result", "push", "reverse", "shift", "sort", "unshift", "SpliceStrategy", "strategy", "setNonEnumerable", "target", "property", "value", "DefaultArrayObserver", "SubscriberSet", "subject", "Observable", "subscriber", "oldCollection", "_a", "Updates", "enabled", "ArrayObserver", "collection", "proto", "method", "o", "Binding", "evaluate", "policy", "isVolatile", "OneWayBinding", "Binding", "subscriber", "Observable", "oneWay", "expression", "policy", "isVolatile", "OneTimeBinding", "Binding", "controller", "makeSerializationNoop", "oneTime", "expression", "policy", "normalizeBinding", "value", "isFunction", "oneWay", "Binding", "oneTime", "DefaultStyleStrategy", "reduceStyles", "styles", "x", "ElementStyles", "prev", "curr", "_ElementStyles", "target", "behaviors", "Strategy", "registry", "createTypeRegistry", "CSSDirective", "type", "cssDirective", "handleChange", "directive", "controller", "observer", "CSSBindingDirective", "dataBinding", "targetAspect", "add", "_a", "element", "setAttribute", "attr", "value", "v", "k", "_", "CSSDirective", "marker", "varId", "nextCSSVariable", "collectStyles", "strings", "values", "styles", "cssString", "behaviors", "add", "behavior", "i", "ii", "value", "isFunction", "CSSBindingDirective", "oneWay", "Binding", "CSSDirective", "ElementStyles", "css", "elementStyles", "CSSPartial", "stylesheets", "accumulated", "current", "isString", "controller", "marker", "interpolationStart", "interpolationEnd", "interpolationEndLength", "id", "nextId", "Markup", "Parser", "value", "factories", "parts", "result", "i", "ii", "current", "index", "literal", "factoryId", "registry", "createTypeRegistry", "HTMLDirective", "type", "options", "directive", "value", "DOMAspect", "htmlDirective", "StatelessAttachedAttributeDirective", "add", "Markup", "makeSerializationNoop", "updateContent", "target", "aspect", "value", "controller", "view", "updateTokenList", "_a", "lookup", "state", "classVersions", "version", "tokenList", "names", "i", "ii", "currentName", "name", "sinkLookup", "DOMAspect", "DOM", "t", "a", "v", "HTMLBindingDirective", "dataBinding", "add", "Markup", "sink", "policy", "FAST", "observer", "event", "ExecutionContext", "result", "binding", "HTMLDirective", "removeNodeSequence", "firstNode", "lastNode", "parent", "current", "next", "HTMLView", "fragment", "factories", "targets", "SourceLifetime", "ExecutionContext", "node", "end", "parentNode", "behavior", "source", "context", "behaviors", "i", "ii", "unbindables", "views", "makeSerializationNoop", "Observable", "targetIdFrom", "parentId", "nodeIndex", "descriptorCache", "next", "tryWarn", "name", "FAST", "warningHost", "target", "property", "value", "isFunction", "CompilationContext", "fragment", "directives", "policy", "factory", "nodeId", "targetIndex", "tagName", "_a", "_b", "nextId", "targetId", "descriptors", "index", "grandparentId", "childIndex", "descriptor", "field", "hostBindingTarget", "targets", "id", "HTMLView", "compileAttributes", "context", "node", "includeBasicValues", "attributes", "i", "ii", "attr", "attrValue", "parseResult", "Parser", "result", "HTMLBindingDirective", "oneTime", "HTMLDirective", "Compiler", "compileContent", "currentNode", "lastNode", "currentPart", "isString", "compileChildren", "parent", "childNode", "compileNode", "parts", "isMarker", "templateTag", "html", "factories", "DOM", "template", "fec", "strategy", "sourceAspect", "binding", "isVolatile", "bindingPolicy", "partCount", "finalParts", "x", "expression", "scope", "output", "directive", "lastAttributeNameRegex", "noFactories", "InlineTemplateDirective", "html", "factories", "add", "key", "HTMLDirective", "createHTML", "value", "prevString", "definition", "match", "ViewTemplate", "_ViewTemplate", "policy", "hostBindingTarget", "Compiler", "isString", "FAST", "source", "host", "view", "strings", "values", "factory", "_a", "id", "nextId", "i", "ii", "currentString", "currentValue", "isFunction", "HTMLBindingDirective", "oneWay", "Binding", "staticValue", "oneTime", "makeSerializationNoop", "RefDirective", "StatelessAttachedAttributeDirective", "controller", "HTMLDirective", "ref", "propertyName", "noTemplate", "normalizeBinding", "value", "isFunction", "when", "condition", "templateOrTemplateBinding", "elseTemplateOrTemplateBinding", "dataBinding", "templateBinding", "elseBinding", "source", "context", "defaultRepeatOptions", "bindWithoutPositioning", "view", "items", "index", "controller", "bindWithPositioning", "RepeatBehavior", "directive", "source", "args", "force", "emptyArray", "oldObserver", "newObserver", "Observable", "hasNewObserver", "splices", "views", "bindView", "template", "recycle", "leftoverViews", "leftoverIndex", "availableViews", "i", "ii", "splice", "removed", "removeIndex", "addIndex", "end", "removedViews", "totalAvailableViews", "neighbor", "location", "viewsLength", "context", "templateChanged", "itemsLength", "HTMLView", "RepeatDirective", "dataBinding", "templateBinding", "options", "ArrayObserver", "add", "Markup", "HTMLDirective", "repeat", "normalizeBinding", "selectElements", "value", "elements", "selector", "NodeObservationDirective", "StatelessAttachedAttributeDirective", "controller", "target", "emptyArray", "source", "nodes", "slotEvent", "SlottedDirective", "NodeObservationDirective", "target", "event", "HTMLDirective", "slotted", "propertyOrOptions", "isString", "ChildrenDirective", "NodeObservationDirective", "options", "mutations", "observer", "target", "noop", "HTMLDirective", "children", "propertyOrOptions", "isString", "booleanMode", "reflectMode", "AttributeConfiguration", "createMetadataLocator", "booleanConverter", "value", "nullableBooleanConverter", "toNumber", "number", "nullableNumberConverter", "output", "AttributeDefinition", "_AttributeDefinition", "Owner", "name", "attribute", "mode", "converter", "source", "newValue", "oldValue", "Observable", "element", "guards", "Updates", "latestValue", "DOM", "attributeLists", "attributes", "i", "ii", "list", "j", "jj", "config", "isString", "attr", "configOrTarget", "prop", "decorator", "$target", "$prop", "defaultShadowOptions", "defaultElementOptions", "fastElementBaseTypes", "fastElementRegistry", "FAST", "KernelServiceId", "createTypeRegistry", "FASTElementDefinition", "_FASTElementDefinition", "type", "nameOrConfig", "_a", "isString", "proto", "attributes", "AttributeDefinition", "observedAttributes", "propertyLookup", "attributeLookup", "i", "ii", "current", "Observable", "ElementStyles", "registry", "nameOrDef", "defaultEventOptions", "isConnectedPropertyName", "shadowRoots", "getShadowRoot", "element", "_a", "_b", "elementControllerStrategy", "ElementController", "PropertyChangeNotifier", "definition", "shadowOptions", "shadowRoot", "accessors", "Observable", "boundObservables", "i", "ii", "propertyName", "value", "ExecutionContext", "behavior", "targetBehaviors", "count", "force", "styles", "source", "sourceBehaviors", "propertyNames", "behaviors", "key", "name", "oldValue", "newValue", "attrDef", "type", "detail", "options", "template", "host", "child", "SourceLifetime", "controller", "FASTElementDefinition", "FAST", "strategy", "makeSerializationNoop", "normalizeStyleTarget", "target", "AdoptedStyleSheetsStrategy", "_AdoptedStyleSheetsStrategy", "styleSheetCache", "x", "sheet", "addAdoptedStyleSheets", "removeAdoptedStyleSheets", "id", "nextStyleId", "usableStyleTarget", "StyleElementStrategy", "styleClass", "sheets", "ElementStyles", "index", "createFASTElement", "BaseType", "type", "ElementController", "detail", "options", "name", "oldValue", "newValue", "FASTElementDefinition", "compose", "nameOrDef", "isFunction", "define", "from", "FASTElement", "parseNumber", "color", "len", "parseNumber_default", "named", "named_default", "parseNamed", "color", "parseNumber_default", "named_default", "parseNamed_default", "hex", "parseHex", "color", "match", "parseNumber_default", "parseHex_default", "num", "num_none", "per", "per_none", "num_per", "num_per_none", "hue", "hue_none", "c", "rx_num_per_none", "num_per_none", "rgb_num_old", "num", "c", "num_per", "rgb_per_old", "per", "parseRgbLegacy", "color", "res", "match", "parseRgbLegacy_default", "prepare", "color", "mode", "parse_default", "prepare_default", "converter", "target_mode", "color", "prepare_default", "converters", "converter_default", "converters", "modes", "parsers", "colorProfiles", "identity", "v", "useMode", "definition", "k", "channel", "parser", "useParser", "converter_default", "getMode", "mode", "IdentStartCodePoint", "IdentCodePoint", "Tok", "_i", "is_num", "chars", "ch", "ch1", "is_ident", "huenits", "num", "value", "digits", "id", "ident", "v", "identlike", "tokenize", "str", "tokens", "alpha", "parseColorSyntax", "token", "mode", "colorProfiles", "res", "coords", "consumeCoords", "channels", "getMode", "ii", "c", "includeHue", "parseModernSyntax", "parse", "color", "parsed", "result", "i", "len", "parsers", "parse_default", "parseRgb", "color", "parsed", "res", "r", "g", "b", "alpha", "Tok", "parseRgb_default", "parseTransparent", "c", "parseTransparent_default", "lerp", "a", "b", "t", "get_classes", "arr", "classes", "i", "a", "b", "interpolatorPiecewise", "interpolator", "t", "cls", "idx", "pair", "interpolatorLinear", "interpolatorPiecewise", "lerp", "fixupAlpha", "arr", "some_defined", "res", "v", "definition", "parseRgb_default", "parseHex_default", "parseRgbLegacy_default", "parseNamed_default", "parseTransparent_default", "interpolatorLinear", "fixupAlpha", "definition_default", "fn", "c", "abs", "convertRgbToLrgb", "r", "g", "b", "alpha", "res", "convertRgbToLrgb_default", "fn", "c", "abs", "convertLrgbToRgb", "r", "g", "b", "alpha", "mode", "res", "convertLrgbToRgb_default", "normalizeHue", "hue", "normalizeHue_default", "hue", "hues", "fn", "idx", "arr", "normalized", "normalizeHue_default", "acc", "curr", "fixupHueShorter", "d", "differenceHueSaturation", "std", "smp", "std_h", "normalizeHue_default", "smp_h", "dH", "averageAngle", "val", "sum", "rad", "convertHslToRgb", "h", "s", "l", "alpha", "normalizeHue_default", "m1", "m2", "res", "convertRgbToHsl", "r", "g", "b", "alpha", "M", "m", "res", "hueToDeg", "val", "unit", "hue_default", "hsl_old", "hue", "c", "per", "num_per", "parseHslLegacy", "color", "match", "res", "hue_default", "parseHslLegacy_default", "parseHsl", "color", "parsed", "res", "h", "s", "l", "alpha", "Tok", "parseHsl_default", "definition", "convertHslToRgb", "convertRgbToHsl", "parseHsl_default", "parseHslLegacy_default", "c", "interpolatorLinear", "fixupHueShorter", "fixupAlpha", "differenceHueSaturation", "averageAngle", "definition_default", "definition", "definition_default", "convertLrgbToRgb_default", "convertRgbToLrgb_default", "convertLrgbToOklab", "r", "g", "b", "alpha", "L", "M", "S", "res", "convertLrgbToOklab_default", "convertRgbToOklab", "rgb", "res", "convertLrgbToOklab_default", "convertRgbToLrgb_default", "convertRgbToOklab_default", "convertOklabToLrgb", "l", "a", "b", "alpha", "L", "M", "S", "res", "convertOklabToLrgb_default", "convertOklabToRgb", "c", "convertLrgbToRgb_default", "convertOklabToLrgb_default", "convertOklabToRgb_default", "toe", "x", "k_3", "toe_inv", "compute_max_saturation", "a", "b", "k0", "k1", "k2", "k3", "k4", "wl", "wm", "ws", "S", "k_l", "k_m", "k_s", "l_", "m_", "s_", "l", "m", "s", "l_dS", "m_dS", "s_dS", "l_dS2", "m_dS2", "s_dS2", "f", "f1", "f2", "find_cusp", "S_cusp", "rgb", "convertOklabToLrgb_default", "L_cusp", "C_cusp", "find_gamut_intersection", "L1", "C1", "L0", "cusp", "t", "dL", "dC", "l_dt", "m_dt", "s_dt", "L", "C", "ldt", "mdt", "sdt", "ldt2", "mdt2", "sdt2", "r", "r1", "r2", "u_r", "t_r", "g", "g1", "g2", "u_g", "t_g", "b1", "b2", "u_b", "t_b", "get_ST_max", "a_", "b_", "get_Cs", "L", "a_", "b_", "cusp", "find_cusp", "C_max", "find_gamut_intersection", "ST_max", "get_ST_max", "S_mid", "T_mid", "k", "C_a", "C_b", "C_mid", "convertOklabToOkhsl", "lab", "ret", "toe", "c", "C_0", "C_mid", "C_max", "get_Cs", "s", "k_0", "k_1", "k_2", "normalizeHue_default", "convertOkhslToOklab", "hsl", "l", "toe_inv", "ret", "a_", "b_", "C_0", "C_mid", "C_max", "get_Cs", "t", "k_0", "k_1", "k_2", "C", "modeOkhsl", "definition_default", "convertOklabToOkhsl", "c", "convertRgbToOklab_default", "convertOkhslToOklab", "convertOklabToRgb_default", "modeOkhsl_default", "r", "value", "precision", "round", "round_default", "twoDecimals", "round_default", "clamp", "value", "fixup", "serializeHex", "color", "r", "g", "b", "serializeRgb", "color", "r", "fixup", "g", "b", "twoDecimals", "clamp", "formatHex", "c", "serializeHex", "converter_default", "formatRgb", "c", "serializeRgb", "converter_default", "mapper", "fn", "mode", "preserve_mode", "channels", "getMode", "conv", "converter_default", "prepare_default", "color", "conv_color", "res", "ch", "v", "prep", "mapAlphaMultiply", "c", "mapAlphaDivide", "normalizePositions", "arr", "i", "j", "from_idx", "from_pos", "inc", "normalizePositions_default", "midpoint", "H", "midpoint_default", "isfn", "o", "isobj", "isnum", "interpolate_fn", "colors", "mode", "overrides", "premap", "def", "getMode", "conv", "converter_default", "conv_colors", "positions", "fns", "val", "normalizePositions_default", "fixed", "res", "ch", "ffn", "v", "color", "ccolors", "idx", "c", "interpolators", "ifn", "n", "t", "start", "delta", "P", "fn", "midpoint_default", "t0", "channel", "interpolate", "interpolateWith", "postmap", "post", "mapper", "it", "interpolateWithPremultipliedAlpha", "mapAlphaMultiply", "mapAlphaDivide", "gamma", "\u03B3", "gamma_default", "samples", "n", "\u03B3", "ease", "gamma_default", "res", "i", "samples_default", "rgb", "converter_default", "fixup_rgb", "c", "res", "to_displayable_srgb", "inrange_rgb", "displayable", "color", "inGamut", "mode", "gamut", "getMode", "conv", "clampGamut", "mode", "gamut", "getMode", "color", "prepare_default", "destMode", "destConv", "converter_default", "inDestGamut", "inGamut", "original", "converted", "clamped", "fixup_rgb", "clampChroma", "rgbGamut", "inDestinationGamut", "displayable", "clipToGamut", "to_displayable_srgb", "conv", "start", "end", "range", "resolution", "_last_good_c", "luminance", "color", "c", "converter_default", "__decorate", "decorators", "target", "key", "desc", "c", "r", "d", "i", "__metadata", "metadataKey", "metadataValue", "__awaiter", "thisArg", "_arguments", "P", "generator", "adopt", "value", "resolve", "reject", "fulfilled", "step", "e", "rejected", "result", "contrast", "a", "b", "y1", "y2", "useMode", "definition_default", "Color", "Color_1", "color", "contrast", "luminance", "formatRgb", "formatHex", "obj", "r", "g", "b", "alpha", "parsedColor", "parse_default", "__decorate", "cssDirective", "rgb", "useMode", "definition_default", "rgbBlack", "rgbWhite", "calcChannelOverlay", "match", "background", "overlay", "calcRgbOverlay", "rgbMatch", "rgbBackground", "rgbOverlay", "rChannel", "gChannel", "bChannel", "calculateOverlayColor", "alpha", "Swatch", "_Swatch", "Color", "color", "intendedColor", "transparentColor", "obj", "r", "g", "b", "parsedColor", "parse_default", "reference", "refColor", "colorWithAlpha", "_white", "Swatch", "_black", "blackOrWhiteByContrast", "reference", "minContrast", "defaultBlack", "defaultColor", "_black", "_white", "otherColor", "defaultContrast", "otherContrast", "blackOrWhiteByContrastSet", "set", "minContrast", "defaultBlack", "defaultRule", "reference", "blackOrWhiteByContrast", "restForeground", "hoverForeground", "activeForeground", "focusForeground", "disabledForeground", "binarySearch", "valuesToSearch", "searchCondition", "startIndex", "endIndex", "middleIndex", "target", "isDark", "color", "directionByIsDark", "color", "isDark", "PaletteDirectionValue", "PaletteDirectionValue", "resolvePaletteDirection", "direction", "BasePalette", "source", "swatches", "reference", "contrastTarget", "initialSearchIndex", "directionByIsDark", "endSearchIndex", "startSearchIndex", "condition", "value", "contrast", "binarySearch", "delta", "dir", "index", "closest", "previous", "next", "i", "min", "max", "contrastAndDeltaSwatchSet", "palette", "reference", "minContrast", "restDelta", "hoverDelta", "activeDelta", "focusDelta", "disabledDelta", "disabledPalette", "direction", "directionByIsDark", "zeroAsTransparent", "dir", "resolvePaletteDirection", "referenceIndex", "accessibleSwatch", "accessibleIndex1", "accessibleIndex2", "indexOneIsRestState", "PaletteDirectionValue", "restIndex", "hoverIndex", "getSwatch", "index", "swatch", "contrastSwatch", "palette", "reference", "minContrast", "direction", "directionByIsDark", "deltaSwatchSet", "palette", "reference", "restDelta", "hoverDelta", "activeDelta", "focusDelta", "disabledDelta", "disabledPalette", "direction", "directionByIsDark", "zeroAsTransparent", "referenceIndex", "dir", "resolvePaletteDirection", "getSwatch", "delta", "swatch", "deltaSwatch", "palette", "reference", "delta", "direction", "directionByIsDark", "luminanceSwatch", "luminance", "Swatch", "swatchAsOverlay", "swatch", "reference", "asOverlay", "Swatch", "interactiveSwatchSetAsOverlay", "set", "okhsl", "useMode", "modeOkhsl_default", "rgb", "definition_default", "stepCount", "PaletteOkhsl", "_PaletteOkhsl", "BasePalette", "source", "color", "Color", "sourceHsl", "lo", "hi", "y", "stepCountLeft", "stepCountRight", "colorsLeft", "colorsRight", "interpolateLeft", "interpolate", "interpolateRight", "samplesLeft", "samples_default", "samplesRight", "swatches", "value", "Swatch", "clampChroma", "_white", "_black", "staticallyCompose", "item", "InlineTemplateDirective", "tagFor", "dependency", "FASTElementDefinition", "ARIAGlobalStatesAndProperties", "__decorate", "attr", "StartEnd", "endSlotTemplate", "options", "html", "ref", "staticallyCompose", "startSlotTemplate", "accordionItemTemplate", "options", "html", "x", "ref", "c", "startSlotTemplate", "endSlotTemplate", "staticallyCompose", "Orientation", "findLastIndex", "array", "predicate", "k", "isHTMLElement", "args", "arg", "getDisplayedNodes", "rootNode", "selector", "node", "eventClick", "eventFocus", "eventFocusIn", "eventFocusOut", "eventKeyDown", "eventResize", "eventScroll", "keyArrowDown", "keyArrowLeft", "keyArrowRight", "keyArrowUp", "keyBackspace", "keyDelete", "keyEnd", "keyEnter", "keyEscape", "keyHome", "keyFunction2", "keyPageDown", "keyPageUp", "keySpace", "keyTab", "ArrowKeys", "keyArrowDown", "keyArrowLeft", "keyArrowRight", "keyArrowUp", "Direction", "wrapInBounds", "min", "max", "value", "limit", "inRange", "a", "b", "uniqueIdCounter", "uniqueId", "prefix", "applyMixins", "derivedCtor", "baseCtors", "derivedAttributes", "AttributeConfiguration", "baseCtor", "name", "x", "FASTAccordionItem", "FASTElement", "uniqueId", "e", "__decorate", "attr", "nullableNumberConverter", "applyMixins", "StartEnd", "AccordionExpandMode", "FASTAccordion", "FASTElement", "AccordionExpandMode", "children", "child", "Observable", "item", "index", "FASTAccordionItem", "itemId", "expandedItem", "oldValue", "event", "keyArrowUp", "keyArrowDown", "keyHome", "keyEnd", "focusedItem", "focusedIndex", "prev", "next", "newValue", "source", "propertyName", "_a", "currentItems", "accordionItem", "adjustment", "wrapInBounds", "element", "__decorate", "attr", "observable", "accordionTemplate", "html", "slotted", "elements", "FASTAnchor", "FASTElement", "__decorate", "attr", "observable", "DelegatesARIALink", "applyMixins", "ARIAGlobalStatesAndProperties", "StartEnd", "anchorTemplate", "options", "html", "x", "ref", "startSlotTemplate", "slotted", "endSlotTemplate", "horizontalAnchorOverlay", "FlyoutPosTop", "FlyoutPosBottom", "FlyoutPosTallest", "FlyoutPosTopFill", "FlyoutPosBottomFill", "FlyoutPosTallestFill", "getDirection", "rootNode", "_a", "Direction", "IntersectionService", "target", "callback", "_a", "callbacks", "callBackIndex", "entries", "pendingCallbacks", "pendingCallbackParams", "entry", "thisElementCallbacks", "targetCallbackIndex", "index", "FASTAnchoredRegion", "_FASTAnchoredRegion", "FASTElement", "Direction", "rootNode", "entries", "regionEntry", "x", "anchorEntry", "viewportEntry", "rectA", "rectB", "getDirection", "desiredVerticalPosition", "desiredHorizontalPosition", "horizontalOptions", "dirCorrectedHorizontalDefaultPosition", "newDirection", "horizontalThreshold", "anchorLeft", "anchorRight", "anchorWidth", "viewportLeft", "viewportRight", "verticalOptions", "verticalThreshold", "anchorTop", "anchorBottom", "anchorHeight", "viewportTop", "viewportBottom", "nextPositionerDimension", "positionChanged", "nextRegionWidth", "sizeDelta", "regionLeft", "regionRight", "nextRegionHeight", "regionTop", "regionBottom", "inset", "positionOption", "anchorStart", "anchorEnd", "anchorSpan", "viewportStart", "viewportEnd", "spaceStart", "spaceEnd", "newRegionDimension", "eventResize", "eventScroll", "prevMode", "newMode", "Updates", "IntersectionService", "__decorate", "attr", "observable", "anchoredRegionTemplate", "html", "x", "when", "avatarTemplate", "options", "html", "staticallyCompose", "FASTAvatar", "FASTElement", "badgeTemplate", "html", "FASTBadge", "FASTElement", "breadcrumbItemTemplate", "options", "html", "anchorTemplate", "when", "x", "staticallyCompose", "FASTBreadcrumbItem", "FASTAnchor", "__decorate", "observable", "applyMixins", "StartEnd", "DelegatesARIALink", "breadcrumbTemplate", "html", "slotted", "elements", "FASTBreadcrumb", "FASTElement", "lastNode", "item", "itemIsLastNode", "isLastNode", "FASTBreadcrumbItem", "node", "_a", "_b", "childNode", "__decorate", "observable", "proxySlotName", "ElementInternalsKey", "supportsElementInternals", "InternalsMap", "FormAssociated", "BaseCtor", "C", "args", "parentLabels", "forLabels", "labels", "emptyArray", "previous", "next", "Updates", "prev", "internals", "name", "flags", "message", "anchor", "disabled", "_a", "value", "state", "e", "keyEnter", "defaultButton", "attr", "observable", "CheckableFormAssociated", "D", "booleanConverter", "_Button", "FASTElement", "FormAssociatedButton", "FormAssociated", "ButtonType", "FASTButton", "FormAssociatedButton", "attached", "_a", "previous", "next", "ButtonType", "__decorate", "attr", "observable", "DelegatesARIAButton", "applyMixins", "ARIAGlobalStatesAndProperties", "StartEnd", "buttonTemplate", "options", "html", "x", "ref", "startSlotTemplate", "slotted", "endSlotTemplate", "DayFormat", "WeekdayFormat", "MonthFormat", "YearFormat", "DateFormatter", "config", "DayFormat", "WeekdayFormat", "MonthFormat", "YearFormat", "key", "value", "date", "dates", "day", "month", "year", "format", "locale", "dateObj", "optionsWithTimeZone", "weekday", "_", "FASTCalendar", "FASTElement", "DateFormatter", "DayFormat", "WeekdayFormat", "MonthFormat", "YearFormat", "month", "year", "getFirstDay", "date", "getLength", "nextMonth", "thisMonth", "previousMonth", "info", "minWeeks", "length", "previous", "next", "start", "days", "dayCount", "day", "dateString", "disabled", "selected", "target", "datesString", "dates", "str", "d", "todayString", "today", "inactive", "weekdayText", "text", "longText", "weekday", "index", "firstDay", "event", "keyEnter", "__decorate", "attr", "nullableNumberConverter", "applyMixins", "StartEnd", "calendarTitleTemplate", "html", "x", "calendarWeekdayTemplate", "options", "cellTag", "tagFor", "c", "calendarCellTemplate", "todayString", "calendarRowTemplate", "rowTag", "repeat", "interactiveCalendarGridTemplate", "gridTag", "noninteractiveCalendarTemplate", "calendarTemplate", "today", "startSlotTemplate", "staticallyCompose", "when", "endSlotTemplate", "cardTemplate", "html", "FASTCard", "FASTElement", "checkboxTemplate", "options", "html", "x", "c", "staticallyCompose", "slotted", "_Checkbox", "FASTElement", "FormAssociatedCheckbox", "CheckableFormAssociated", "FASTCheckbox", "FormAssociatedCheckbox", "e", "keySpace", "__decorate", "observable", "sides", "min", "max", "round", "floor", "createCoords", "v", "oppositeSideMap", "oppositeAlignmentMap", "clamp", "start", "value", "end", "evaluate", "param", "getSide", "placement", "getAlignment", "getOppositeAxis", "axis", "getAxisLength", "getSideAxis", "getAlignmentAxis", "getAlignmentSides", "rects", "rtl", "alignment", "alignmentAxis", "length", "mainAlignmentSide", "getOppositePlacement", "getExpandedPlacements", "oppositePlacement", "getOppositeAlignmentPlacement", "getSideList", "side", "isStart", "lr", "rl", "tb", "bt", "getOppositeAxisPlacements", "flipAlignment", "direction", "list", "expandPaddingObject", "padding", "getPaddingObject", "rectToClientRect", "rect", "computeCoordsFromPlacement", "_ref", "placement", "rtl", "reference", "floating", "sideAxis", "getSideAxis", "alignmentAxis", "getAlignmentAxis", "alignLength", "getAxisLength", "side", "getSide", "isVertical", "commonX", "commonY", "commonAlign", "coords", "getAlignment", "computePosition", "config", "strategy", "middleware", "platform", "validMiddleware", "rects", "x", "y", "statefulPlacement", "middlewareData", "resetCount", "i", "name", "fn", "nextX", "nextY", "data", "reset", "detectOverflow", "state", "options", "_await$platform$isEle", "elements", "boundary", "rootBoundary", "elementContext", "altBoundary", "padding", "evaluate", "paddingObject", "getPaddingObject", "element", "clippingClientRect", "rectToClientRect", "rect", "offsetParent", "offsetScale", "elementClientRect", "flip", "options", "state", "_middlewareData$arrow", "_middlewareData$flip", "placement", "middlewareData", "rects", "initialPlacement", "platform", "elements", "checkMainAxis", "checkCrossAxis", "specifiedFallbackPlacements", "fallbackStrategy", "fallbackAxisSideDirection", "flipAlignment", "detectOverflowOptions", "evaluate", "side", "getSide", "isBasePlacement", "rtl", "fallbackPlacements", "getOppositePlacement", "getExpandedPlacements", "getOppositeAxisPlacements", "placements", "overflow", "detectOverflow", "overflows", "overflowsData", "sides", "getAlignmentSides", "_middlewareData$flip2", "_overflowsData$filter", "nextIndex", "nextPlacement", "resetPlacement", "d", "a", "b", "_overflowsData$map$so", "acc", "getSideOffsets", "rect", "isAnySideFullyClipped", "hide", "strategy", "offsets", "shift", "options", "state", "x", "y", "placement", "checkMainAxis", "checkCrossAxis", "limiter", "_ref", "detectOverflowOptions", "evaluate", "coords", "overflow", "detectOverflow", "crossAxis", "getSideAxis", "getSide", "mainAxis", "getOppositeAxis", "mainAxisCoord", "crossAxisCoord", "minSide", "maxSide", "min", "max", "clamp", "limitedCoords", "size", "options", "state", "placement", "rects", "platform", "elements", "apply", "detectOverflowOptions", "evaluate", "overflow", "detectOverflow", "side", "getSide", "alignment", "getAlignment", "isYAxis", "getSideAxis", "width", "height", "heightSide", "widthSide", "overflowAvailableHeight", "overflowAvailableWidth", "noShift", "availableHeight", "availableWidth", "maximumClippingWidth", "min", "maximumClippingHeight", "xMin", "max", "xMax", "yMin", "yMax", "nextDimensions", "getNodeName", "node", "isNode", "getWindow", "_node$ownerDocument", "getDocumentElement", "_ref", "value", "isElement", "isHTMLElement", "isShadowRoot", "isOverflowElement", "element", "overflow", "overflowX", "overflowY", "display", "getComputedStyle", "isTableElement", "isContainingBlock", "webkit", "isWebKit", "css", "getContainingBlock", "currentNode", "getParentNode", "isLastTraversableNode", "getNodeScroll", "result", "getNearestOverflowAncestor", "parentNode", "getOverflowAncestors", "list", "traverseIframes", "_node$ownerDocument2", "scrollableAncestor", "isBody", "win", "getCssDimensions", "element", "css", "getComputedStyle", "width", "height", "hasOffset", "isHTMLElement", "offsetWidth", "offsetHeight", "shouldFallback", "round", "unwrapElement", "isElement", "getScale", "domElement", "createCoords", "rect", "$", "x", "y", "noOffsets", "getVisualOffsets", "win", "getWindow", "isWebKit", "shouldAddVisualOffsets", "isFixed", "floatingOffsetParent", "getBoundingClientRect", "includeScale", "isFixedStrategy", "offsetParent", "clientRect", "scale", "visualOffsets", "offsetWin", "currentIFrame", "iframeScale", "iframeRect", "left", "top", "rectToClientRect", "topLayerSelectors", "topLayer", "floating", "isTopLayer", "setIsTopLayer", "selector", "containingBlock", "getContainingBlock", "convertOffsetParentRelativeRectToViewportRelativeRect", "_ref", "elements", "strategy", "documentElement", "getDocumentElement", "scroll", "offsets", "isOffsetParentAnElement", "getNodeName", "isOverflowElement", "getNodeScroll", "offsetRect", "getClientRects", "getWindowScrollBarX", "getDocumentRect", "html", "body", "max", "getViewportRect", "visualViewport", "visualViewportBased", "getInnerBoundingClientRect", "getClientRectFromClippingAncestor", "clippingAncestor", "hasFixedPositionAncestor", "stopNode", "parentNode", "getParentNode", "isLastTraversableNode", "getClippingElementAncestors", "cache", "cachedResult", "result", "getOverflowAncestors", "el", "currentContainingBlockComputedStyle", "elementIsFixed", "currentNode", "computedStyle", "currentNodeIsContaining", "isContainingBlock", "ancestor", "getClippingRect", "boundary", "rootBoundary", "clippingAncestors", "firstClippingAncestor", "clippingRect", "accRect", "min", "getDimensions", "getRectRelativeToOffsetParent", "topLayerX", "topLayerY", "getTrueOffsetParent", "polyfill", "getOffsetParent", "window", "isTableElement", "getElementRects", "data", "getOffsetParentFn", "getDimensionsFn", "isRTL", "platform", "observeMove", "onMove", "io", "timeoutId", "root", "cleanup", "_io", "refresh", "skip", "threshold", "insetTop", "floor", "insetRight", "insetBottom", "insetLeft", "options", "isFirstUpdate", "handleObserve", "entries", "ratio", "autoUpdate", "reference", "update", "ancestorScroll", "ancestorResize", "elementResize", "layoutShift", "animationFrame", "referenceEl", "ancestors", "cleanupIo", "reobserveFrame", "resizeObserver", "firstEntry", "_resizeObserver", "frameId", "prevRefRect", "frameLoop", "nextRefRect", "_resizeObserver2", "shift", "flip", "size", "hide", "computePosition", "reference", "floating", "options", "cache", "mergedOptions", "platform", "platformWithCache", "isListboxOption", "el", "isHTMLElement", "FASTListboxOption", "FASTElement", "text", "value", "defaultSelected", "selected", "prev", "next", "previous", "_a", "_b", "newValue", "Observable", "__decorate", "observable", "attr", "DelegatesARIAListboxOption", "applyMixins", "ARIAGlobalStatesAndProperties", "StartEnd", "FASTListbox", "_FASTListbox", "FASTElement", "_a", "o", "_b", "Observable", "value", "n", "isListboxOption", "e", "captured", "optionToFocus", "pattern", "re", "prev", "next", "direction", "potentialDirection", "nextSelectableOption", "thisOption", "index", "source", "propertyName", "key", "keyHome", "keyArrowDown", "keyArrowUp", "keyEnd", "keyTab", "keyEnter", "keyEscape", "keySpace", "selectableIndex", "newNext", "filteredNext", "notifier", "findLastIndex", "el", "_c", "options", "item", "setSize", "option", "uniqueId", "typeaheadMatches", "selectedIndex", "__decorate", "attr", "observable", "DelegatesARIAListbox", "applyMixins", "ARIAGlobalStatesAndProperties", "_Combobox", "FASTListbox", "FormAssociatedCombobox", "FormAssociated", "ComboboxAutocomplete", "FASTCombobox", "FormAssociatedCombobox", "uniqueId", "_a", "ComboboxAutocomplete", "Updates", "Observable", "value", "next", "_b", "_c", "prev", "selectedIndex", "el", "prevSelectedValue", "nextSelectedValue", "e", "captured", "filter", "focusTarget", "key", "limit", "autoUpdate", "__awaiter", "middlewareData", "x", "y", "computePosition", "flip", "size", "availableHeight", "rects", "hide", "o", "shouldEmit", "controlValueLength", "__decorate", "attr", "DelegatesARIACombobox", "observable", "applyMixins", "DelegatesARIAListbox", "StartEnd", "comboboxTemplate", "options", "html", "x", "c", "startSlotTemplate", "ref", "staticallyCompose", "endSlotTemplate", "slotted", "FASTListbox", "rowItemTemplate", "options", "rowTag", "html", "tagFor", "x", "c", "dataGridTemplate", "children", "elements", "composedParent", "element", "parentNode", "rootNode", "composedContains", "reference", "test", "current", "ViewBehaviorOrchestrator", "source", "behaviors", "targets", "unbindables", "isConnected", "ExecutionContext", "factory", "target", "_a", "_b", "_c", "_d", "compiled", "nextId", "DOM", "nodeId", "behavior", "unbindable", "controller", "x", "GenerateHeaderOptions", "DataGridCellTypes", "DataGridRowTypes", "DataGridCellRole", "DataGridSelectionMode", "DataGridSelectionBehavior", "FASTDataGrid", "_FASTDataGrid", "FASTElement", "GenerateHeaderOptions", "DataGridSelectionMode", "DataGridSelectionBehavior", "rowIndex", "columnIndex", "alignment", "focusRowIndex", "cells", "focusColumnIndex", "focusTarget", "mutations", "observer", "mutation", "newNode", "Updates", "newGridTemplateColumns", "firstRow", "element", "index", "thisRow", "row", "property", "columnDefinitions", "templateColumns", "column", "grid", "DataGridRowTypes", "prev", "next", "ViewBehaviorOrchestrator", "RepeatDirective", "oneWay", "x", "eventFocus", "eventKeyDown", "eventFocusOut", "selectionAsArray", "initialSelection", "e", "focusRow", "newFocusRowIndex", "keyArrowUp", "keyArrowDown", "keyPageUp", "keyPageDown", "keyHome", "keyEnd", "rowMatch", "target", "changedRow", "changeEventDetail", "newSelection", "dirMod", "i", "selectedRowIndex", "rowHeight", "_a", "pageSize", "unselectableRowIndexes", "maxIndex", "selectableRowCount", "generatedHeaderElement", "__decorate", "attr", "nullableNumberConverter", "observable", "cellItemTemplate", "options", "cellTag", "html", "tagFor", "x", "c", "headerCellItemTemplate", "dataGridRowTemplate", "children", "elements", "slotted", "FASTDataGridRow", "FASTElement", "DataGridRowTypes", "DataGridSelectionBehavior", "ViewBehaviorOrchestrator", "RepeatDirective", "oneWay", "x", "eventFocusOut", "eventKeyDown", "eventClick", "detail", "e", "newFocusColumnIndex", "keyArrowLeft", "keyArrowRight", "keyHome", "keyEnd", "keySpace", "__decorate", "attr", "observable", "dataGridCellTemplate", "html", "x", "_a", "DataGridCellRole", "candidateSelectors", "candidateSelector", "join", "NoElement", "Element", "matches", "prototype", "msMatchesSelector", "webkitMatchesSelector", "getRootNode", "element", "ownerDocument", "getTabindex", "node", "isScope", "tabIndex", "test", "tagName", "isContentEditable", "isNaN", "parseInt", "getAttribute", "isInput", "node", "tagName", "isHiddenInput", "type", "isDetailsWithSummary", "r", "Array", "prototype", "slice", "apply", "children", "some", "child", "getCheckedRadio", "nodes", "form", "i", "length", "checked", "isTabbableRadio", "name", "radioScope", "getRootNode", "queryRadios", "querySelectorAll", "radioSet", "window", "CSS", "escape", "err", "console", "error", "message", "isRadio", "isNonTabbableRadio", "isZeroArea", "getBoundingClientRect", "width", "_node$getBoundingClie", "height", "isHidden", "_ref", "displayCheck", "getShadowRoot", "getComputedStyle", "visibility", "isDirectSummary", "matches", "call", "nodeUnderDetails", "parentElement", "nodeRootHost", "host", "nodeIsAttached", "ownerDocument", "contains", "originalNode", "rootNode", "shadowRoot", "assignedSlot", "getClientRects", "isDisabledFromFieldset", "test", "parentNode", "disabled", "item", "isNodeMatchingSelectorFocusable", "options", "isNodeMatchingSelectorTabbable", "getTabindex", "isTabbable", "node", "options", "Error", "matches", "call", "candidateSelector", "isNodeMatchingSelectorTabbable", "focusableCandidateSelector", "candidateSelectors", "concat", "join", "isFocusable", "isNodeMatchingSelectorFocusable", "defaultCellContentsTemplate", "html", "x", "defaultHeaderCellContentsTemplate", "FASTDataGridCell", "FASTElement", "DataGridCellTypes", "oldValue", "newValue", "_a", "eventFocusIn", "eventFocusOut", "eventKeyDown", "e", "focusTarget", "rootActiveElement", "keyEnter", "keyFunction2", "keyEscape", "keyArrowDown", "keyArrowLeft", "keyArrowRight", "keyArrowUp", "keyEnd", "keyHome", "keyPageDown", "keyPageUp", "rootNode", "_b", "html", "defaultHeaderCellContentsTemplate", "defaultCellContentsTemplate", "__decorate", "attr", "observable", "DerivedValueEvaluator", "_DerivedValueEvaluator", "value", "Observable", "v", "node", "tokenContext", "resolve", "token", "DerivedValue", "evaluator", "subscriber", "DesignTokenChangeRecordImpl", "target", "type", "DesignTokenNode", "_DesignTokenNode", "collected", "ignored", "current", "assigned", "i", "dependents", "notifications", "record", "records", "tokens", "assignedTokens", "child", "_a", "_b", "prevContext", "context", "derivedContext", "prevContextIndex", "derived", "changeType", "prev", "isDerived", "result", "derivedValue", "newValue", "_c", "isAssigned", "containsCircularForToken", "dependencies", "evaluate", "dependency", "notification", "_record", "dependent", "l", "j", "subscribeNode", "deriver", "QueuedStyleSheetTarget", "name", "value", "Updates", "ConstructableStyleSheetTarget", "source", "sheet", "ElementStyles", "DocumentStyleSheetTarget", "HeadStyleElementStyleSheetTarget", "index", "StyleElementStyleSheetTarget", "target", "controller", "Observable", "key", "__decorate", "observable", "RootStyleSheetTarget", "_RootStyleSheetTarget", "root", "roots", "propertyTargetCache", "propertyTargetCtor", "PropertyTargetManager", "DesignToken", "_DesignToken", "configuration", "source", "change", "record", "FASTDesignTokenNode", "Observable", "SubscriberSet", "config", "CSSDesignToken", "strategy", "target", "FASTElement", "PropertyTargetManager", "RootStyleSheetTarget", "value", "subscriber", "token", "resolve", "__decorate", "cssDirective", "htmlDirective", "defaultDesignTokenResolutionStrategy", "composedContains", "element", "parent", "composedParent", "FASTElement", "FASTDesignTokenNode", "_FASTDesignTokenNode", "DesignTokenNode", "target", "controller", "reparent", "child", "found", "strategy", "current", "node", "fn", "args", "RootStyleSheetTarget", "dialogTemplate", "html", "when", "x", "ref", "FASTDialog", "_FASTDialog", "FASTElement", "e", "keyEscape", "keyTab", "bounds", "currentFocusElement", "shouldTrapFocusOverride", "shouldTrapFocus", "Updates", "Observable", "source", "propertyName", "elements", "element", "isTabbable", "_a", "_b", "x", "__decorate", "attr", "disclosureTemplate", "options", "html", "ref", "x", "startSlotTemplate", "endSlotTemplate", "FASTDisclosure", "FASTElement", "__decorate", "attr", "applyMixins", "StartEnd", "DividerRole", "DividerOrientation", "Orientation", "dividerTemplate", "html", "x", "DividerRole", "FASTDivider", "FASTElement", "DividerRole", "DividerOrientation", "__decorate", "attr", "flipperTemplate", "options", "templateCache", "setFlipperTemplateByDirection", "direction", "existing", "html", "staticallyCompose", "x", "c", "FlipperDirection", "FASTFlipper", "FASTElement", "FlipperDirection", "e", "key", "__decorate", "attr", "booleanConverter", "listboxOptionTemplate", "options", "html", "x", "startSlotTemplate", "slotted", "endSlotTemplate", "FASTListboxElement", "FASTListbox", "_a", "prev", "next", "_b", "activeItem", "preserveChecked", "inRange", "e", "captured", "key", "shiftKey", "keyHome", "keyArrowDown", "keyArrowUp", "keyEnd", "keyTab", "keyEscape", "keySpace", "o", "size", "Updates", "enabledCheckedOptions", "force", "typeaheadMatches", "activeIndex", "__decorate", "observable", "attr", "nullableNumberConverter", "listboxTemplate", "html", "x", "c", "slotted", "FASTListboxElement", "defaultContentsTemplate", "html", "x", "FASTPickerListItem", "FASTElement", "e", "keyEnter", "_a", "_b", "__decorate", "attr", "observable", "pickerListItemTemplate", "html", "x", "c", "FASTPickerList", "FASTElement", "pickerListTemplate", "html", "defaultContentsTemplate", "html", "x", "FASTPickerMenuOption", "FASTElement", "e", "_a", "_b", "__decorate", "attr", "observable", "pickerMenuOptionTemplate", "html", "x", "c", "FASTPickerMenu", "FASTElement", "slotChildren", "child", "uniqueId", "__decorate", "observable", "pickerMenuTemplate", "html", "slotted", "x", "_Picker", "FASTElement", "FormAssociatedPicker", "FormAssociated", "MenuPlacement", "pickerInputTemplate", "html", "x", "ref", "FASTPicker", "FormAssociatedPicker", "MenuPlacement", "e", "Updates", "FlyoutPosTop", "FlyoutPosBottom", "FlyoutPosTallest", "FlyoutPosTopFill", "FlyoutPosBottomFill", "FlyoutPosTallestFill", "opt", "match", "element", "uniqueId", "ViewBehaviorOrchestrator", "RepeatDirective", "oneWay", "open", "activeElement", "keyArrowDown", "nextFocusOptionIndex", "keyArrowUp", "previousFocusOptionIndex", "keyEscape", "keyEnter", "keyArrowRight", "keyArrowLeft", "keyDelete", "keyBackspace", "selectedItems", "currentFocusedItemIndex", "selectedItemInstances", "rootNode", "FASTPickerListItem", "itemIndex", "newSelection", "FASTPickerMenuOption", "increment", "selectedItemsAsElements", "newFocusedItemIndex", "_a", "_b", "_c", "optionIndex", "focusedOption", "el", "filterQuery", "newConfig", "__decorate", "attr", "nullableNumberConverter", "observable", "defaultListItemTemplate", "options", "pickerListItemTag", "html", "tagFor", "x", "c", "defaultMenuOptionTemplate", "pickerMenuOptionTag", "pickerTemplate", "anchoredRegionTag", "pickerMenuTag", "pickerListTag", "progressRingTag", "when", "ref", "MenuItemRole", "roleForMenuItem", "FASTMenuItem", "FASTElement", "MenuItemRole", "e", "keyEnter", "keySpace", "keyArrowRight", "keyEscape", "keyArrowLeft", "prev", "next", "oldValue", "newValue", "_a", "Updates", "autoUpdate", "__awaiter", "fallbackPlacements", "x", "y", "computePosition", "shift", "size", "availableWidth", "rects", "flip", "__decorate", "attr", "observable", "applyMixins", "StartEnd", "menuTemplate", "html", "x", "c", "slotted", "FASTMenu", "_FASTMenu", "FASTElement", "isHTMLElement", "e", "focusIndex", "targetItem", "changedItem", "changedMenuItem", "changeItemIndex", "i", "item", "role", "MenuItemRole", "maxIndex", "el", "FASTMenuItem", "oldValue", "newValue", "Updates", "keyArrowDown", "keyArrowUp", "keyEnd", "keyHome", "items", "Observable", "children", "child", "newItems", "menuItems", "index", "source", "propertyName", "adjustment", "__decorate", "observable", "numberFieldTemplate", "options", "html", "x", "slotted", "startSlotTemplate", "c", "ref", "when", "staticallyCompose", "endSlotTemplate", "_TextField", "FASTElement", "FormAssociatedTextField", "FormAssociated", "TextFieldType", "FASTTextField", "FormAssociatedTextField", "TextFieldType", "Updates", "__decorate", "attr", "nullableNumberConverter", "observable", "DelegatesARIATextbox", "applyMixins", "ARIAGlobalStatesAndProperties", "StartEnd", "_NumberField", "FASTElement", "FormAssociatedNumberField", "FormAssociated", "FASTNumberField", "FormAssociatedNumberField", "previous", "next", "_a", "min", "max", "value", "_b", "validValue", "stepUpValue", "stepDownValue", "Updates", "e", "keyArrowUp", "keyArrowDown", "__decorate", "attr", "nullableNumberConverter", "observable", "applyMixins", "StartEnd", "DelegatesARIATextbox", "FASTBaseProgress", "FASTElement", "min", "max", "value", "range", "__decorate", "attr", "nullableNumberConverter", "observable", "FASTProgressRing", "FASTBaseProgress", "FASTProgress", "FASTBaseProgress", "RadioGroupOrientation", "Orientation", "radioGroupTemplate", "html", "x", "c", "RadioGroupOrientation", "slotted", "elements", "whitespaceFilter", "value", "_a", "radioTemplate", "options", "html", "x", "c", "staticallyCompose", "_a", "slotted", "whitespaceFilter", "_Radio", "FASTElement", "FormAssociatedRadio", "CheckableFormAssociated", "FASTRadio", "FormAssociatedRadio", "_a", "_b", "e", "keySpace", "__decorate", "observable", "FASTRadioGroup", "FASTElement", "RadioGroupOrientation", "e", "changedRadio", "radio", "group", "index", "_a", "focusedIndex", "nextRadio", "FASTRadio", "key", "keyArrowRight", "keyArrowLeft", "ArrowKeys", "keyEnter", "keyArrowDown", "Direction", "keyArrowUp", "oldValue", "newValue", "getDirection", "checkedRadios", "numberOfCheckedRadios", "lastCheckedRadio", "foundMatchingVal", "__decorate", "attr", "observable", "HorizontalScrollView", "ScrollEasing", "FASTHorizontalScroll", "FASTElement", "ScrollEasing", "prev", "next", "event", "previous", "Updates", "updatedItems", "scrollItems", "scrollItem", "container", "scrollLeft", "containerWidth", "containerLeft", "lastStop", "stops", "item", "index", "left", "width", "leftPosition", "right", "a", "b", "reinit", "hasStops", "stop", "offset", "_a", "_b", "position", "padding", "rightPadding", "scrollStops", "items", "itemStart", "itemEnd", "isBefore", "scrollTo", "e", "scrollPosition", "current", "nextIndex", "outOfView", "newPosition", "seconds", "computedDuration", "transitionendHandler", "maxScrollValue", "transitionStop", "__decorate", "attr", "nullableNumberConverter", "booleanConverter", "observable", "applyMixins", "StartEnd", "searchTemplate", "options", "html", "x", "slotted", "whitespaceFilter", "ref", "startSlotTemplate", "endSlotTemplate", "_Search", "FASTElement", "FormAssociatedSearch", "FormAssociated", "FASTSearch", "FormAssociatedSearch", "Updates", "__decorate", "attr", "nullableNumberConverter", "observable", "DelegatesARIASearch", "applyMixins", "ARIAGlobalStatesAndProperties", "StartEnd", "_Select", "FASTListboxElement", "FormAssociatedSelect", "FormAssociated", "FASTSelect", "FormAssociatedSelect", "uniqueId", "prev", "next", "_a", "Updates", "Observable", "_b", "_c", "_d", "_e", "_f", "_g", "selectedIndex", "el", "prevSelectedValue", "nextSelectedValue", "shouldEmit", "autoUpdate", "__awaiter", "middlewareData", "x", "y", "computePosition", "flip", "size", "availableHeight", "rects", "hide", "e", "captured", "focusTarget", "source", "propertyName", "o", "i", "proxyOption", "options", "FASTListbox", "option", "key", "keySpace", "keyHome", "keyEnd", "keyEnter", "keyEscape", "keyTab", "keyArrowDown", "keyArrowUp", "__decorate", "attr", "volatile", "observable", "DelegatesARIASelect", "applyMixins", "DelegatesARIAListbox", "StartEnd", "selectTemplate", "options", "html", "x", "c", "when", "ref", "startSlotTemplate", "staticallyCompose", "endSlotTemplate", "slotted", "FASTListbox", "SkeletonShape", "FASTSkeleton", "FASTElement", "__decorate", "attr", "SliderOrientation", "Orientation", "SliderMode", "convertPixelToPercent", "pixelPos", "minPosition", "maxPosition", "direction", "pct", "limit", "Direction", "defaultConfig", "Direction", "SliderOrientation", "FASTSliderLabel", "FASTElement", "parentSlider", "min", "max", "direction", "orientation", "disabled", "pct", "convertPixelToPercent", "rightNum", "leftNum", "Observable", "source", "propertyName", "node", "__decorate", "observable", "attr", "_Slider", "FASTElement", "FormAssociatedSlider", "FormAssociated", "FASTSlider", "FormAssociatedSlider", "Direction", "Orientation", "SliderMode", "e", "keyHome", "keyEnd", "keyArrowRight", "keyArrowUp", "keyArrowLeft", "keyArrowDown", "clientRect", "remove", "eventAction", "event", "sourceEvent", "eventValue", "controlValue", "next", "previous", "nextAsNumber", "value", "limit", "getDirection", "newVal", "incrementedVal", "incrementedValString", "decrementedVal", "decrementedValString", "direction", "percentage", "convertPixelToPercent", "stepString", "decimalPlacesOfStep", "rawValue", "newPosition", "newValue", "constrainedValue", "roundedConstrainedValue", "remainderValue", "__decorate", "attr", "observable", "nullableNumberConverter", "switchTemplate", "options", "html", "x", "c", "slotted", "staticallyCompose", "_Switch", "FASTElement", "FormAssociatedSwitch", "CheckableFormAssociated", "FASTSwitch", "FormAssociatedSwitch", "e", "keyEnter", "keySpace", "__decorate", "attr", "observable", "tabPanelTemplate", "html", "FASTTabPanel", "FASTElement", "tabTemplate", "options", "html", "x", "startSlotTemplate", "endSlotTemplate", "FASTTab", "FASTElement", "__decorate", "attr", "applyMixins", "StartEnd", "TabsOrientation", "Orientation", "tabsTemplate", "options", "html", "startSlotTemplate", "slotted", "endSlotTemplate", "FASTTabs", "FASTElement", "TabsOrientation", "el", "gridHorizontalProperty", "gridVerticalProperty", "gridProperty", "tab", "index", "isActiveTab", "tabId", "tabpanelId", "tabpanel", "event", "selectedTab", "keyArrowLeft", "keyArrowRight", "keyArrowUp", "keyArrowDown", "keyHome", "keyEnd", "e", "group", "oldValue", "newValue", "item", "_a", "uniqueId", "tabPanel", "adjustment", "focusableTabs", "t", "currentActiveTabIndex", "nextTabIndex", "limit", "nextIndex", "__decorate", "attr", "observable", "applyMixins", "StartEnd", "textAreaTemplate", "html", "x", "slotted", "c", "ref", "_TextArea", "FASTElement", "FormAssociatedTextArea", "FormAssociated", "TextAreaResize", "FASTTextArea", "FormAssociatedTextArea", "TextAreaResize", "__decorate", "attr", "nullableNumberConverter", "observable", "applyMixins", "DelegatesARIATextbox", "textFieldTemplate", "options", "html", "x", "slotted", "whitespaceFilter", "startSlotTemplate", "ref", "endSlotTemplate", "ToolbarOrientation", "Orientation", "toolbarTemplate", "options", "html", "x", "c", "children", "startSlotTemplate", "slotted", "elements", "endSlotTemplate", "ToolbarArrowKeyMap", "ArrowKeys", "ToolbarOrientation", "Direction", "FASTToolbar", "_FASTToolbar", "FASTElement", "Observable", "value", "limit", "e", "_a", "activeIndex", "prev", "next", "getDirection", "relatedTarget", "key", "_b", "_c", "_d", "_e", "incrementer", "nextIndex", "start", "end", "previousFocusedElement", "adjustedActiveIndex", "elements", "element", "isRoleRadio", "isFocusableFastElement", "hasFocusableShadow", "x", "isFocusable", "index", "__decorate", "observable", "attr", "DelegatesARIAToolbar", "applyMixins", "ARIAGlobalStatesAndProperties", "StartEnd", "TooltipPlacement", "FASTTooltip", "FASTElement", "e", "keyEscape", "_a", "TooltipPlacement", "prev", "next", "Updates", "value", "uniqueId", "anchorElementDescribedBy", "id", "rootNode", "i", "anchorElement", "autoUpdate", "__awaiter", "middleware", "shift", "flip", "x", "y", "computePosition", "css", "__decorate", "observable", "attr", "nullableBooleanConverter", "tooltipTemplate", "html", "x", "isTreeItemElement", "el", "isHTMLElement", "FASTTreeItem", "FASTElement", "e", "prev", "next", "oldValue", "newValue", "node", "_a", "item", "__decorate", "attr", "observable", "applyMixins", "StartEnd", "treeViewTemplate", "html", "ref", "x", "c", "slotted", "FASTTreeView", "FASTElement", "e", "FASTTreeItem", "treeItems", "keyHome", "keyEnd", "keyArrowLeft", "item", "keyArrowRight", "keyArrowDown", "keyArrowUp", "keyEnter", "isTreeItemElement", "selectedItem", "node", "el", "Updates", "delta", "visibleNodes", "focusItem", "isHTMLElement", "focusIndex", "getDisplayedNodes", "__decorate", "observable", "applyMixins", "derivedCtor", "baseCtors", "derivedAttributes", "AttributeConfiguration", "baseCtor", "name", "x", "DesignTokenType", "DesignTokenMetadata", "value", "type", "intendedFor", "TypedDesignToken", "_TypedDesignToken", "DesignToken", "name", "applyMixins", "TypedCSSDesignToken", "TypedCSSDesignToken_1", "CSSDesignToken", "__decorate", "cssDirective", "htmlDirective", "applyMixins", "TypedCSSDesignToken", "DesignTokenMetadata", "DesignTokenMultiValue", "value", "Interactivity", "Focus", "indicatorPart", "part", "focusablePart", "StyleProperty", "stylePropertyBorderFillAll", "stylePropertyBorderThicknessAll", "stylePropertyBorderStyleAll", "stylePropertyCornerRadiusAll", "stylePropertyPaddingAll", "create", "DesignToken", "createNonCss", "name", "createTyped", "TypedCSSDesignToken", "createTokenNonCss", "name", "type", "intendedFor", "TypedDesignToken", "createTokenRecipe", "baseName", "evaluate", "DesignTokenType", "createTokenDimension", "TypedCSSDesignToken", "createTokenFontFamily", "StyleProperty", "createTokenFontSize", "createTokenFontStyle", "createTokenFontVariations", "createTokenFontWeight", "createTokenLineHeight", "createTokenSwatch", "name", "intendedFor", "TypedCSSDesignToken", "DesignTokenType", "designUnit", "createTokenDimension", "cornerRadiusControl", "stylePropertyCornerRadiusAll", "cornerRadiusLayer", "strokeThickness", "stylePropertyBorderThicknessAll", "focusStrokeThickness", "densityAdjustmentUnits", "createTokenNonCss", "DesignTokenType", "DensityPaddingAndGapTokenGroup", "name", "horizontalPaddingUnits", "horizontalGapUnits", "verticalPaddingUnits", "verticalGapUnits", "createTokenDimension", "StyleProperty", "resolve", "designUnit", "strokeThickness", "css", "makeSelector", "params", "state", "selectors", "statePseudo", "hostCondition", "stylePropertyToCssProperty", "usage", "StyleProperty", "ElementStylesRenderer", "_ElementStylesRenderer", "styles", "property", "value", "state", "cssProperty", "stylePropertyToCssProperty", "map", "params", "makeSelector", "values", "selectors", "selector", "CSSDesignToken", "declarations", "cssProperties", "css", "target", "interactivity", "effectiveInteractivity", "Interactivity", "module", "rule", "ruleEntry", "behaviors", "add", "behavior", "strings", "entry", "properties", "prop", "ElementStyles", "createTokenDelta", "baseName", "state", "value", "createTokenNonCss", "DesignTokenType", "createTokenMinContrast", "createTokenColorRecipe", "intendedFor", "evaluate", "createTokenColorRecipeBySet", "createTokenColorRecipeForPalette", "createTokenColorRecipeWithPalette", "recipeToken", "paletteToken", "name", "resolve", "params", "p", "createTokenColorSetState", "valueToken", "createTokenSwatch", "createTokenColorSet", "createTokenColorRecipeValue", "createForegroundSet", "foregroundRecipe", "background", "setName", "createState", "foregroundState", "createForegroundSetBySet", "set", "backgroundSet", "Fill", "background", "foregroundRecipe", "createForegroundSet", "createForegroundSetBySet", "foreground", "disabled", "BorderFill", "value", "BorderThickness", "BorderStyle", "CornerRadius", "Padding", "valueVertical", "valueHorizontal", "Styles", "_Styles", "name", "propertiesOrStyles", "k", "key", "styles", "properties", "map", "target", "transparentWhite", "_white", "conditionalSwatchSet", "set", "condition", "neutralBaseColor", "createTokenNonCss", "DesignTokenType", "neutralPalette", "resolve", "PaletteOkhsl", "accentBaseColor", "accentPalette", "highlightBaseColor", "highlightPalette", "criticalBaseColor", "criticalPalette", "disabledPalette", "createTokenColorRecipeAccent", "recipeToken", "createTokenColorRecipeWithPalette", "accentPalette", "createTokenColorRecipeHighlight", "highlightPalette", "createTokenColorRecipeCritical", "criticalPalette", "createTokenColorRecipeNeutral", "paletteToken", "neutralPalette", "name", "createTokenNonCss", "DesignTokenType", "resolve", "params", "p", "interactiveSwatchSetAsOverlay", "fillColor", "neutralAsOverlay", "wcagContrastLevel", "createTokenNonCss", "DesignTokenType", "minContrastSafety", "resolve", "minContrastSubtle", "minContrastDiscernible", "minContrastReadable", "fillColor", "createTokenSwatch", "_white", "neutralAsOverlay", "createNonCss", "blackOrWhiteDiscernibleRecipe", "createTokenColorRecipeBySet", "StyleProperty", "reference", "blackOrWhiteByContrastSet", "blackOrWhiteReadableRecipe", "fillStealthName", "fillStealthRestDelta", "createTokenDelta", "fillStealthHoverDelta", "fillStealthActiveDelta", "fillStealthFocusDelta", "fillStealthDisabledDelta", "fillStealthRecipe", "createTokenColorRecipeForPalette", "params", "deltaSwatchSet", "disabledPalette", "fillSubtleName", "fillSubtleRestDelta", "fillSubtleHoverDelta", "fillSubtleActiveDelta", "fillSubtleFocusDelta", "fillSubtleDisabledDelta", "fillSubtleRecipe", "fillDiscernibleName", "fillDiscernibleRestDelta", "fillDiscernibleHoverDelta", "fillDiscernibleActiveDelta", "fillDiscernibleFocusDelta", "fillDiscernibleDisabledDelta", "fillDiscernibleRecipe", "contrastAndDeltaSwatchSet", "fillReadableName", "fillReadableRestDelta", "fillReadableHoverDelta", "fillReadableActiveDelta", "fillReadableFocusDelta", "fillReadableDisabledDelta", "fillReadableRecipe", "strokeSafetyName", "strokeSafetyRestDelta", "strokeSafetyHoverDelta", "strokeSafetyActiveDelta", "strokeSafetyFocusDelta", "strokeSafetyDisabledDelta", "strokeSafetyRecipe", "stylePropertyBorderFillAll", "conditionalSwatchSet", "strokeStealthName", "strokeStealthRestDelta", "strokeStealthHoverDelta", "strokeStealthActiveDelta", "strokeStealthFocusDelta", "strokeStealthDisabledDelta", "strokeStealthRecipe", "strokeSubtleName", "strokeSubtleRestDelta", "strokeSubtleHoverDelta", "strokeSubtleActiveDelta", "strokeSubtleFocusDelta", "strokeSubtleDisabledDelta", "strokeSubtleRecipe", "strokeDiscernibleName", "strokeDiscernibleRestDelta", "strokeDiscernibleHoverDelta", "strokeDiscernibleActiveDelta", "strokeDiscernibleFocusDelta", "strokeDiscernibleDisabledDelta", "strokeDiscernibleRecipe", "strokeReadableName", "strokeReadableRestDelta", "strokeReadableHoverDelta", "strokeReadableActiveDelta", "strokeReadableFocusDelta", "strokeReadableDisabledDelta", "strokeReadableRecipe", "strokeStrongName", "strokeStrongMinContrast", "createTokenMinContrast", "strokeStrongRestDelta", "strokeStrongHoverDelta", "strokeStrongActiveDelta", "strokeStrongFocusDelta", "strokeStrongDisabledDelta", "strokeStrongRecipe", "accentFillStealthRecipe", "createTokenColorRecipeAccent", "accentFillStealth", "createTokenColorSet", "accentFillStealthRest", "accentFillStealthHover", "accentFillStealthActive", "accentFillStealthFocus", "accentFillSubtleRecipe", "accentFillSubtle", "accentFillSubtleRest", "accentFillSubtleHover", "accentFillSubtleActive", "accentFillSubtleFocus", "accentFillDiscernibleRecipe", "accentFillDiscernible", "accentFillDiscernibleRest", "accentFillDiscernibleHover", "accentFillDiscernibleActive", "accentFillDiscernibleFocus", "accentFillReadableRecipe", "accentFillReadable", "accentFillReadableRest", "accentFillReadableHover", "accentFillReadableActive", "accentFillReadableFocus", "accentStrokeSafetyRecipe", "accentStrokeSafety", "accentStrokeSafetyRest", "accentStrokeSafetyHover", "accentStrokeSafetyActive", "accentStrokeSafetyFocus", "accentStrokeStealthRecipe", "accentStrokeStealth", "accentStrokeStealthRest", "accentStrokeStealthHover", "accentStrokeStealthActive", "accentStrokeStealthFocus", "accentStrokeSubtleRecipe", "accentStrokeSubtle", "accentStrokeSubtleRest", "accentStrokeSubtleHover", "accentStrokeSubtleActive", "accentStrokeSubtleFocus", "accentStrokeDiscernibleRecipe", "accentStrokeDiscernible", "accentStrokeDiscernibleRest", "accentStrokeDiscernibleHover", "accentStrokeDiscernibleActive", "accentStrokeDiscernibleFocus", "accentStrokeReadableRecipe", "accentStrokeReadable", "accentStrokeReadableRest", "accentStrokeReadableHover", "accentStrokeReadableActive", "accentStrokeReadableFocus", "accentStrokeStrongRecipe", "accentStrokeStrong", "accentStrokeStrongRest", "accentStrokeStrongHover", "accentStrokeStrongActive", "accentStrokeStrongFocus", "highlightFillStealthRecipe", "createTokenColorRecipeHighlight", "highlightFillStealth", "highlightFillStealthRest", "highlightFillStealthHover", "highlightFillStealthActive", "highlightFillStealthFocus", "highlightFillSubtleRecipe", "highlightFillSubtle", "highlightFillSubtleRest", "highlightFillSubtleHover", "highlightFillSubtleActive", "highlightFillSubtleFocus", "highlightFillDiscernibleRecipe", "highlightFillDiscernible", "highlightFillDiscernibleRest", "highlightFillDiscernibleHover", "highlightFillDiscernibleActive", "highlightFillDiscernibleFocus", "highlightFillReadableRecipe", "highlightFillReadable", "highlightFillReadableRest", "highlightFillReadableHover", "highlightFillReadableActive", "highlightFillReadableFocus", "highlightStrokeSafetyRecipe", "highlightStrokeSafety", "highlightStrokeSafetyRest", "highlightStrokeSafetyHover", "highlightStrokeSafetyActive", "highlightStrokeSafetyFocus", "highlightStrokeStealthRecipe", "highlightStrokeStealth", "highlightStrokeStealthRest", "highlightStrokeStealthHover", "highlightStrokeStealthActive", "highlightStrokeStealthFocus", "highlightStrokeSubtleRecipe", "highlightStrokeSubtle", "highlightStrokeSubtleRest", "highlightStrokeSubtleHover", "highlightStrokeSubtleActive", "highlightStrokeSubtleFocus", "highlightStrokeDiscernibleRecipe", "highlightStrokeDiscernible", "highlightStrokeDiscernibleRest", "highlightStrokeDiscernibleHover", "highlightStrokeDiscernibleActive", "highlightStrokeDiscernibleFocus", "highlightStrokeReadableRecipe", "highlightStrokeReadable", "highlightStrokeReadableRest", "highlightStrokeReadableHover", "highlightStrokeReadableActive", "highlightStrokeReadableFocus", "highlightStrokeStrongRecipe", "highlightStrokeStrong", "highlightStrokeStrongRest", "highlightStrokeStrongHover", "highlightStrokeStrongActive", "highlightStrokeStrongFocus", "criticalFillStealthRecipe", "createTokenColorRecipeCritical", "criticalFillStealth", "criticalFillStealthRest", "criticalFillStealthHover", "criticalFillStealthActive", "criticalFillStealthFocus", "criticalFillSubtleRecipe", "criticalFillSubtle", "criticalFillSubtleRest", "criticalFillSubtleHover", "criticalFillSubtleActive", "criticalFillSubtleFocus", "criticalFillDiscernibleRecipe", "criticalFillDiscernible", "criticalFillDiscernibleRest", "criticalFillDiscernibleHover", "criticalFillDiscernibleActive", "criticalFillDiscernibleFocus", "criticalFillReadableRecipe", "criticalFillReadable", "criticalFillReadableRest", "criticalFillReadableHover", "criticalFillReadableActive", "criticalFillReadableFocus", "criticalStrokeSafetyRecipe", "criticalStrokeSafety", "criticalStrokeSafetyRest", "criticalStrokeSafetyHover", "criticalStrokeSafetyActive", "criticalStrokeSafetyFocus", "criticalStrokeStealthRecipe", "criticalStrokeStealth", "criticalStrokeStealthRest", "criticalStrokeStealthHover", "criticalStrokeStealthActive", "criticalStrokeStealthFocus", "criticalStrokeSubtleRecipe", "criticalStrokeSubtle", "criticalStrokeSubtleRest", "criticalStrokeSubtleHover", "criticalStrokeSubtleActive", "criticalStrokeSubtleFocus", "criticalStrokeDiscernibleRecipe", "criticalStrokeDiscernible", "criticalStrokeDiscernibleRest", "criticalStrokeDiscernibleHover", "criticalStrokeDiscernibleActive", "criticalStrokeDiscernibleFocus", "criticalStrokeReadableRecipe", "criticalStrokeReadable", "criticalStrokeReadableRest", "criticalStrokeReadableHover", "criticalStrokeReadableActive", "criticalStrokeReadableFocus", "criticalStrokeStrongRecipe", "criticalStrokeStrong", "criticalStrokeStrongRest", "criticalStrokeStrongHover", "criticalStrokeStrongActive", "criticalStrokeStrongFocus", "neutralFillStealthRecipe", "createTokenColorRecipeNeutral", "neutralFillStealth", "neutralFillStealthRest", "neutralFillStealthHover", "neutralFillStealthActive", "neutralFillStealthFocus", "neutralFillSubtleRecipe", "neutralFillSubtle", "neutralFillSubtleRest", "neutralFillSubtleHover", "neutralFillSubtleActive", "neutralFillSubtleFocus", "neutralFillDiscernibleRecipe", "neutralFillDiscernible", "neutralFillDiscernibleRest", "neutralFillDiscernibleHover", "neutralFillDiscernibleActive", "neutralFillDiscernibleFocus", "neutralFillReadableRecipe", "neutralFillReadable", "neutralFillReadableRest", "neutralFillReadableHover", "neutralFillReadableActive", "neutralFillReadableFocus", "neutralStrokeSafetyRecipe", "neutralStrokeSafety", "neutralStrokeSafetyRest", "neutralStrokeSafetyHover", "neutralStrokeSafetyActive", "neutralStrokeSafetyFocus", "neutralStrokeStealthRecipe", "neutralStrokeStealth", "neutralStrokeStealthRest", "neutralStrokeStealthHover", "neutralStrokeStealthActive", "neutralStrokeStealthFocus", "neutralStrokeSubtleRecipe", "neutralStrokeSubtle", "neutralStrokeSubtleRest", "neutralStrokeSubtleHover", "neutralStrokeSubtleActive", "neutralStrokeSubtleFocus", "neutralStrokeDiscernibleRecipe", "neutralStrokeDiscernible", "neutralStrokeDiscernibleRest", "neutralStrokeDiscernibleHover", "neutralStrokeDiscernibleActive", "neutralStrokeDiscernibleFocus", "neutralStrokeReadableRecipe", "neutralStrokeReadable", "neutralStrokeReadableRest", "neutralStrokeReadableHover", "neutralStrokeReadableActive", "neutralStrokeReadableFocus", "neutralStrokeStrongRecipe", "neutralStrokeStrong", "neutralStrokeStrongRest", "neutralStrokeStrongHover", "neutralStrokeStrongActive", "neutralStrokeStrongFocus", "focusStrokePalette", "accentPalette", "focusStrokeMinContrast", "focusStrokeName", "focusStrokeRecipe", "createTokenColorRecipe", "contrastSwatch", "focusStroke", "createTokenColorRecipeValue", "focusStrokeOuterName", "focusStrokeOuterRecipe", "blackOrWhiteByContrast", "focusStrokeOuter", "focusStrokeInnerName", "focusStrokeInnerRecipe", "focusStrokeInner", "densityControl", "DensityPaddingAndGapTokenGroup", "densityItemContainer", "densityLayer", "Shadow", "color", "xOffset", "yOffset", "blurRadius", "spread", "values", "__decorate", "cssDirective", "Swatch", "createTokenShadow", "name", "createTyped", "DesignTokenType", "StyleProperty", "elevationRecipe", "createTokenRecipe", "StyleProperty", "resolve", "size", "ambientOpacity", "directionalOpacity", "ambient", "Shadow", "_black", "directional", "DesignTokenMultiValue", "elevationCardRestSize", "createTokenNonCss", "DesignTokenType", "elevationCardHoverSize", "elevationCardActiveSize", "elevationCardFocusSize", "elevationCardDisabledSize", "elevationCardRest", "createTokenShadow", "elevationCardHover", "elevationCardActive", "elevationCardFocus", "elevationCardDisabled", "elevationCardInteractive", "elevationTooltipSize", "elevationTooltip", "elevationFlyoutSize", "elevationFlyout", "elevationDialogSize", "elevationDialog", "LayerBaseLuminance", "layerPalette", "createTokenNonCss", "DesignTokenType", "neutralPalette", "layerFillName", "layerFillBaseLuminance", "layerFillRestDelta", "createTokenDelta", "layerFillHoverDelta", "createTokenDelta", "layerFillName", "layerFillActiveDelta", "layerFillFocusDelta", "layerFillDisabledDelta", "layerFillFixedName", "layerFillFixedRecipe", "createTokenRecipe", "StyleProperty", "resolve", "index", "deltaSwatch", "layerPalette", "luminanceSwatch", "layerFillBaseLuminance", "layerFillRestDelta", "PaletteDirectionValue", "layerFillFixedBase", "createTokenSwatch", "layerFillFixedMinus1", "layerFillFixedMinus2", "layerFillFixedMinus3", "layerFillFixedMinus4", "layerFillFixedPlus1", "layerFillFixedPlus2", "layerFillFixedPlus3", "layerFillFixedPlus4", "layerFillInteractiveName", "layerFillInteractiveRecipe", "createTokenColorRecipe", "params", "deltaSwatchSet", "fillColor", "layerFillInteractive", "createTokenColorSet", "layerFillInteractiveRest", "layerFillInteractiveHover", "layerFillInteractiveActive", "layerFillInteractiveFocus", "layerFillInteractiveDisabled", "StandardFontWeight", "fontFamily", "createTokenFontFamily", "bodyFontFamily", "labelFontFamily", "fontWeight", "createTokenFontWeight", "bodyFontWeight", "labelFontWeight", "fontStyle", "createTokenFontStyle", "bodyFontStyle", "labelFontStyle", "fontVariations", "sizeToken", "resolve", "typeRampBaseFontSize", "createTokenFontSize", "typeRampBaseLineHeight", "createTokenLineHeight", "typeRampBaseFontVariations", "createTokenFontVariations", "typeRampMinus1FontSize", "typeRampMinus1LineHeight", "typeRampMinus1FontVariations", "typeRampMinus2FontSize", "typeRampMinus2LineHeight", "typeRampMinus2FontVariations", "typeRampPlus1FontSize", "typeRampPlus1LineHeight", "typeRampPlus1FontVariations", "typeRampPlus2FontSize", "typeRampPlus2LineHeight", "typeRampPlus2FontVariations", "typeRampPlus3FontSize", "typeRampPlus3LineHeight", "typeRampPlus3FontVariations", "typeRampPlus4FontSize", "typeRampPlus4LineHeight", "typeRampPlus4FontVariations", "typeRampPlus5FontSize", "typeRampPlus5LineHeight", "typeRampPlus5FontVariations", "typeRampPlus6FontSize", "typeRampPlus6LineHeight", "typeRampPlus6FontVariations", "controlShapeStyles", "Styles", "CornerRadius", "cornerRadiusControl", "layerShapeStyles", "cornerRadiusLayer", "roundShapeStyles", "controlDensityStyles", "Padding", "densityControl", "controlSquareDensityStyles", "autofillOuterDensityStyles", "autofillInnerDensityStyles", "itemContainerDensityStyles", "densityItemContainer", "layerDensityStyles", "densityLayer", "transparent", "densityBorderStyles", "fillValue", "BorderThickness", "strokeThickness", "BorderStyle", "BorderFill", "accentFillStealthControlStyles", "Fill", "accentFillStealth", "accentStrokeReadableRecipe", "accentStrokeSafety", "accentFillSubtleControlStyles", "accentFillSubtle", "accentFillDiscernibleControlStyles", "accentFillDiscernible", "blackOrWhiteDiscernibleRecipe", "accentFillReadableControlStyles", "accentFillReadable", "blackOrWhiteReadableRecipe", "accentOutlineDiscernibleControlStyles", "accentStrokeDiscernible", "accentStrokeReadable", "fillColor", "accentForegroundReadableControlStyles", "highlightFillStealthControlStyles", "highlightFillStealth", "highlightStrokeReadableRecipe", "highlightStrokeSafety", "highlightFillSubtleControlStyles", "highlightFillSubtle", "highlightFillDiscernibleControlStyles", "highlightFillDiscernible", "highlightFillReadableControlStyles", "highlightFillReadable", "highlightOutlineDiscernibleControlStyles", "highlightStrokeDiscernible", "highlightStrokeReadable", "highlightForegroundReadableControlStyles", "criticalFillStealthControlStyles", "criticalFillStealth", "criticalStrokeReadableRecipe", "criticalStrokeSafety", "criticalFillSubtleControlStyles", "criticalFillSubtle", "criticalFillDiscernibleControlStyles", "criticalFillDiscernible", "criticalFillReadableControlStyles", "criticalFillReadable", "criticalOutlineDiscernibleControlStyles", "criticalStrokeDiscernible", "criticalStrokeReadable", "criticalForegroundReadableControlStyles", "neutralFillStealthControlStyles", "neutralFillStealth", "neutralStrokeStrongRecipe", "neutralStrokeSafety", "neutralFillSubtleControlStyles", "neutralFillSubtle", "neutralFillDiscernibleControlStyles", "neutralFillDiscernible", "neutralFillReadableControlStyles", "neutralFillReadable", "neutralOutlineDiscernibleControlStyles", "neutralStrokeDiscernible", "neutralStrokeStrong", "neutralForegroundReadableElementStyles", "neutralStrokeReadable", "neutralForegroundStrongElementStyles", "neutralDividerSubtleElementStyles", "neutralStrokeSubtle", "neutralDividerDiscernibleElementStyles", "typeRampBaseStyles", "fontFamily", "typeRampBaseFontSize", "typeRampBaseLineHeight", "fontWeight", "typeRampBaseFontVariations", "typeRampMinus1Styles", "typeRampMinus1FontSize", "typeRampMinus1LineHeight", "typeRampMinus1FontVariations", "typeRampMinus2Styles", "typeRampMinus2FontSize", "typeRampMinus2LineHeight", "typeRampMinus2FontVariations", "typeRampPlus1Styles", "typeRampPlus1FontSize", "typeRampPlus1LineHeight", "typeRampPlus1FontVariations", "typeRampPlus2Styles", "typeRampPlus2FontSize", "typeRampPlus2LineHeight", "typeRampPlus2FontVariations", "typeRampPlus3Styles", "typeRampPlus3FontSize", "typeRampPlus3LineHeight", "typeRampPlus3FontVariations", "typeRampPlus4Styles", "typeRampPlus4FontSize", "typeRampPlus4LineHeight", "typeRampPlus4FontVariations", "typeRampPlus5Styles", "typeRampPlus5FontSize", "typeRampPlus5LineHeight", "typeRampPlus5FontVariations", "typeRampPlus6Styles", "typeRampPlus6FontSize", "typeRampPlus6LineHeight", "typeRampPlus6FontVariations", "shadowCardStyles", "elevationCardRest", "shadowCardInteractiveStyles", "elevationCardInteractive", "shadowTooltipStyles", "elevationTooltip", "shadowFlyoutStyles", "elevationFlyout", "shadowDialogStyles", "elevationDialog", "actionStyles", "inputCommonStyles", "inputStyles", "inputAutofillStyles", "selectableSelectedStyles", "selectableUnselectedStyles", "itemStyles", "plainTextStyles", "labelTextStyles", "labelFontFamily", "labelFontStyle", "labelFontWeight", "flyoutStyles", "layerFillFixedPlus1", "disabledStyles", "focusIndicatorStyles", "focusStroke", "focusStrokeThickness", "convertToFocusState", "styles", "props", "value", "target", "focusValue", "CSSDesignToken", "Styles", "focusStateStyles", "focusIndicatorStyles", "focusResetStyles", "globalStyleModules", "anatomy", "disabledStyles", "DesignSystem", "_prefix", "_registry", "_statics", "options", "prefix", "components", "key", "definition", "FASTElementDefinition", "elementNameParts", "newDefinition", "defaultStyles", "anatomy", "componentStyles", "allStyleModules", "globalStyleModules", "target", "styles", "renderedStyles", "ElementStylesRenderer", "ElementStyles", "DefaultDesignSystem", "componentBaseStyles", "svgIconStyles", "templateStyles", "css", "aestheticStyles", "AccordionConditions", "AccordionParts", "AccordionAnatomy", "Interactivity", "template", "ds", "accordionTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeAccordion", "ds", "options", "styles", "DesignSystem", "AccordionAnatomy", "FASTAccordion", "template", "styleModules", "Styles", "plainTextStyles", "neutralStrokeSubtleRest", "strokeThickness", "templateStyles", "css", "aestheticStyles", "focusStrokeThickness", "focusStrokeOuter", "AccordionItemStatics", "AccordionItemConditions", "AccordionItemParts", "AccordionItemAnatomy", "Interactivity", "template", "ds", "accordionItemTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "svgIconStyles", "aestheticStyles", "composeAccordionItem", "ds", "options", "AccordionItemStatics", "styles", "DesignSystem", "AccordionItemAnatomy", "FASTAccordionItem", "template", "styleModules", "Styles", "plainTextStyles", "neutralStrokeSubtleRest", "strokeThickness", "AccordionItemAnatomy", "controlShapeStyles", "controlDensityStyles", "neutralForegroundStrongElementStyles", "accentForegroundReadableControlStyles", "AdaptiveAnchor", "FASTAnchor", "slottedElements", "x", "options", "templateStyles", "css", "aestheticStyles", "AnchorConditions", "AnchorParts", "AnchorAnatomy", "Interactivity", "Focus", "template", "ds", "anchorTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeAnchor", "ds", "options", "styles", "DesignSystem", "AnchorAnatomy", "AdaptiveAnchor", "template", "styleModules", "AnchorAnatomy", "Styles", "controlShapeStyles", "typeRampBaseStyles", "accentForegroundReadableControlStyles", "densityControl", "neutralForegroundStrongElementStyles", "templateStyles", "css", "aestheticStyles", "AnchoredRegionConditions", "AnchoredRegionParts", "AnchoredRegionAnatomy", "Interactivity", "template", "ds", "anchoredRegionTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeAnchoredRegion", "ds", "options", "styles", "DesignSystem", "AnchoredRegionAnatomy", "FASTAnchoredRegion", "template", "styleModules", "baseHeightMultiplier", "css", "density", "heightNumber", "templateStyles", "css", "aestheticStyles", "heightNumber", "AvatarConditions", "AvatarParts", "AvatarAnatomy", "Interactivity", "template", "ds", "avatarTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeAvatar", "ds", "options", "styles", "DesignSystem", "AvatarAnatomy", "FASTAvatar", "template", "styleModules", "typeRampBaseStyles", "AvatarAnatomy", "accentFillReadableControlStyles", "templateStyles", "css", "aestheticStyles", "designUnit", "strokeThickness", "BadgeConditions", "BadgeParts", "BadgeAnatomy", "Interactivity", "template", "ds", "badgeTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeBadge", "ds", "options", "styles", "DesignSystem", "BadgeAnatomy", "FASTBadge", "template", "styleModules", "typeRampMinus1Styles", "BadgeAnatomy", "Styles", "controlShapeStyles", "neutralFillReadableControlStyles", "templateStyles", "css", "aestheticStyles", "BreadcrumbConditions", "BreadcrumbParts", "BreadcrumbAnatomy", "Interactivity", "template", "ds", "breadcrumbTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeBreadcrumb", "ds", "options", "styles", "DesignSystem", "BreadcrumbAnatomy", "FASTBreadcrumb", "template", "styleModules", "AdaptiveBreadcrumbItem", "FASTBreadcrumbItem", "options", "templateStyles", "css", "aestheticStyles", "BreadcrumbItemStatics", "BreadcrumbItemConditions", "BreadcrumbItemParts", "BreadcrumbItemAnatomy", "Interactivity", "Focus", "template", "ds", "breadcrumbItemTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "svgIconStyles", "aestheticStyles", "composeBreadcrumbItem", "ds", "options", "BreadcrumbItemStatics", "styles", "DesignSystem", "BreadcrumbItemAnatomy", "AdaptiveBreadcrumbItem", "template", "styleModules", "plainTextStyles", "BreadcrumbItemAnatomy", "Styles", "controlShapeStyles", "controlDensityStyles", "neutralForegroundStrongElementStyles", "accentForegroundReadableControlStyles", "AdaptiveButton", "FASTButton", "slottedElements", "x", "options", "templateStyles", "css", "aestheticStyles", "ButtonConditions", "ButtonParts", "ButtonAnatomy", "Interactivity", "Focus", "template", "ds", "buttonTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeButton", "ds", "options", "styles", "DesignSystem", "ButtonAnatomy", "AdaptiveButton", "template", "styleModules", "ButtonAnatomy", "actionStyles", "templateStyles", "css", "aestheticStyles", "baseHeightMultiplier", "density", "designUnit", "neutralStrokeReadableRest", "strokeThickness", "accentFillReadableRest", "fillColor", "cornerRadiusControl", "neutralStrokeStrongRest", "neutralFillSubtleRest", "templateStyles", "css", "aestheticStyles", "DataGridCellConditions", "DataGridCellTypes", "DataGridCellParts", "DataGridCellAnatomy", "Interactivity", "Focus", "template", "ds", "dataGridCellTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeDataGridCell", "ds", "options", "styles", "DesignSystem", "DataGridCellAnatomy", "FASTDataGridCell", "template", "styleModules", "Styles", "controlShapeStyles", "controlDensityStyles", "plainTextStyles", "DataGridCellAnatomy", "templateStyles", "css", "aestheticStyles", "neutralFillSubtleRest", "cornerRadiusControl", "highlightStrokeReadableRest", "focusStrokeThickness", "heightNumber", "DataGridRowConditions", "DataGridRowTypes", "DataGridRowParts", "DataGridRowAnatomy", "Interactivity", "template", "ds", "dataGridRowTemplate", "composeDataGridCell", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeDataGridRow", "ds", "options", "styles", "DesignSystem", "DataGridRowAnatomy", "FASTDataGridRow", "template", "styleModules", "Styles", "neutralStrokeSubtleRest", "strokeThickness", "templateStyles", "css", "aestheticStyles", "DataGridConditions", "DataGridParts", "DataGridAnatomy", "Interactivity", "template", "ds", "dataGridTemplate", "composeDataGridRow", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeDataGrid", "ds", "options", "styles", "DesignSystem", "DataGridAnatomy", "FASTDataGrid", "template", "styleModules", "CalendarConditions", "CalendarParts", "CalendarAnatomy", "Interactivity", "template", "ds", "calendarTemplate", "composeDataGridCell", "composeDataGridRow", "composeDataGrid", "calendarTitleTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeCalendar", "ds", "options", "styles", "DesignSystem", "CalendarAnatomy", "FASTCalendar", "template", "styleModules", "plainTextStyles", "CalendarAnatomy", "controlShapeStyles", "templateStyles", "css", "aestheticStyles", "CardConditions", "CardParts", "CardAnatomy", "Interactivity", "template", "ds", "cardTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeCard", "ds", "options", "styles", "DesignSystem", "CardAnatomy", "FASTCard", "template", "styleModules", "Styles", "layerShapeStyles", "plainTextStyles", "shadowCardStyles", "layerFillInteractiveRest", "templateStyles", "css", "aestheticStyles", "heightNumber", "designUnit", "CheckboxStatics", "CheckboxConditions", "CheckboxParts", "CheckboxAnatomy", "Interactivity", "Focus", "template", "ds", "checkboxTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "svgIconStyles", "aestheticStyles", "composeCheckbox", "ds", "options", "CheckboxStatics", "styles", "DesignSystem", "CheckboxAnatomy", "FASTCheckbox", "template", "styleModules", "Styles", "densityControl", "CheckboxAnatomy", "plainTextStyles", "selectableUnselectedStyles", "selectableSelectedStyles", "AdaptiveCombobox", "FASTCombobox", "e", "options", "templateStyles", "css", "aestheticStyles", "ComboboxStatics", "ComboboxConditions", "ComboboxParts", "ComboboxAnatomy", "Interactivity", "Focus", "template", "ds", "comboboxTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "svgIconStyles", "aestheticStyles", "composeCombobox", "ds", "options", "ComboboxStatics", "styles", "DesignSystem", "ComboboxAnatomy", "AdaptiveCombobox", "template", "styleModules", "ComboboxAnatomy", "inputStyles", "Styles", "itemContainerDensityStyles", "flyoutStyles", "templateStyles", "css", "aestheticStyles", "DialogConditions", "DialogParts", "DialogAnatomy", "Interactivity", "template", "ds", "dialogTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeDialog", "ds", "options", "styles", "DesignSystem", "DialogAnatomy", "FASTDialog", "template", "styleModules", "DialogAnatomy", "Styles", "layerShapeStyles", "shadowDialogStyles", "layerFillFixedPlus1", "Color", "templateStyles", "css", "aestheticStyles", "DisclosureConditions", "DisclosureParts", "DisclosureAnatomy", "Interactivity", "Focus", "template", "ds", "disclosureTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeDisclosure", "ds", "options", "styles", "DesignSystem", "DisclosureAnatomy", "FASTDisclosure", "template", "styleModules", "typeRampBaseStyles", "DisclosureAnatomy", "Styles", "controlShapeStyles", "controlDensityStyles", "accentFillReadableControlStyles", "templateStyles", "css", "aestheticStyles", "DividerConditions", "DividerParts", "DividerAnatomy", "Interactivity", "template", "ds", "dividerTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeDivider", "ds", "options", "styles", "DesignSystem", "DividerAnatomy", "FASTDivider", "template", "styleModules", "DividerAnatomy", "Styles", "neutralStrokeSubtleRest", "strokeThickness", "templateStyles", "css", "aestheticStyles", "FlipperStatics", "FlipperConditions", "FlipperParts", "FlipperAnatomy", "Interactivity", "Focus", "template", "ds", "flipperTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "svgIconStyles", "aestheticStyles", "composeFlipper", "ds", "options", "FlipperStatics", "styles", "DesignSystem", "FlipperAnatomy", "FASTFlipper", "template", "styleModules", "Styles", "actionStyles", "roundShapeStyles", "controlSquareDensityStyles", "templateStyles", "css", "aestheticStyles", "actionsStyles", "HorizontalScrollConditions", "HorizontalScrollParts", "HorizontalScrollAnatomy", "Interactivity", "template", "ds", "options", "composeFlipper", "flipperTag", "html", "tagFor", "x", "c", "startSlotTemplate", "ref", "slotted", "elements", "when", "staticallyCompose", "endSlotTemplate", "AdaptiveHorizontalScroll", "FASTHorizontalScroll", "actionsStyles", "prev", "next", "HorizontalScrollView", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeHorizontalScroll", "ds", "options", "styles", "DesignSystem", "HorizontalScrollAnatomy", "AdaptiveHorizontalScroll", "template", "styleModules", "templateStyles", "css", "aestheticStyles", "focusStrokeThickness", "focusStrokeOuter", "ListboxConditions", "ListboxParts", "ListboxAnatomy", "Interactivity", "Focus", "template", "ds", "listboxTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeListbox", "ds", "options", "styles", "DesignSystem", "ListboxAnatomy", "FASTListboxElement", "template", "styleModules", "Styles", "controlShapeStyles", "itemContainerDensityStyles", "neutralOutlineDiscernibleControlStyles", "templateStyles", "css", "aestheticStyles", "ListboxOptionConditions", "ListboxOptionParts", "ListboxOptionAnatomy", "Interactivity", "template", "ds", "listboxOptionTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeListboxOption", "ds", "options", "styles", "DesignSystem", "ListboxOptionAnatomy", "FASTListboxOption", "template", "styleModules", "itemStyles", "ListboxOptionAnatomy", "selectableSelectedStyles", "AdaptiveMenuItem", "FASTMenuItem", "__decorate", "attr", "AdaptiveMenu", "_AdaptiveMenu", "FASTMenu", "el", "role", "startSlot", "MenuItemRole", "items", "item", "indentInfo", "accum", "current", "elementValue", "indent", "AdaptiveMenuItem", "templateStyles", "css", "aestheticStyles", "MenuConditions", "MenuParts", "MenuAnatomy", "Interactivity", "template", "ds", "menuTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeMenu", "ds", "options", "styles", "DesignSystem", "MenuAnatomy", "AdaptiveMenu", "template", "styleModules", "Styles", "itemContainerDensityStyles", "flyoutStyles", "templateStyles", "css", "aestheticStyles", "neutralFillStealthActive", "neutralStrokeReadableRest", "MenuItemStatics", "MenuItemConditions", "MenuItemParts", "MenuItemAnatomy", "Interactivity", "Focus", "template", "ds", "options", "templateCache", "setTemplateByRole", "role", "existing", "key", "optionsKey", "html", "staticallyCompose", "x", "MenuItemRole", "c", "when", "startSlotTemplate", "endSlotTemplate", "ref", "slotted", "elements", "defaultStyles", "componentBaseStyles", "templateStyles", "svgIconStyles", "aestheticStyles", "composeMenuItem", "ds", "options", "MenuItemStatics", "styles", "DesignSystem", "MenuItemAnatomy", "AdaptiveMenuItem", "template", "styleModules", "itemStyles", "AdaptiveNumberField", "FASTNumberField", "options", "templateStyles", "css", "aestheticStyles", "NumberFieldStatics", "NumberFieldConditions", "NumberFieldParts", "NumberFieldAnatomy", "Interactivity", "Focus", "template", "ds", "numberFieldTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "svgIconStyles", "aestheticStyles", "composeNumberField", "ds", "options", "NumberFieldStatics", "styles", "DesignSystem", "NumberFieldAnatomy", "AdaptiveNumberField", "template", "styleModules", "Styles", "typeRampBaseStyles", "densityControl", "NumberFieldAnatomy", "labelTextStyles", "inputAutofillStyles", "autofillInnerDensityStyles", "templateStyles", "css", "aestheticStyles", "templateStyles", "css", "aestheticStyles", "focusStrokeThickness", "focusStrokeOuter", "densityControl", "PickerListConditions", "PickerListParts", "PickerListAnatomy", "Interactivity", "template", "ds", "pickerListTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composePickerList", "ds", "options", "styles", "DesignSystem", "PickerListAnatomy", "FASTPickerList", "template", "styleModules", "Styles", "controlShapeStyles", "typeRampBaseStyles", "neutralOutlineDiscernibleControlStyles", "templateStyles", "css", "aestheticStyles", "PickerMenuConditions", "PickerMenuParts", "PickerMenuAnatomy", "Interactivity", "template", "ds", "pickerMenuTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composePickerMenu", "ds", "options", "styles", "DesignSystem", "PickerMenuAnatomy", "FASTPickerMenu", "template", "styleModules", "Styles", "itemContainerDensityStyles", "flyoutStyles", "templateStyles", "css", "aestheticStyles", "PickerListItemConditions", "PickerListItemParts", "PickerListItemAnatomy", "Interactivity", "Focus", "template", "ds", "pickerListItemTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composePickerListItem", "ds", "options", "styles", "DesignSystem", "PickerListItemAnatomy", "FASTPickerListItem", "template", "styleModules", "itemStyles", "templateStyles", "css", "aestheticStyles", "PickerMenuOptionConditions", "PickerMenuOptionParts", "PickerMenuOptionAnatomy", "Interactivity", "template", "ds", "pickerMenuOptionTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composePickerMenuOption", "ds", "options", "styles", "DesignSystem", "PickerMenuOptionAnatomy", "FASTPickerMenuOption", "template", "styleModules", "itemStyles", "PickerMenuOptionAnatomy", "highlightFillReadableControlStyles", "templateStyles", "css", "aestheticStyles", "heightNumber", "ProgressRingConditions", "ProgressRingParts", "ProgressRingAnatomy", "Interactivity", "progressRingIndicatorTemplate", "html", "template", "ds", "options", "x", "when", "staticallyCompose", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeProgressRing", "ds", "options", "styles", "DesignSystem", "ProgressRingAnatomy", "FASTProgressRing", "template", "styleModules", "Styles", "neutralFillSubtleRest", "ProgressRingAnatomy", "accentFillReadableRest", "PickerConditions", "PickerParts", "PickerAnatomy", "Interactivity", "template", "ds", "pickerTemplate", "composeAnchoredRegion", "composePickerList", "composePickerListItem", "composePickerMenu", "composePickerMenuOption", "composeProgressRing", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composePicker", "ds", "options", "styles", "DesignSystem", "PickerAnatomy", "FASTPicker", "template", "menuStyles", "Styles", "plainTextStyles", "itemContainerDensityStyles", "flyoutStyles", "styleModules", "PickerAnatomy", "templateStyles", "css", "aestheticStyles", "designUnit", "ProgressConditions", "ProgressParts", "ProgressAnatomy", "Interactivity", "progressIndicatorTemplate", "html", "template", "ds", "options", "x", "when", "staticallyCompose", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeProgress", "ds", "options", "styles", "DesignSystem", "ProgressAnatomy", "FASTProgress", "template", "styleModules", "Styles", "neutralFillSubtleRest", "CornerRadius", "designUnit", "ProgressAnatomy", "accentFillReadableRest", "templateStyles", "css", "aestheticStyles", "heightNumber", "designUnit", "RadioStatics", "RadioConditions", "RadioParts", "RadioAnatomy", "Interactivity", "Focus", "template", "ds", "radioTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "svgIconStyles", "aestheticStyles", "composeRadio", "ds", "options", "RadioStatics", "styles", "DesignSystem", "RadioAnatomy", "FASTRadio", "template", "styleModules", "Styles", "densityControl", "RadioAnatomy", "plainTextStyles", "selectableUnselectedStyles", "roundShapeStyles", "selectableSelectedStyles", "templateStyles", "css", "aestheticStyles", "RadioGroupConditions", "RadioGroupParts", "RadioGroupAnatomy", "Interactivity", "template", "ds", "radioGroupTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeRadioGroup", "ds", "options", "styles", "DesignSystem", "RadioGroupAnatomy", "FASTRadioGroup", "template", "styleModules", "Styles", "densityControl", "RadioGroupAnatomy", "AdaptiveSearch", "FASTSearch", "options", "templateStyles", "css", "aestheticStyles", "heightNumber", "designUnit", "density", "SearchConditions", "SearchParts", "SearchAnatomy", "Interactivity", "Focus", "template", "ds", "searchTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeSearch", "ds", "options", "styles", "DesignSystem", "SearchAnatomy", "AdaptiveSearch", "template", "styleModules", "Styles", "typeRampBaseStyles", "densityControl", "SearchAnatomy", "labelTextStyles", "inputStyles", "controlShapeStyles", "neutralFillStealthControlStyles", "AdaptiveSelect", "FASTSelect", "prev", "next", "css", "templateStyles", "css", "aestheticStyles", "focusStrokeThickness", "focusStrokeOuter", "heightNumber", "designUnit", "strokeThickness", "SelectStatics", "SelectConditions", "SelectParts", "SelectAnatomy", "Interactivity", "Focus", "template", "ds", "selectTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "svgIconStyles", "aestheticStyles", "composeSelect", "ds", "options", "SelectStatics", "styles", "DesignSystem", "SelectAnatomy", "AdaptiveSelect", "template", "styleModules", "SelectAnatomy", "inputStyles", "Styles", "itemContainerDensityStyles", "controlShapeStyles", "neutralOutlineDiscernibleControlStyles", "flyoutStyles", "templateStyles", "css", "aestheticStyles", "neutralFillSubtleHover", "SkeletonConditions", "SkeletonParts", "SkeletonAnatomy", "Interactivity", "template", "ds", "html", "when", "x", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeSkeleton", "ds", "options", "styles", "DesignSystem", "SkeletonAnatomy", "FASTSkeleton", "template", "styleModules", "Styles", "neutralFillSubtleRest", "SkeletonAnatomy", "controlShapeStyles", "roundShapeStyles", "templateStyles", "css", "aestheticStyles", "designUnit", "SliderConditions", "SliderParts", "SliderAnatomy", "Interactivity", "Focus", "template", "ds", "html", "x", "ref", "staticallyCompose", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeSlider", "ds", "options", "styles", "DesignSystem", "SliderAnatomy", "FASTSlider", "template", "styleModules", "controlShapeStyles", "SliderAnatomy", "Styles", "neutralStrokeDiscernibleRest", "highlightFillReadableControlStyles", "roundShapeStyles", "templateStyles", "css", "aestheticStyles", "SliderLabelConditions", "SliderLabelParts", "SliderLabelAnatomy", "Interactivity", "template", "ds", "html", "x", "when", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeSliderLabel", "ds", "options", "styles", "DesignSystem", "SliderLabelAnatomy", "FASTSliderLabel", "template", "styleModules", "typeRampMinus1Styles", "SliderLabelAnatomy", "Styles", "neutralStrokeSubtleRest", "css", "designUnit", "templateStyles", "css", "aestheticStyles", "heightNumber", "designUnit", "SwitchConditions", "SwitchParts", "SwitchAnatomy", "Interactivity", "Focus", "template", "ds", "switchTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeSwitch", "ds", "options", "styles", "DesignSystem", "SwitchAnatomy", "FASTSwitch", "template", "styleModules", "Styles", "densityControl", "SwitchAnatomy", "plainTextStyles", "selectableUnselectedStyles", "roundShapeStyles", "selectableSelectedStyles", "templateStyles", "css", "aestheticStyles", "TabConditions", "TabParts", "TabAnatomy", "Interactivity", "Focus", "template", "ds", "tabTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeTab", "ds", "options", "styles", "DesignSystem", "TabAnatomy", "FASTTab", "template", "styleModules", "itemStyles", "templateStyles", "css", "aestheticStyles", "TabPanelConditions", "TabPanelParts", "TabPanelAnatomy", "Interactivity", "template", "ds", "tabPanelTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeTabPanel", "ds", "options", "styles", "DesignSystem", "TabPanelAnatomy", "FASTTabPanel", "template", "styleModules", "Styles", "plainTextStyles", "controlDensityStyles", "templateStyles", "css", "aestheticStyles", "cornerRadiusControl", "highlightStrokeReadableRest", "focusStrokeThickness", "heightNumber", "TabsConditions", "TabsParts", "TabsAnatomy", "Interactivity", "template", "ds", "tabsTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeTabs", "ds", "options", "styles", "DesignSystem", "TabsAnatomy", "FASTTabs", "template", "styleModules", "plainTextStyles", "AdaptiveTextArea", "FASTTextArea", "options", "templateStyles", "css", "aestheticStyles", "TextAreaConditions", "TextAreaParts", "TextAreaAnatomy", "Interactivity", "Focus", "template", "ds", "textAreaTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeTextArea", "ds", "options", "styles", "DesignSystem", "TextAreaAnatomy", "AdaptiveTextArea", "template", "styleModules", "Styles", "typeRampBaseStyles", "densityControl", "TextAreaAnatomy", "labelTextStyles", "inputStyles", "AdaptiveTextField", "FASTTextField", "options", "templateStyles", "css", "aestheticStyles", "TextFieldConditions", "TextFieldParts", "TextFieldAnatomy", "Interactivity", "Focus", "template", "ds", "textFieldTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeTextField", "ds", "options", "styles", "DesignSystem", "TextFieldAnatomy", "AdaptiveTextField", "template", "styleModules", "Styles", "typeRampBaseStyles", "densityControl", "TextFieldAnatomy", "labelTextStyles", "inputAutofillStyles", "autofillInnerDensityStyles", "templateStyles", "css", "aestheticStyles", "ToolbarConditions", "ToolbarParts", "ToolbarAnatomy", "Interactivity", "template", "ds", "toolbarTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeToolbar", "ds", "options", "styles", "DesignSystem", "ToolbarAnatomy", "FASTToolbar", "template", "styleModules", "Styles", "neutralStrokeStrong", "densityControl", "ToolbarAnatomy", "templateStyles", "css", "aestheticStyles", "TooltipConditions", "TooltipParts", "TooltipAnatomy", "Interactivity", "template", "ds", "tooltipTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeTooltip", "ds", "options", "styles", "DesignSystem", "TooltipAnatomy", "FASTTooltip", "template", "styleModules", "Styles", "controlShapeStyles", "controlDensityStyles", "plainTextStyles", "shadowTooltipStyles", "BorderFill", "neutralStrokeSubtleRest", "neutralFillSubtleRest", "expandCollapseHover", "DesignToken", "resolve", "recipe", "neutralFillStealthRecipe", "selectedExpandCollapseHover", "baseRecipe", "neutralFillSubtleRecipe", "templateStyles", "css", "aestheticStyles", "neutralFillSubtleRest", "heightNumber", "focusStrokeThickness", "cornerRadiusControl", "highlightStrokeReadableRest", "TreeItemStatics", "TreeItemConditions", "TreeItemParts", "TreeItemAnatomy", "Interactivity", "Focus", "template", "ds", "options", "html", "x", "c", "children", "elements", "when", "ref", "staticallyCompose", "startSlotTemplate", "endSlotTemplate", "slotted", "defaultStyles", "componentBaseStyles", "templateStyles", "svgIconStyles", "aestheticStyles", "composeTreeItem", "ds", "options", "TreeItemStatics", "styles", "DesignSystem", "TreeItemAnatomy", "FASTTreeItem", "template", "styleModules", "TreeItemAnatomy", "itemStyles", "templateStyles", "css", "aestheticStyles", "TreeViewConditions", "TreeViewParts", "TreeViewAnatomy", "Interactivity", "template", "ds", "treeViewTemplate", "defaultStyles", "componentBaseStyles", "templateStyles", "aestheticStyles", "composeTreeView", "ds", "options", "styles", "DesignSystem", "TreeViewAnatomy", "FASTTreeView", "template", "styleModules", "accordionDefinition", "composeAccordion", "DefaultDesignSystem", "styleModules", "svgIcon", "path", "className", "checkboxIcon", "checkboxIndeterminateIcon", "radioIcon", "chevronDownIcon", "chevronLeftIcon", "chevronRightIcon", "chevronUpIcon", "accordionItemDefinition", "composeAccordionItem", "DefaultDesignSystem", "AccordionItemStatics", "chevronDownIcon", "chevronUpIcon", "styleModules", "anchorDefinition", "composeAnchor", "DefaultDesignSystem", "styleModules", "anchoredRegionDefinition", "composeAnchoredRegion", "DefaultDesignSystem", "styleModules", "avatarDefinition", "composeAvatar", "DefaultDesignSystem", "styleModules", "badgeDefinition", "composeBadge", "DefaultDesignSystem", "styleModules", "breadcrumbDefinition", "composeBreadcrumb", "DefaultDesignSystem", "styleModules", "breadcrumbItemDefinition", "composeBreadcrumbItem", "DefaultDesignSystem", "BreadcrumbItemStatics", "chevronRightIcon", "styleModules", "buttonDefinition", "composeButton", "DefaultDesignSystem", "styleModules", "calendarDefinition", "composeCalendar", "DefaultDesignSystem", "styleModules", "cardDefinition", "composeCard", "DefaultDesignSystem", "styleModules", "checkboxDefinition", "composeCheckbox", "DefaultDesignSystem", "CheckboxStatics", "checkboxIcon", "checkboxIndeterminateIcon", "styleModules", "comboboxDefinition", "composeCombobox", "DefaultDesignSystem", "ComboboxStatics", "chevronDownIcon", "styleModules", "dataGridDefinition", "composeDataGrid", "DefaultDesignSystem", "styleModules", "dataGridCellDefinition", "composeDataGridCell", "DefaultDesignSystem", "styleModules", "dataGridRowDefinition", "composeDataGridRow", "DefaultDesignSystem", "styleModules", "dialogDefinition", "composeDialog", "DefaultDesignSystem", "styleModules", "disclosureDefinition", "composeDisclosure", "DefaultDesignSystem", "styleModules", "dividerDefinition", "composeDivider", "DefaultDesignSystem", "styleModules", "flipperDefinition", "composeFlipper", "DefaultDesignSystem", "FlipperStatics", "chevronLeftIcon", "chevronRightIcon", "styleModules", "horizontalScrollDefinition", "composeHorizontalScroll", "DefaultDesignSystem", "styleModules", "listboxDefinition", "composeListbox", "DefaultDesignSystem", "styleModules", "listboxOptionDefinition", "composeListboxOption", "DefaultDesignSystem", "styleModules", "menuDefinition", "composeMenu", "DefaultDesignSystem", "styleModules", "menuItemDefinition", "composeMenuItem", "DefaultDesignSystem", "MenuItemStatics", "checkboxIcon", "radioIcon", "chevronRightIcon", "styleModules", "numberFieldDefinition", "composeNumberField", "DefaultDesignSystem", "NumberFieldStatics", "chevronDownIcon", "chevronUpIcon", "styleModules", "pickerDefinition", "composePicker", "DefaultDesignSystem", "styleModules", "pickerListDefinition", "composePickerList", "DefaultDesignSystem", "styleModules", "pickerListItemDefinition", "composePickerListItem", "DefaultDesignSystem", "styleModules", "pickerMenuDefinition", "composePickerMenu", "DefaultDesignSystem", "styleModules", "pickerMenuOptionDefinition", "composePickerMenuOption", "DefaultDesignSystem", "styleModules", "progressDefinition", "composeProgress", "DefaultDesignSystem", "styleModules", "progressRingDefinition", "composeProgressRing", "DefaultDesignSystem", "styleModules", "radioDefinition", "composeRadio", "DefaultDesignSystem", "RadioStatics", "radioIcon", "styleModules", "radioGroupDefinition", "composeRadioGroup", "DefaultDesignSystem", "styleModules", "searchDefinition", "composeSearch", "DefaultDesignSystem", "styleModules", "selectDefinition", "composeSelect", "DefaultDesignSystem", "SelectStatics", "chevronDownIcon", "styleModules", "skeletonDefinition", "composeSkeleton", "DefaultDesignSystem", "styleModules", "sliderDefinition", "composeSlider", "DefaultDesignSystem", "styleModules", "sliderLabelDefinition", "composeSliderLabel", "DefaultDesignSystem", "styleModules", "switchDefinition", "composeSwitch", "DefaultDesignSystem", "styleModules", "tabDefinition", "composeTab", "DefaultDesignSystem", "styleModules", "tabPanelDefinition", "composeTabPanel", "DefaultDesignSystem", "styleModules", "tabsDefinition", "composeTabs", "DefaultDesignSystem", "styleModules", "textAreaDefinition", "composeTextArea", "DefaultDesignSystem", "styleModules", "textFieldDefinition", "composeTextField", "DefaultDesignSystem", "styleModules", "toolbarDefinition", "composeToolbar", "DefaultDesignSystem", "styleModules", "tooltipDefinition", "composeTooltip", "DefaultDesignSystem", "styleModules", "treeItemDefinition", "composeTreeItem", "DefaultDesignSystem", "TreeItemStatics", "chevronRightIcon", "styleModules", "treeViewDefinition", "composeTreeView", "DefaultDesignSystem", "styleModules", "AllComponents", "accordionDefinition", "accordionItemDefinition", "anchorDefinition", "anchoredRegionDefinition", "avatarDefinition", "badgeDefinition", "breadcrumbDefinition", "breadcrumbItemDefinition", "buttonDefinition", "calendarDefinition", "cardDefinition", "checkboxDefinition", "comboboxDefinition", "dataGridDefinition", "dataGridCellDefinition", "dataGridRowDefinition", "dialogDefinition", "disclosureDefinition", "dividerDefinition", "flipperDefinition", "horizontalScrollDefinition", "listboxDefinition", "listboxOptionDefinition", "menuDefinition", "menuItemDefinition", "numberFieldDefinition", "pickerDefinition", "pickerListDefinition", "pickerListItemDefinition", "pickerMenuDefinition", "pickerMenuOptionDefinition", "progressDefinition", "progressRingDefinition", "radioDefinition", "radioGroupDefinition", "searchDefinition", "selectDefinition", "skeletonDefinition", "sliderDefinition", "sliderLabelDefinition", "switchDefinition", "tabDefinition", "tabPanelDefinition", "tabsDefinition", "textAreaDefinition", "textFieldDefinition", "toolbarDefinition", "tooltipDefinition", "treeItemDefinition", "treeViewDefinition", "DesignToken", "DefaultDesignSystem", "AllComponents", "afterWebStarted", "blazor", "event"]
}
